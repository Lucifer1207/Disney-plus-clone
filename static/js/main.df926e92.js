/*! For license information please see main.df926e92.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},244:function(e,t,n){var r=n(447),i=n(51).each;function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=a},0:function(e,t,n){var r=n(244),i=n(51),a=i.each,o=i.isFunction,u=i.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}s.prototype={constructor:s,register:function(e,t,n){var i=this.queries,s=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,s)),o(t)&&(t={match:t}),u(t)||(t=[t]),a(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=s},447:function(e){function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},51:function(e){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},153:function(e,t,n){var r=n(0);e.exports=new r},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},477:function(e,t,n){var r=n(806),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,a){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},95:function(e,t,n){var r=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,h=l||f||Function("return this")(),d=Object.prototype.toString,p=Math.max,v=Math.min,y=function(){return h.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==i}(e))return r;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=function(e,t,n){var r,i,a,o,u,s,c=0,l=!1,f=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function k(e){var n=e-s;return void 0===s||n>=t||n<0||f&&e-c>=a}function b(){var e=y();if(k(e))return w(e);u=setTimeout(b,function(e){var n=t-(e-s);return f?v(n,a-(e-c)):n}(e))}function w(e){return u=void 0,h&&r?d(e):(r=i=void 0,o)}function _(){var e=y(),n=k(e);if(r=arguments,i=this,s=e,n){if(void 0===u)return function(e){return c=e,u=setTimeout(b,t),l?d(e):o}(s);if(f)return u=setTimeout(b,t),d(s)}return void 0===u&&(u=setTimeout(b,t)),o}return t=g(t)||0,m(n)&&(l=!!n.leading,a=(f="maxWait"in n)?p(g(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==u&&clearTimeout(u),c=0,r=s=i=u=void 0},_.flush=function(){return void 0===u?o:w(y())},_}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ie(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Oe(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Se)&&(Oe(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,je=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Et,It=!1,Tt=[],Ct=null,Ot=null,At=null,Pt=new Map,Nt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Ot&&Ft(Ot)&&(Ot=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Nt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Ot&&zt(Ot,e),null!==At&&zt(At,e),Pt.forEach(t),Nt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),yn=an(j({},fn,{relatedTarget:0})),mn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var In=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(Pn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ie(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function $n(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Or=Er("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(Ir,"onAnimationEnd"),Nr(Tr,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Ir:case Tr:case Cr:s=mn;break;case Or:s=An;break;case"scroll":s=hn;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ne(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Yn;else if(Wn(u))if(Xn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(m=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ne(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Ne(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ii(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Oi=Si(!1),Ai=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Oi),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Oi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ii(Ci,e),Ii(Oi,Oi.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Oi),Ei(Ci),Ii(Ci,e)):Ei(Oi),Ii(Oi,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ma.current;Ei(ma),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Os)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);js|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ni(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ni(t)?Ai:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Ji(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case N:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ii(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function Oo(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,js|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,js|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function No(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function jo(e){var t=Oa(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,js|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Fo,useDebugValue:$o,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Oo,useRef:Vo,useState:function(){return Oo(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),yo.memoizedState,e)},useTransition:function(){return[Oo(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:No,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Jo(t,yo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:No,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ds,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ds,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ds,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ds,Rs),Rs|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Ni(n)?Ai:Ci.current;return a=Pi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Cu(e,t,n,r,i){if(Ni(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Wu(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Ni(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Oi.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Na(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Pi(t,s=Ni(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Oi.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ou(e,t,n,r,a,i)}function Ou(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Pu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Nu,Ru,Du,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function ju(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=jc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=ju(n),t.memoizedState=Mu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=ju(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Oa(e,i),rc(r,e,i,-1))}return yc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?ju(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Ni(t.type)&&Ri(),Gu(t),null;case 3:return r=t.stateNode,io(),Ei(Oi),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ru(e,t),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Nu(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):yc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),Ru(e,t),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return _a(t.type._context),Gu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Ni(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Oi),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Nu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ys(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ys(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(y){Ec(e,e.return,y)}try{rs(5,e,e.return)}catch(y){Ec(e,e.return,y)}}break;case 1:ys(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ys(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Ec(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Ec(e,e.return,y)}}break;case 6:if(ys(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Ec(e,e.return,y)}}break;case 3:if(ys(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(y){Ec(e,e.return,y)}break;case 4:default:ys(t,e),gs(e);break;case 13:ys(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ys(t,e),Xu=l):ys(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Ec(r,n,y)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){_s(h);continue}}null!==p?(p.return=d,Zu=p):_s(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Ec(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Ec(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ys(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Yu;var c=Xu;if(Yu=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Zu=s):xs(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,Yu=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Ss,Es=Math.ceil,Is=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,Os=0,As=null,Ps=null,Ns=0,Rs=0,Ds=Si(0),Ls=0,Ms=null,js=0,Fs=0,Us=0,Vs=null,zs=null,Bs=0,qs=1/0,Ws=null,Hs=!1,Ks=null,Gs=null,Qs=!1,$s=null,Ys=0,Xs=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&Os)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Os)&&0!==Ns?Ns&-Ns:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));mt(e,n,r),0!==(2&Os)&&e===As||(e===As&&(0===(2&Os)&&(Fs|=n),4===Ls&&sc(e,Ns)),ic(e,r),1===n&&0===Os&&0===(1&t.mode)&&(qs=Xe()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Ns:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Os)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&Os))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ns:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Os;Os|=2;var o=vc();for(As===e&&Ns===t||(Ws=null,qs=Xe()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Is.current=o,Os=i,null!==Ps?t=0:(As=null,Ns=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zs,Ws);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zs,Ws),t);break}_c(e,zs,Ws);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zs,Ws),r);break}_c(e,zs,Ws);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Os))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zs,Ws),ic(e,Xe()),null}function lc(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(qs=Xe()+500,Ui&&Bi())}}function fc(e){null!==$s&&0===$s.tag&&0===(6&Os)&&xc();var t=Os;Os|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(Os=t))&&Bi()}}function hc(){Rs=Ds.current,Ei(Ds)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(Oi),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(As=e,Ps=e=Dc(e.current,null),Ns=Rs=t,Ls=0,Ms=null,Us=Fs=js=0,zs=Vs=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Ps;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Ps=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ns,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),yc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function vc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function yc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===As||0===(268435455&js)&&0===(268435455&Fs)||sc(As,Ns)}function mc(e,t){var n=Os;Os|=2;var r=vc();for(As===e&&Ns===t||(Ws=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Os=n,Is.current=r,null!==Ps)throw Error(a(261));return As=null,Ns=0,Ls}function gc(){for(;null!==Ps;)bc(Ps)}function kc(){for(;null!==Ps&&!$e();)bc(Ps)}function bc(e){var t=Ss(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?wc(e):Ps=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Rs)))return void(Ps=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Ps=n);if(null===e)return Ls=6,void(Ps=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Ls&&(Ls=5)}function _c(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==$s);if(0!==(6&Os))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ps=As=null,Ns=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=Os;Os|=4,Ts.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Ye(),Os=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,$s=e,Ys=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Ks,Ks=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function xc(){if(null!==$s){var e=bt(Ys),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Ys=0,0!==(6&Os))throw Error(a(331));var i=Os;for(Os|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(_){Ec(s,s.return,_)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Os=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(mt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(mt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ns&n)===n&&(4===Ls||3===Ls&&(130023424&Ns)===Ns&&500>Xe()-Bs?dc(e,0):Us|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Oa(e,t))&&(mt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=Nc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case O:return(e=Nc(13,n,t,i)).elementType=O,e.lanes=o,e;case A:return(e=Nc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case P:u=14;break e;case N:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,mt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Ni(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ii(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Hu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ou(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Na(e,t),ja(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Pu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Oi.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),xu(e,t,r,i=ya(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Wu(e,t),t.tag=1,Ni(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ha(t,r,i,n),Ou(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Os)&&(qs=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Oa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Oa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Oe=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},436:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=u(n(791)),a=u(n(694)),o=n(26);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var k=function(e){v(n,e);var t=m(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,l(l({},n),r)):i.default.createElement("button",s({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent);t.PrevArrow=k;var b=function(e){v(n,e);var t=m(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,l(l({},n),r)):i.default.createElement("button",s({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent);t.NextArrow=b},484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r};var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=a},800:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=u(n(791)),a=u(n(694)),o=n(26);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(d,e);var t,n,r,u=h(d);function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),u.apply(this,arguments)}return t=d,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,u=t.onMouseLeave,l=t.infinite,f=t.slidesToScroll,h=t.slidesToShow,d=t.slideCount,p=t.currentSlide,v=(e={slideCount:d,slidesToScroll:f,slidesToShow:h,infinite:l}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,y={onMouseEnter:n,onMouseOver:r,onMouseLeave:u},m=[],g=0;g<v;g++){var k=(g+1)*f-1,b=l?k:(0,o.clamp)(k,0,d-1),w=b-(f-1),_=l?w:(0,o.clamp)(w,0,d-1),x=(0,a.default)({"slick-active":l?p>=_&&p<=b:p===_}),S={message:"dots",index:g,slidesToScroll:f,currentSlide:p},E=this.clickHandler.bind(this,S);m=m.concat(i.default.createElement("li",{key:g,className:x},i.default.cloneElement(this.props.customPaging(g),{onClick:E})))}return i.default.cloneElement(this.props.appendDots(m),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},y))}}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.default.PureComponent);t.Dots=p},717:function(e,t,n){"use strict";var r;t.Z=void 0;var i=((r=n(178))&&r.__esModule?r:{default:r}).default;t.Z=i},382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(791)),i=h(n(382)),a=h(n(95)),o=h(n(694)),u=n(26),s=n(931),c=n(800),l=n(436),f=h(n(474));function h(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(_,e);var t,n,h,y=b(_);function _(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),x(w(t=y.call(this,e)),"listRefHandler",(function(e){return t.list=e})),x(w(t),"trackRefHandler",(function(e){return t.track=e})),x(w(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,u.getHeight)(e)+"px"}})),x(w(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,u.getOnDemandLazySlides)(m(m({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=m({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new f.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),x(w(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),x(w(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,u.getOnDemandLazySlides)(m(m({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=m(m({listRef:t.list,trackRef:t.track},t.props),t.state),a=t.didPropsChange(e);a&&t.updateState(i,a,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),x(w(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,a.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),x(w(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=m(m({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),x(w(t),"updateState",(function(e,n,i){var a=(0,u.initializedState)(e);e=m(m(m({},e),a),{},{slideIndex:a.currentSlide});var o=(0,u.getTrackLeft)(e);e=m(m({},e),{},{left:o});var s=(0,u.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(a.trackStyle=s),t.setState(a,i)})),x(w(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],a=(0,u.getPreClones)(m(m(m({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,u.getPostClones)(m(m(m({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var s=0;s<a;s++)n+=i[i.length-1-s],e+=i[i.length-1-s];for(var c=0;c<o;c++)e+=i[c];for(var l=0;l<t.state.currentSlide;l++)n+=i[l];var f={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(i[t.state.currentSlide],"px");f.left="calc(".concat(f.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:f}}var d=r.default.Children.count(t.props.children),p=m(m(m({},t.props),t.state),{},{slideCount:d}),v=(0,u.getPreClones)(p)+(0,u.getPostClones)(p)+d,y=100/t.props.slidesToShow*v,g=100/v,k=-g*((0,u.getPreClones)(p)+t.state.currentSlide)*y/100;return t.props.centerMode&&(k+=(100-g*y/100)/2),{slideWidth:g+"%",trackStyle:{width:y+"%",left:k+"%"}}})),x(w(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(){a(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),x(w(t),"progressiveLazyLoad",(function(){for(var e=[],n=m(m({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,u.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,u.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),x(w(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,a=r.beforeChange,o=r.onLazyLoad,s=r.speed,c=r.afterChange,l=t.state.currentSlide,f=(0,u.slideHandler)(m(m(m({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=f.state,d=f.nextState;if(h){a&&a(l,h.currentSlide);var p=h.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&p.length>0&&o(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(l),delete t.animationEndCallback),t.setState(h,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),d&&(t.animationEndCallback=setTimeout((function(){var e=d.animating,n=v(d,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(h.currentSlide),delete t.animationEndCallback}))}),s))}))}})),x(w(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=m(m({},t.props),t.state),i=(0,u.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var a=t.list.querySelectorAll(".slick-current");a[0]&&a[0].focus()}})),x(w(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),x(w(t),"keyHandler",(function(e){var n=(0,u.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),x(w(t),"selectHandler",(function(e){t.changeSlide(e)})),x(w(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),x(w(t),"enableBodyScroll",(function(){window.ontouchmove=null})),x(w(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,u.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),x(w(t),"swipeMove",(function(e){var n=(0,u.swipeMove)(e,m(m(m({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),x(w(t),"swipeEnd",(function(e){var n=(0,u.swipeEnd)(e,m(m(m({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),x(w(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),x(w(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),x(w(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),x(w(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),x(w(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,u.canGoNext)(m(m({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),x(w(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),x(w(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),x(w(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),x(w(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),x(w(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),x(w(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),x(w(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),x(w(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),x(w(t),"render",(function(){var e,n,i,a=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),f=m(m({},t.props),t.state),h=(0,u.extractObject)(f,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),d=t.props.pauseOnHover;if(h=m(m({},h),{},{onMouseEnter:d?t.onTrackOver:null,onMouseLeave:d?t.onTrackLeave:null,onMouseOver:d?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var v=(0,u.extractObject)(f,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),y=t.props.pauseOnDotsHover;v=m(m({},v),{},{clickHandler:t.changeSlide,onMouseEnter:y?t.onDotsLeave:null,onMouseOver:y?t.onDotsOver:null,onMouseLeave:y?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,v)}var g=(0,u.extractObject)(f,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(l.PrevArrow,g),i=r.default.createElement(l.NextArrow,g));var k=null;t.props.vertical&&(k={height:t.state.listHeight});var b=null;!1===t.props.vertical?!0===t.props.centerMode&&(b={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(b={padding:t.props.centerPadding+" 0px"});var w=m(m({},k),b),_=t.props.touchMove,x={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:_?t.swipeStart:null,onMouseMove:t.state.dragging&&_?t.swipeMove:null,onMouseUp:_?t.swipeEnd:null,onMouseLeave:t.state.dragging&&_?t.swipeEnd:null,onTouchStart:_?t.swipeStart:null,onTouchMove:t.state.dragging&&_?t.swipeMove:null,onTouchEnd:_?t.touchEnd:null,onTouchCancel:t.state.dragging&&_?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},S={className:a,dir:"ltr",style:t.props.style};return t.props.unslick&&(x={className:"slick-list"},S={className:a}),r.default.createElement("div",S,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},x),r.default.createElement(s.Track,p({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=m(m({},i.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=m(m({},t.state),n),t}return t=_,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var a=i[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==d(e[a])&&"function"!==typeof e[a]&&e[a]!==this.props[a]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&g(t.prototype,n),h&&g(t,h),Object.defineProperty(t,"prototype",{writable:!1}),_}(r.default.Component);t.InnerSlider=S},178:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(791)),a=n(293),o=c(n(477)),u=c(n(484)),s=n(26);function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=(0,s.canUseDOM)()&&n(153),b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(f,e);var t,n,r,c=v(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),g(y(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),g(y(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),g(y(t),"slickNext",(function(){return t.innerSlider.slickNext()})),g(y(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),g(y(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),g(y(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=f,(n=[{key:"media",value:function(e,t){k.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,o.default)({minWidth:0,maxWidth:n}):(0,o.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,s.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,o.default)({minWidth:t.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){k.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},u.default),this.props),t[0].settings):h(h({},u.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=i.default.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var o=[],s=null,c=0;c<r.length;c+=e.rows*e.slidesPerRow){for(var f=[],d=c;d<c+e.rows*e.slidesPerRow;d+=e.slidesPerRow){for(var p=[],v=d;v<d+e.slidesPerRow&&(e.variableWidth&&r[v].props.style&&(s=r[v].props.style.width),!(v>=r.length));v+=1)p.push(i.default.cloneElement(r[v],{key:100*c+10*d+v,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));f.push(i.default.createElement("div",{key:10*c+d},p))}e.variableWidth?o.push(i.default.createElement("div",{key:c,style:{width:s}},f)):o.push(i.default.createElement("div",{key:c},f))}if("unslick"===e){var y="regular slider "+(this.props.className||"");return i.default.createElement("div",{className:y},r)}return o.length<=e.slidesToShow&&(e.unslick=!0),i.default.createElement(a.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},e),o)}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(i.default.Component);t.default=b},931:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=u(n(791)),a=u(n(694)),o=n(26);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n,r,i,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-i-1&&a<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},g=function(e,t){return e.key||t},k=function(e){var t,n=[],r=[],u=[],s=i.default.Children.count(e.children),c=(0,o.lazyStartIndex)(e),l=(0,o.lazyEndIndex)(e);return i.default.Children.forEach(e.children,(function(f,h){var d,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};d=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?f:i.default.createElement("div",null);var y=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(v(v({},e),{},{index:h})),k=d.props.className||"",b=m(v(v({},e),{},{index:h}));if(n.push(i.default.cloneElement(d,{key:"original"+g(d,h),"data-index":h,className:(0,a.default)(b,k),tabIndex:"-1","aria-hidden":!b["slick-active"],style:v(v({outline:"none"},d.props.style||{}),y),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var w=s-h;w<=(0,o.getPreClones)(e)&&s!==e.slidesToShow&&((t=-w)>=c&&(d=f),b=m(v(v({},e),{},{index:t})),r.push(i.default.cloneElement(d,{key:"precloned"+g(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(b,k),"aria-hidden":!b["slick-active"],style:v(v({},d.props.style||{}),y),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),s!==e.slidesToShow&&((t=s+h)<l&&(d=f),b=m(v(v({},e),{},{index:t})),u.push(i.default.cloneElement(d,{key:"postcloned"+g(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(b,k),"aria-hidden":!b["slick-active"],style:v(v({},d.props.style||{}),y),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})))}})),e.rtl?r.concat(n,u).reverse():r.concat(n,u)},b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(o,e);var t,n,r,a=f(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(h(e=a.call.apply(a,[this].concat(n))),"node",null),y(h(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=k(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return i.default.createElement("div",s({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.default.PureComponent);t.Track=b},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=s,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){return Math.max(t,Math.min(e,n))}var c=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=c;var l=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};t.getOnDemandLazySlides=l;t.getRequiredLazySlides=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)t.push(i);return t};var f=function(e){return e.currentSlide-d(e)};t.lazyStartIndex=f;var h=function(e){return e.currentSlide+p(e)};t.lazyEndIndex=h;var d=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=d;var p=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=p;var v=function(e){return e&&e.offsetWidth||0};t.getWidth=v;var y=function(e){return e&&e.offsetHeight||0};t.getHeight=y;var m=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===a?i>=35&&i<=135?"up":"down":"vertical"};t.getSwipeDirection=m;var g=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=g;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=i.default.Children.count(e.children),r=e.listRef,a=Math.ceil(v(r)),u=e.trackRef&&e.trackRef.node,s=Math.ceil(v(u));if(e.vertical)t=a;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=a/100),t=Math.ceil((a-c)/e.slidesToShow)}var f=r&&y(r.querySelector('[data-index="0"]')),h=f*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=n-1-e.initialSlide);var p=e.lazyLoadedList||[],m=l(o(o({},e),{},{currentSlide:d,lazyLoadedList:p})),g={slideCount:n,slideWidth:t,listWidth:a,trackWidth:s,currentSlide:d,slideHeight:f,listHeight:h,lazyLoadedList:p=p.concat(m)};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,a=e.index,u=e.slideCount,c=e.lazyLoad,f=e.currentSlide,h=e.centerMode,d=e.slidesToScroll,p=e.slidesToShow,v=e.useCSS,y=e.lazyLoadedList;if(t&&n)return{};var m,k,b,w=a,_={},I={},T=i?a:s(a,0,u-1);if(r){if(!i&&(a<0||a>=u))return{};a<0?w=a+u:a>=u&&(w=a-u),c&&y.indexOf(w)<0&&(y=y.concat(w)),_={animating:!0,currentSlide:w,lazyLoadedList:y,targetSlide:w},I={animating:!1,targetSlide:w}}else m=w,w<0?(m=w+u,i?u%d!==0&&(m=u-u%d):m=0):!g(e)&&w>f?w=m=f:h&&w>=u?(w=i?u:u-1,m=i?0:u-1):w>=u&&(m=w-u,i?u%d!==0&&(m=0):m=u-p),!i&&w+p>=u&&(m=u-p),k=E(o(o({},e),{},{slideIndex:w})),b=E(o(o({},e),{},{slideIndex:m})),i||(k===b&&(w=m),k=b),c&&(y=y.concat(l(o(o({},e),{},{currentSlide:w})))),v?(_={animating:!0,currentSlide:m,trackStyle:S(o(o({},e),{},{left:k})),lazyLoadedList:y,targetSlide:T},I={animating:!1,currentSlide:m,trackStyle:x(o(o({},e),{},{left:b})),swipeLeft:null,targetSlide:T}):_={currentSlide:m,trackStyle:x(o(o({},e),{},{left:b})),lazyLoadedList:y,targetSlide:T};return{state:_,nextState:I}};t.changeSlide=function(e,t){var n,r,i,a,u=e.slidesToScroll,s=e.slidesToShow,c=e.slideCount,l=e.currentSlide,f=e.targetSlide,h=e.lazyLoad,d=e.infinite;if(n=c%u!==0?0:(c-l)%u,"previous"===t.message)a=l-(i=0===n?u:s-n),h&&!d&&(a=-1===(r=l-i)?c-1:r),d||(a=f-u);else if("next"===t.message)a=l+(i=0===n?u:n),h&&!d&&(a=(l+u)%c+n),d||(a=f+u);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,d){var p=O(o(o({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===p?a-=c:a<t.currentSlide&&"right"===p&&(a+=c)}}else"index"===t.message&&(a=Number(t.index));return a};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&c(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,a=t.swipeToSlide,u=t.verticalSwiping,s=t.rtl,l=t.currentSlide,f=t.edgeFriction,h=t.edgeDragged,d=t.onEdge,p=t.swiped,v=t.swiping,y=t.slideCount,k=t.slidesToScroll,b=t.infinite,w=t.touchObject,_=t.swipeEvent,S=t.listHeight,I=t.listWidth;if(!n){if(r)return c(e);i&&a&&u&&c(e);var T,C={},O=E(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var A=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!u&&!v&&A>10)return{scrolling:!0};u&&(w.swipeLength=A);var P=(s?-1:1)*(w.curX>w.startX?1:-1);u&&(P=w.curY>w.startY?1:-1);var N=Math.ceil(y/k),R=m(t.touchObject,u),D=w.swipeLength;return b||(0===l&&("right"===R||"down"===R)||l+1>=N&&("left"===R||"up"===R)||!g(t)&&("left"===R||"up"===R))&&(D=w.swipeLength*f,!1===h&&d&&(d(R),C.edgeDragged=!0)),!p&&_&&(_(R),C.swiped=!0),T=i?O+D*(S/I)*P:s?O-D*P:O+D*P,u&&(T=O+D*P),C=o(o({},C),{},{touchObject:w,swipeLeft:T,trackStyle:x(o(o({},t),{},{left:T}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?C:(w.swipeLength>10&&(C.swiping=!0,c(e)),C)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,a=t.listWidth,u=t.touchThreshold,s=t.verticalSwiping,l=t.listHeight,f=t.swipeToSlide,h=t.scrolling,d=t.onSwipe,p=t.targetSlide,v=t.currentSlide,y=t.infinite;if(!n)return r&&c(e),{};var g=s?l/u:a/u,k=m(i,s),_={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return _;if(!i.swipeLength)return _;if(i.swipeLength>g){var x,I;c(e),d&&d(k);var T=y?v:p;switch(k){case"left":case"up":I=T+w(t),x=f?b(t,I):I,_.currentDirection=0;break;case"right":case"down":I=T-w(t),x=f?b(t,I):I,_.currentDirection=1;break;default:x=T}_.triggerSlideHandler=x}else{var C=E(t);_.trackStyle=S(o(o({},t),{},{left:C}))}return _};var k=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=k;var b=function(e,t){var n=k(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t};t.checkNavigable=b;var w=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+y(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll};t.getSlideCount=w;var _=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=_;var x=function(e){var t,n;_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=C(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=o(o({},i),{},{WebkitTransform:a,transform:u,msTransform:s})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=x;var S=function(e){_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=x(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=S;var E=function(e){if(e.unslick)return 0;_(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,a=e.infinite,o=e.centerMode,u=e.slideCount,s=e.slidesToShow,c=e.slidesToScroll,l=e.slideWidth,f=e.listWidth,h=e.variableWidth,d=e.slideHeight,p=e.fade,v=e.vertical;if(p||1===e.slideCount)return 0;var y=0;if(a?(y=-I(e),u%c!==0&&r+c>u&&(y=-(r>u?s-(r-u):u%c)),o&&(y+=parseInt(s/2))):(u%c!==0&&r+c>u&&(y=s-u%c),o&&(y=parseInt(s/2))),t=v?r*d*-1+y*d:r*l*-1+y*l,!0===h){var m,g=i&&i.node;if(m=r+I(e),t=(n=g&&g.childNodes[m])?-1*n.offsetLeft:0,!0===o){m=a?r+I(e):r,n=g&&g.children[m],t=0;for(var k=0;k<m;k++)t-=g&&g.children[k]&&g.children[k].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(f-n.offsetWidth)/2}}return t};t.getTrackLeft=E;var I=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=I;var T=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=T;var C=function(e){return 1===e.slideCount?1:I(e)+e.slideCount+T(e)};t.getTotalSlides=C;var O=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+A(e)?"left":"right":e.targetSlide<e.currentSlide-P(e)?"right":"left"};t.siblingDirection=O;var A=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1};t.slidesOnRight=A;var P=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0};t.slidesOnLeft=P;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),O(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=O(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=O(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},474:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var u=["top","right","bottom","left","width","height","size","weight"],s="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&s()}function u(){o(a)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(u,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;u.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},h=g(0,0,0,0);function d(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=f(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=d(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,u=d(r.width),s=d(r.height);if("border-box"===r.boxSizing&&(Math.round(u+a)!==t&&(u-=p(r,"left","right")+a),Math.round(s+o)!==n&&(s-=p(r,"top","bottom")+o)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(u+a)-t,l=Math.round(s+o)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(l)&&(s-=l)}return g(i.left,i.top,u,s)}var y="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox};function m(e){return i?y(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):v(e):h}function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var k=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return l(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);l(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new k(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!==typeof WeakMap?new WeakMap:new r,x=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){x.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));var S="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:x;t.default=S},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,R(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!O());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,I=-1,T=5,C=-1;function O(){return!(t.unstable_now()-C<T)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,N=P.port2;P.port1.onmessage=A,x=function(){N.postMessage(null)}}else x=function(){m(A,0)};function R(e){E=e,S||(S=!0,x())}function D(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(I),I=-1):y=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},806:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".53b1f0e5.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="disney-plus-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Disney-plus-clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkdisney_plus_clone=self.webpackChunkdisney_plus_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return iu},SDK_VERSION:function(){return ds},_DEFAULT_ENTRY_NAME:function(){return es},_addComponent:function(){return is},_addOrOverwriteComponent:function(){return as},_apps:function(){return ns},_clearComponents:function(){return cs},_components:function(){return rs},_getProvider:function(){return us},_registerComponent:function(){return os},_removeServiceInstance:function(){return ss},deleteApp:function(){return ms},getApp:function(){return vs},getApps:function(){return ys},initializeApp:function(){return ps},onLog:function(){return bs},registerVersion:function(){return ks},setLogLevel:function(){return ws}});var t=n(791),r=n.t(t,2),i=n(250),a=n(248),o=n(327),u=n(164);var s=function(e){e()},c=function(){return s};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function h(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=Symbol.for("react-redux-context-".concat(t.version)),p=globalThis;var v=new Proxy({},new Proxy({},{get:function(e,n){var r=function(){var e=p[d];return e||(e=(0,t.createContext)(null),p[d]=e),e}();return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return Reflect[n].apply(Reflect,[r].concat(i))}}}));function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return function(){return(0,t.useContext)(e)}}var m=y(),g=function(){throw new Error("uSES not initialized!")},k=function(e,t){return e===t};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=e===v?m:y(e);return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="function"===typeof r?{equalityFn:r}:r,a=i.equalityFn,o=void 0===a?k:a,u=i.stabilityCheck,s=void 0===u?void 0:u;i.noopCheck;var c=n(),l=c.store,f=c.subscription,d=c.getServerState,p=c.stabilityCheck,v=(c.noopCheck,(0,t.useRef)(!0),(0,t.useCallback)(h({},e.name,(function(t){return e(t)}))[e.name],[e,p,s])),y=g(f.addNestedSub,l.getState,d||l.getState,v,o);return(0,t.useDebugValue)(y),y}}var w=b();n(110),n(900);var _={notify:function(){},get:function(){return[]}};function x(e,t){var n,r=_;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=c(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=_)},getListeners:function(){return r}};return o}var S=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var E=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=e.stabilityCheck,u=void 0===o?"once":o,s=e.noopCheck,c=void 0===s?"once":s,l=(0,t.useMemo)((function(){var e=x(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0,stabilityCheck:u,noopCheck:c}}),[n,a,u,c]),f=(0,t.useMemo)((function(){return n.getState()}),[n]);S((function(){var e=l.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),f!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,f]);var h=r||v;return t.createElement(h.Provider,{value:l},i)};function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=e===v?m:y(e);return function(){return t().store}}var T=I();function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=e===v?T:I(e);return function(){return t().dispatch}}var O,A=C();function P(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function N(e){return!!e&&!!e[be]}function R(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===we}(e)||Array.isArray(e)||!!e[ke]||!!(null===(t=e.constructor)||void 0===t?void 0:t[ke])||V(e)||z(e))}function D(e,t,n){void 0===n&&(n=!1),0===L(e)?(n?Object.keys:_e)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function L(e){var t=e[be];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:V(e)?2:z(e)?3:0}function M(e,t){return 2===L(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function j(e,t){return 2===L(e)?e.get(t):e[t]}function F(e,t,n){var r=L(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function U(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function V(e){return ve&&e instanceof Map}function z(e){return ye&&e instanceof Set}function B(e){return e.o||e.t}function q(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=xe(e);delete t[be];for(var n=_e(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function W(e,t){return void 0===t&&(t=!1),K(e)||N(e)||!R(e)||(L(e)>1&&(e.set=e.add=e.clear=e.delete=H),Object.freeze(e),t&&D(e,(function(e,t){return W(t,!0)}),!0)),e}function H(){P(2)}function K(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function G(e){var t=Se[e];return t||P(18,e),t}function Q(e,t){Se[e]||(Se[e]=t)}function $(){return de}function Y(e,t){t&&(G("Patches"),e.u=[],e.s=[],e.v=t)}function X(e){J(e),e.p.forEach(ee),e.p=null}function J(e){e===de&&(de=e.l)}function Z(e){return de={p:[],l:de,h:e,m:!0,_:0}}function ee(e){var t=e[be];0===t.i||1===t.i?t.j():t.g=!0}function te(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||G("ES5").S(t,e,r),r?(n[be].P&&(X(t),P(4)),R(e)&&(e=ne(t,e),t.l||ie(t,e)),t.u&&G("Patches").M(n[be].t,e,t.u,t.s)):e=ne(t,n,[]),X(t),t.u&&t.v(t.u,t.s),e!==ge?e:void 0}function ne(e,t,n){if(K(t))return t;var r=t[be];if(!r)return D(t,(function(i,a){return re(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ie(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=q(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),D(a,(function(t,a){return re(e,r,i,t,a,n,o)})),ie(e,i,!1),n&&e.u&&G("Patches").N(r,n,e.u,e.s)}return r.o}function re(e,t,n,r,i,a,o){if(N(i)){var u=ne(e,i,a&&t&&3!==t.i&&!M(t.R,r)?a.concat(r):void 0);if(F(n,r,u),!N(u))return;e.m=!1}else o&&n.add(i);if(R(i)&&!K(i)){if(!e.h.D&&e._<1)return;ne(e,i),t&&t.A.l||ie(e,i)}}function ie(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&W(t,n)}function ae(e,t){var n=e[be];return(n?B(n):e)[t]}function oe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ue(e){e.P||(e.P=!0,e.l&&ue(e.l))}function se(e){e.o||(e.o=q(e.t))}function ce(e,t,n){var r=V(t)?G("MapSet").F(t,n):z(t)?G("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:$(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Ee;n&&(i=[r],a=Ie);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):G("ES5").J(t,n);return(n?n.A:$()).p.push(r),r}function le(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return q(e)}function fe(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[be];return Ee.get(t,e)},set:function(t){var n=this[be];Ee.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][be];if(!i.P)switch(i.i){case 5:r(i)&&ue(i);break;case 4:n(i)&&ue(i)}}}function n(e){for(var t=e.t,n=e.k,r=_e(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==be){var o=t[a];if(void 0===o&&!M(t,a))return!0;var u=n[a],s=u&&u[be];if(s?s.t!==o:!U(u,o))return!0}}var c=!!t[be];return r.length!==_e(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Q("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=xe(n);delete a[be];for(var o=_e(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:$(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,be,{value:a,writable:!0}),i},S:function(e,n,i){i?N(n)&&n[be].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[be];if(n){var i=n.t,a=n.k,o=n.R,u=n.i;if(4===u)D(a,(function(t){t!==be&&(void 0!==i[t]||M(i,t)?o[t]||e(a[t]):(o[t]=!0,ue(n)))})),D(i,(function(e){void 0!==a[e]||M(a,e)||(o[e]=!1,ue(n))}));else if(5===u){if(r(n)&&(ue(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){g=e}(o.useSyncExternalStoreWithSelector),function(e){e}(a.useSyncExternalStore),O=u.unstable_batchedUpdates,s=O;var he,de,pe="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ve="undefined"!=typeof Map,ye="undefined"!=typeof Set,me="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ge=pe?Symbol.for("immer-nothing"):((he={})["immer-nothing"]=!0,he),ke=pe?Symbol.for("immer-draftable"):"__$immer_draftable",be=pe?Symbol.for("immer-state"):"__$immer_state",we=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),_e="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,xe=Object.getOwnPropertyDescriptors||function(e){var t={};return _e(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Se={},Ee={get:function(e,t){if(t===be)return e;var n=B(e);if(!M(n,t))return function(e,t,n){var r,i=oe(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!R(r)?r:r===ae(e.t,t)?(se(e),e.o[t]=ce(e.A.h,r,e)):r},has:function(e,t){return t in B(e)},ownKeys:function(e){return Reflect.ownKeys(B(e))},set:function(e,t,n){var r=oe(B(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ae(B(e),t),a=null==i?void 0:i[be];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(U(n,i)&&(void 0!==n||M(e.t,t)))return!0;se(e),ue(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==ae(e.t,t)||t in e.t?(e.R[t]=!1,se(e),ue(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=B(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){P(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){P(12)}},Ie={};D(Ee,(function(e,t){Ie[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Ie.deleteProperty=function(e,t){return Ie.set.call(this,e,t,void 0)},Ie.set=function(e,t,n){return Ee.set.call(this,e[0],t,n,e[0])};var Te=function(){function e(e){var t=this;this.O=me,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&P(6),void 0!==r&&"function"!=typeof r&&P(7),R(e)){var u=Z(t),s=ce(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?X(u):J(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return Y(u,r),te(e,u)}),(function(e){throw X(u),e})):(Y(u,r),te(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===ge&&(o=void 0),t.D&&W(o,!0),r){var l=[],f=[];G("Patches").M(e,o,l,f),r(l,f)}return o}P(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){R(e)||P(8),N(e)&&(e=function(e){return N(e)||P(22,e),function e(t){if(!R(t))return t;var n,r=t[be],i=L(t);if(r){if(!r.P&&(r.i<4||!G("ES5").K(r)))return r.t;r.I=!0,n=le(t,i),r.I=!1}else n=le(t,i);return D(n,(function(t,i){r&&j(r.t,t)===i||F(n,t,e(i))})),3===i?new Set(n):n}(e)}(e));var t=Z(this),n=ce(this,e,void 0);return n[be].C=!0,J(t),n},t.finishDraft=function(e,t){var n=(e&&e[be]).A;return Y(n,t),te(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!me&&P(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=G("Patches").$;return N(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Ce=new Te,Oe=Ce.produce,Ae=(Ce.produceWithPatches.bind(Ce),Ce.setAutoFreeze.bind(Ce),Ce.setUseProxies.bind(Ce),Ce.applyPatches.bind(Ce),Ce.createDraft.bind(Ce),Ce.finishDraft.bind(Ce),Oe);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var De="function"===typeof Symbol&&Symbol.observable||"@@observable",Le=function(){return Math.random().toString(36).substring(7).split("").join(".")},Me={INIT:"@@redux/INIT"+Le(),REPLACE:"@@redux/REPLACE"+Le(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Le()}};function je(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Fe(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Re(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Re(1));return n(Fe)(e,t)}if("function"!==typeof e)throw new Error(Re(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(Re(3));return a}function f(e){if("function"!==typeof e)throw new Error(Re(4));if(s)throw new Error(Re(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(Re(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!je(e))throw new Error(Re(7));if("undefined"===typeof e.type)throw new Error(Re(8));if(s)throw new Error(Re(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Me.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Re(10));i=e,h({type:Me.REPLACE})}})[De]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Re(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[De]=function(){return this},e},r}function Ue(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Me.INIT}))throw new Error(Re(12));if("undefined"===typeof n(void 0,{type:Me.PROBE_UNKNOWN_ACTION()}))throw new Error(Re(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Re(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Ve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Re(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Ve.apply(void 0,a)(n.dispatch),Ne(Ne({},n),{},{dispatch:r})}}}function Be(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var qe=Be();qe.withExtraArgument=Be;var We=qe,He=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Ge=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Qe=Object.defineProperty,$e=Object.defineProperties,Ye=Object.getOwnPropertyDescriptors,Xe=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable,et=function(e,t,n){return t in e?Qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},tt=function(e,t){for(var n in t||(t={}))Je.call(t,n)&&et(e,n,t[n]);if(Xe)for(var r=0,i=Xe(t);r<i.length;r++){n=i[r];Ze.call(t,n)&&et(e,n,t[n])}return e},nt=function(e,t){return $e(e,Ye(t))},rt=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))},it="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ve:Ve.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function at(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var ot=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return He(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Ge([void 0],e[0].concat(this)))):new(t.bind.apply(t,Ge([void 0],e.concat(this))))},t}(Array),ut=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return He(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Ge([void 0],e[0].concat(this)))):new(t.bind.apply(t,Ge([void 0],e.concat(this))))},t}(Array);function st(e){return R(e)?Ae(e,(function(){})):e}function ct(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new ot);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(We.withExtraArgument(n.extraArgument)):r.push(We));0;return r}(e)}}function lt(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return tt(tt({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ft(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function ht(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:st(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?ft(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=tt(tt({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?ft(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return st(e())};else{var c=st(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=Ge([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(N(e))return void 0===(r=n(e,t))?e:r;if(R(e))return Ae(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?lt(c,r):lt(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var dt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},pt=["name","message","stack","code"],vt=function(e,t){this.payload=e,this.meta=t},yt=function(e,t){this.payload=e,this.meta=t},mt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=pt;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},gt=function(){function e(e,t,n){var r=lt(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:nt(tt({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=lt(e+"/pending",(function(e,t,n){return{payload:void 0,meta:nt(tt({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=lt(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||mt)(e||"Rejected"),meta:nt(tt({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):dt(),h=new o;function d(e){l=e,h.abort()}var p=function(){return rt(this,null,(function(){var o,p,v,y,m,g;return Ke(this,(function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),y=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(b=y)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,y];case 1:y=k.sent(),k.label=2;case 2:if(!1===y||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,m=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),u(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([m,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new vt(e,t)},fulfillWithValue:function(e,t){return new yt(e,t)}})).then((function(t){if(t instanceof vt)throw t;return t instanceof yt?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=k.sent(),[3,5];case 4:return g=k.sent(),v=g instanceof vt?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(kt)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function kt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var bt="listenerMiddleware";lt(bt+"/add"),lt(bt+"/removeAll"),lt(bt+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var wt,_t=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:_t(10);fe();var xt=ht({name:"user",initialState:{name:"",email:"",photo:""},reducers:{setUserLoginDetails:function(e,t){e.name=t.payload.name,e.email=t.payload.email,e.photo=t.payload.photo},setSignOutState:function(e){e.name=null,e.email=null,e.photo=null}}}),St=xt.actions,Et=(St.setUserLoginDetails,St.setSignOutState,xt.reducer),It=ht({name:"movie",initialState:{movies:[]},reducers:{setMovies:function(e,t){e.movies=t.payload}}}),Tt=It.actions.setMovies,Ct=function(e){return e.movie.movies},Ot=function(e){var t,n=ct(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!at(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ue(a)}var p=u;"function"===typeof p&&(p=p(n));var v=ze.apply(void 0,p),y=Ve;c&&(y=it(tt({trace:!1},"object"===typeof c&&c)));var m=new ut(v),g=m;return Array.isArray(d)?g=Ge([v],d):"function"===typeof d&&(g=d(m)),Fe(t,f,y.apply(void 0,g))}({reducer:{movie:It.reducer,user:Et}});function At(){At=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new I(i||[]);return r(o,"_invoke",{value:_(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var h={};function d(){}function p(){}function v(){}var y={};s(y,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==t&&n.call(g,a)&&(y=g);var k=v.prototype=d.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=f(e[r],e,a);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"==l(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Pt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Pt(a,r,i,o,u,"next",e)}function u(e){Pt(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var Dt,Lt=gt("counter/fetchCount",function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Mt=ht({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(Lt.pending,(function(e){e.status="loading"})).addCase(Lt.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),jt=Mt.actions,Ft=(jt.increment,jt.decrement,jt.incrementByAmount,Mt.reducer,n(184));function Ut(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Vt(e){if(Array.isArray(e))return e}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bt(e,t){if(e){if("string"===typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}function qt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wt(e,t){return Vt(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||Bt(e,t)||qt()}function Ht(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Kt(e){return function(e){if(Array.isArray(e))return zt(e)}(e)||Ht(e)||Bt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function $t(e,t,n){return t&&Qt(e.prototype,t),n&&Qt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yt(e,t){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yt(e,t)}function Xt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yt(e,t)}function Jt(e){return Jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jt(e)}function Zt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function en(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tn(e){var t=Zt();return function(){var n,r=Jt(e);if(t){var i=Jt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return en(e)}(this,n)}}function nn(e,t,n){return nn=Zt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Yt(i,n.prototype),i},nn.apply(null,arguments)}function rn(e){var t="function"===typeof Map?new Map:void 0;return rn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return nn(e,arguments,Jt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Yt(n,e)},rn(e)}function an(e){return Vt(e)||Ht(e)||Bt(e)||qt()}function on(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Bt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function un(){return un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},un.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Dt||(Dt={}));var sn,cn="popstate";function ln(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function fn(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function hn(e,t){return{usr:e.state,key:e.key,idx:t}}function dn(e,t,n,r){return void 0===n&&(n=null),un({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?vn(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function pn(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function vn(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function yn(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=Dt.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=Dt.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:y.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:pn(e);return ln(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(un({},c.state,{idx:h}),""));var y={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(cn,p),f=e,function(){o.removeEventListener(cn,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=Dt.Push;var r=dn(y.location,e,t);n&&n(r,e);var i=hn(r,h=d()+1),a=y.createHref(r);try{c.pushState(i,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(a)}s&&f&&f({action:l,location:y.location,delta:1})},replace:function(e,t){l=Dt.Replace;var r=dn(y.location,e,t);n&&n(r,e);var i=hn(r,h=d()),a=y.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:y.location,delta:0})},go:function(e){return c.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(sn||(sn={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function mn(e,t,n){void 0===n&&(n="/");var r=Pn(("string"===typeof t?vn(t):t).pathname||"/",n);if(null==r)return null;var i=gn(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Cn(i[o],An(r));return a}function gn(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(ln(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=Ln([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(ln(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),gn(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:Tn(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=on(kn(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function kn(e){var t=e.split("/");if(0===t.length)return[];var n=an(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=kn(i.join("/")),s=[];return s.push.apply(s,Kt(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,Kt(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var bn=/^:\w+$/,wn=3,_n=2,xn=1,Sn=10,En=-2,In=function(e){return"*"===e};function Tn(e,t){var n=e.split("/"),r=n.length;return n.some(In)&&(r+=En),t&&(r+=_n),n.filter((function(e){return!In(e)})).reduce((function(e,t){return e+(bn.test(t)?wn:""===t?xn:Sn)}),r)}function Cn(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=On({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:Ln([i,l.pathname]),pathnameBase:Mn(Ln([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Ln([i,l.pathnameBase]))}return a}function On(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);fn("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=Wt(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return fn(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function An(e){try{return decodeURI(e)}catch(t){return fn(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Pn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Nn(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Rn(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Dn(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=vn(e):(ln(!(i=un({},e)).pathname||!i.pathname.includes("?"),Nn("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),Nn("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),Nn("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?vn(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:jn(a),hash:Fn(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var Ln=function(e){return e.join("/").replace(/\/\/+/g,"/")},Mn=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},jn=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Fn=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Un=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.apply(this,arguments)}return $t(n)}(rn(Error));function Vn(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var zn=["post","put","patch","delete"],Bn=(new Set(zn),["get"].concat(zn));new Set(Bn),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qn.apply(this,arguments)}var Wn=t.createContext(null);var Hn=t.createContext(null);var Kn=t.createContext(null);var Gn=t.createContext(null);var Qn=t.createContext(null);var $n=t.createContext({outlet:null,matches:[],isDataRoute:!1});var Yn=t.createContext(null);function Xn(){return null!=t.useContext(Qn)}function Jn(){return Xn()||ln(!1),t.useContext(Qn).location}function Zn(e){t.useContext(Gn).static||t.useLayoutEffect(e)}function er(){return t.useContext($n).isDataRoute?function(){var e=lr(ir.UseNavigateStable).router,n=hr(ar.UseNavigateStable),r=t.useRef(!1);Zn((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,qn({fromRouteId:n},i)))}),[e,n]);return i}():function(){Xn()||ln(!1);var e=t.useContext(Wn),n=t.useContext(Gn),r=n.basename,i=n.navigator,a=t.useContext($n).matches,o=Jn().pathname,u=JSON.stringify(Rn(a).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);return Zn((function(){s.current=!0})),t.useCallback((function(t,n){if(void 0===n&&(n={}),s.current)if("number"!==typeof t){var a=Dn(t,JSON.parse(u),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:Ln([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,u,o,e])}()}function tr(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext($n).matches,a=Jn().pathname,o=JSON.stringify(Rn(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return Dn(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function nr(e,n,r){Xn()||ln(!1);var i,a=t.useContext(Gn).navigator,o=t.useContext($n).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,Jn());if(n){var f,h="string"===typeof n?vn(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||ln(!1),i=h}else i=l;var d=i.pathname||"/",p=mn(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=cr(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Ln([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Ln([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(Qn.Provider,{value:{location:qn({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:Dt.Pop}},v):v}function rr(){var e=function(){var e,n=t.useContext(Yn),r=fr(ar.UseRouteError),i=hr(ar.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=Vn(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var ir,ar,or=t.createElement(rr,null),ur=function(e){Xt(r,e);var n=tn(r);function r(e){var t;return Gt(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return $t(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement($n.Provider,{value:this.props.routeContext},t.createElement(Yn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function sr(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(Wn);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement($n.Provider,{value:n},i)}function cr(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,u=null==(i=r)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||ln(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;r&&(c=i.route.errorElement||or);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=s?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(sr,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(ur,{location:r.location,revalidation:r.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function lr(e){var n=t.useContext(Wn);return n||ln(!1),n}function fr(e){var n=t.useContext(Hn);return n||ln(!1),n}function hr(e){var n=function(e){var n=t.useContext($n);return n||ln(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||ln(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(ir||(ir={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(ar||(ar={}));var dr;r.startTransition;function pr(e){ln(!1)}function vr(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?Dt.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;Xn()&&ln(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=vn(o));var p=o,v=p.pathname,y=void 0===v?"/":v,m=p.search,g=void 0===m?"":m,k=p.hash,b=void 0===k?"":k,w=p.state,_=void 0===w?null:w,x=p.key,S=void 0===x?"default":x,E=t.useMemo((function(){var e=Pn(y,h);return null==e?null:{location:{pathname:e,search:g,hash:b,state:_,key:S},navigationType:s}}),[h,y,g,b,_,S,s]);return null==E?null:t.createElement(Gn.Provider,{value:d},t.createElement(Qn.Provider,{children:a,value:E}))}function yr(e){var t=e.children,n=e.location;return nr(gr(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(dr||(dr={}));var mr=new Promise((function(){}));t.Component;function gr(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(Kt(n),[i]);if(e.type!==t.Fragment){e.type!==pr&&ln(!1),e.props.index&&e.props.children&&ln(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=gr(e.props.children,a)),r.push(o)}else r.push.apply(r,gr(e.props.children,a))}})),r}function kr(){return kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kr.apply(this,arguments)}function br(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var wr=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var _r=r.startTransition;function xr(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,u=t.useRef();null==u.current&&(u.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),yn((function(e,t){var n=e.location;return dn("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:pn(t)}),null,n)));var s=u.current,c=Wt(t.useState({action:s.action,location:s.location}),2),l=c[0],f=c[1],h=(a||{}).v7_startTransition,d=t.useCallback((function(e){h&&_r?_r((function(){return f(e)})):f(e)}),[f,h]);return t.useLayoutEffect((function(){return s.listen(d)}),[s,d]),t.createElement(vr,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:s})}var Sr="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Er=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ir=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=br(e,wr),d=t.useContext(Gn).basename,p=!1;if("string"===typeof l&&Er.test(l)&&(r=l,Sr))try{var v=new URL(window.location.href),y=l.startsWith("//")?new URL(v.protocol+l):new URL(l),m=Pn(y.pathname,d);y.origin===v.origin&&null!=m?l=m+y.search+y.hash:p=!0}catch(b){}var g=function(e,n){var r=(void 0===n?{}:n).relative;Xn()||ln(!1);var i=t.useContext(Gn),a=i.basename,o=i.navigator,u=tr(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:Ln([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=er(),l=Jn(),f=tr(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:pn(l)===pn(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return t.createElement("a",kr({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var Tr,Cr;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Tr||(Tr={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Cr||(Cr={}));var Or=function(){return Or=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Or.apply(this,arguments)};function Ar(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function Pr(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Nr=n(613),Rr=n.n(Nr),Dr="-ms-",Lr="-moz-",Mr="-webkit-",jr="comm",Fr="rule",Ur="decl",Vr="@import",zr="@keyframes",Br="@layer",qr=Math.abs,Wr=String.fromCharCode,Hr=Object.assign;function Kr(e){return e.trim()}function Gr(e,t){return(e=t.exec(e))?e[0]:e}function Qr(e,t,n){return e.replace(t,n)}function $r(e,t){return e.indexOf(t)}function Yr(e,t){return 0|e.charCodeAt(t)}function Xr(e,t,n){return e.slice(t,n)}function Jr(e){return e.length}function Zr(e){return e.length}function ei(e,t){return t.push(e),e}function ti(e,t){return e.filter((function(e){return!Gr(e,t)}))}var ni=1,ri=1,ii=0,ai=0,oi=0,ui="";function si(e,t,n,r,i,a,o,u){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:ni,column:ri,length:o,return:"",siblings:u}}function ci(e,t){return Hr(si("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function li(e){for(;e.root;)e=ci(e.root,{children:[e]});ei(e,e.siblings)}function fi(){return oi=ai>0?Yr(ui,--ai):0,ri--,10===oi&&(ri=1,ni--),oi}function hi(){return oi=ai<ii?Yr(ui,ai++):0,ri++,10===oi&&(ri=1,ni++),oi}function di(){return Yr(ui,ai)}function pi(){return ai}function vi(e,t){return Xr(ui,e,t)}function yi(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mi(e){return ni=ri=1,ii=Jr(ui=e),ai=0,[]}function gi(e){return ui="",e}function ki(e){return Kr(vi(ai-1,_i(91===e?e+2:40===e?e+1:e)))}function bi(e){for(;(oi=di())&&oi<33;)hi();return yi(e)>2||yi(oi)>3?"":" "}function wi(e,t){for(;--t&&hi()&&!(oi<48||oi>102||oi>57&&oi<65||oi>70&&oi<97););return vi(e,pi()+(t<6&&32==di()&&32==hi()))}function _i(e){for(;hi();)switch(oi){case e:return ai;case 34:case 39:34!==e&&39!==e&&_i(oi);break;case 40:41===e&&_i(e);break;case 92:hi()}return ai}function xi(e,t){for(;hi()&&e+oi!==57&&(e+oi!==84||47!==di()););return"/*"+vi(t,ai-1)+"*"+Wr(47===e?e:hi())}function Si(e){for(;!yi(di());)hi();return vi(e,ai)}function Ei(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Ii(e,t,n,r){switch(e.type){case Br:if(e.children.length)break;case Vr:case Ur:return e.return=e.return||e.value;case jr:return"";case zr:return e.return=e.value+"{"+Ei(e.children,r)+"}";case Fr:if(!Jr(e.value=e.props.join(",")))return""}return Jr(n=Ei(e.children,r))?e.return=e.value+"{"+n+"}":""}function Ti(e,t,n){switch(function(e,t){return 45^Yr(e,0)?(((t<<2^Yr(e,0))<<2^Yr(e,1))<<2^Yr(e,2))<<2^Yr(e,3):0}(e,t)){case 5103:return Mr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Mr+e+e;case 4789:return Lr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Mr+e+Lr+e+Dr+e+e;case 5936:switch(Yr(e,t+11)){case 114:return Mr+e+Dr+Qr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Mr+e+Dr+Qr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Mr+e+Dr+Qr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Mr+e+Dr+e+e;case 6165:return Mr+e+Dr+"flex-"+e+e;case 5187:return Mr+e+Qr(e,/(\w+).+(:[^]+)/,Mr+"box-$1$2"+Dr+"flex-$1$2")+e;case 5443:return Mr+e+Dr+"flex-item-"+Qr(e,/flex-|-self/g,"")+(Gr(e,/flex-|baseline/)?"":Dr+"grid-row-"+Qr(e,/flex-|-self/g,""))+e;case 4675:return Mr+e+Dr+"flex-line-pack"+Qr(e,/align-content|flex-|-self/g,"")+e;case 5548:return Mr+e+Dr+Qr(e,"shrink","negative")+e;case 5292:return Mr+e+Dr+Qr(e,"basis","preferred-size")+e;case 6060:return Mr+"box-"+Qr(e,"-grow","")+Mr+e+Dr+Qr(e,"grow","positive")+e;case 4554:return Mr+Qr(e,/([^-])(transform)/g,"$1"+Mr+"$2")+e;case 6187:return Qr(Qr(Qr(e,/(zoom-|grab)/,Mr+"$1"),/(image-set)/,Mr+"$1"),e,"")+e;case 5495:case 3959:return Qr(e,/(image-set\([^]*)/,Mr+"$1$`$1");case 4968:return Qr(Qr(e,/(.+:)(flex-)?(.*)/,Mr+"box-pack:$3"+Dr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Mr+e+e;case 4200:if(!Gr(e,/flex-|baseline/))return Dr+"grid-column-align"+Xr(e,t)+e;break;case 2592:case 3360:return Dr+Qr(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,Gr(e.props,/grid-\w+-end/)}))?~$r(e+(n=n[t].value),"span")?e:Dr+Qr(e,"-start","")+e+Dr+"grid-row-span:"+(~$r(n,"span")?Gr(n,/\d+/):+Gr(n,/\d+/)-+Gr(e,/\d+/))+";":Dr+Qr(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return Gr(e.props,/grid-\w+-start/)}))?e:Dr+Qr(Qr(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Qr(e,/(.+)-inline(.+)/,Mr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Jr(e)-1-t>6)switch(Yr(e,t+1)){case 109:if(45!==Yr(e,t+4))break;case 102:return Qr(e,/(.+:)(.+)-([^]+)/,"$1"+Mr+"$2-$3$1"+Lr+(108==Yr(e,t+3)?"$3":"$2-$3"))+e;case 115:return~$r(e,"stretch")?Ti(Qr(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Qr(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,a,o,u){return Dr+n+":"+r+u+(i?Dr+n+"-span:"+(a?o:+o-+r)+u:"")+e}));case 4949:if(121===Yr(e,t+6))return Qr(e,":",":"+Mr)+e;break;case 6444:switch(Yr(e,45===Yr(e,14)?18:11)){case 120:return Qr(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Mr+(45===Yr(e,14)?"inline-":"")+"box$3$1"+Mr+"$2$3$1"+Dr+"$2box$3")+e;case 100:return Qr(e,":",":"+Dr)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Qr(e,"scroll-","scroll-snap-")+e}return e}function Ci(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ur:return void(e.return=Ti(e.value,e.length,n));case zr:return Ei([ci(e,{value:Qr(e.value,"@","@"+Mr)})],r);case Fr:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(Gr(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":li(ci(e,{props:[Qr(t,/:(read-\w+)/,":"+Lr+"$1")]})),li(ci(e,{props:[t]})),Hr(e,{props:ti(n,r)});break;case"::placeholder":li(ci(e,{props:[Qr(t,/:(plac\w+)/,":"+Mr+"input-$1")]})),li(ci(e,{props:[Qr(t,/:(plac\w+)/,":"+Lr+"$1")]})),li(ci(e,{props:[Qr(t,/:(plac\w+)/,Dr+"input-$1")]})),li(ci(e,{props:[t]})),Hr(e,{props:ti(n,r)})}return""}))}}function Oi(e){return gi(Ai("",null,null,null,[""],e=mi(e),0,[0],e))}function Ai(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,y=1,m=1,g=0,k="",b=i,w=a,_=r,x=k;y;)switch(p=g,g=hi()){case 40:if(108!=p&&58==Yr(x,f-1)){-1!=$r(x+=Qr(ki(g),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:x+=ki(g);break;case 9:case 10:case 13:case 32:x+=bi(p);break;case 92:x+=wi(pi()-1,7);continue;case 47:switch(di()){case 42:case 47:ei(Ni(xi(hi(),pi()),t,n,s),s);break;default:x+="/"}break;case 123*v:u[c++]=Jr(x)*m;case 125*v:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+l:-1==m&&(x=Qr(x,/\f/g,"")),d>0&&Jr(x)-f&&ei(d>32?Ri(x+";",r,n,f-1,s):Ri(Qr(x," ","")+";",r,n,f-2,s),s);break;case 59:x+=";";default:if(ei(_=Pi(x,t,n,c,l,i,u,k,b=[],w=[],f,a),a),123===g)if(0===l)Ai(x,t,_,_,b,a,f,u,w);else switch(99===h&&110===Yr(x,3)?100:h){case 100:case 108:case 109:case 115:Ai(e,_,_,r&&ei(Pi(e,_,_,0,0,i,u,k,i,b=[],f,w),w),i,w,f,u,r?b:w);break;default:Ai(x,_,_,_,[""],w,0,u,w)}}c=l=d=0,v=m=1,k=x="",f=o;break;case 58:f=1+Jr(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==fi())continue;switch(x+=Wr(g),g*v){case 38:m=l>0?1:(x+="\f",-1);break;case 44:u[c++]=(Jr(x)-1)*m,m=1;break;case 64:45===di()&&(x+=ki(hi())),h=di(),l=f=Jr(k=x+=Si(pi())),g++;break;case 45:45===p&&2==Jr(x)&&(v=0)}}return a}function Pi(e,t,n,r,i,a,o,u,s,c,l,f){for(var h=i-1,d=0===i?a:[""],p=Zr(d),v=0,y=0,m=0;v<r;++v)for(var g=0,k=Xr(e,h+1,h=qr(y=o[v])),b=e;g<p;++g)(b=Kr(y>0?d[g]+" "+k:Qr(k,/&\f/g,d[g])))&&(s[m++]=b);return si(e,t,n,0===i?Fr:u,s,c,l,f)}function Ni(e,t,n,r){return si(e,t,n,jr,Wr(oi),Xr(e,2,-2),0,r)}function Ri(e,t,n,r,i){return si(e,t,n,Ur,Xr(e,0,r),Xr(e,r+1,-1),r,i)}var Di={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Li="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Mi="undefined"!=typeof window&&"HTMLElement"in window,ji=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),Fi=(new Set,Object.freeze([])),Ui=Object.freeze({});function Vi(e,t,n){return void 0===n&&(n=Ui),e.theme!==n.theme&&e.theme||t||n.theme}var zi=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Bi=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,qi=/(^-|-$)/g;function Wi(e){return e.replace(Bi,"-").replace(qi,"")}var Hi=/(a)(d)/gi,Ki=function(e){return String.fromCharCode(e+(e>25?39:97))};function Gi(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Ki(t%52)+n;return(Ki(t%52)+n).replace(Hi,"$1-$2")}var Qi,$i=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Yi=function(e){return $i(5381,e)};function Xi(e){return Gi(Yi(e)>>>0)}function Ji(e){return"string"==typeof e&&!0}var Zi="function"==typeof Symbol&&Symbol.for,ea=Zi?Symbol.for("react.memo"):60115,ta=Zi?Symbol.for("react.forward_ref"):60112,na={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ra={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ia={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},aa=((Qi={})[ta]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qi[ea]=ia,Qi);function oa(e){return("type"in(t=e)&&t.type.$$typeof)===ea?ia:"$$typeof"in e?aa[e.$$typeof]:na;var t}var ua=Object.defineProperty,sa=Object.getOwnPropertyNames,ca=Object.getOwnPropertySymbols,la=Object.getOwnPropertyDescriptor,fa=Object.getPrototypeOf,ha=Object.prototype;function da(e,t,n){if("string"!=typeof t){if(ha){var r=fa(t);r&&r!==ha&&da(e,r,n)}var i=sa(t);ca&&(i=i.concat(ca(t)));for(var a=oa(e),o=oa(t),u=0;u<i.length;++u){var s=i[u];if(!(s in ra||n&&n[s]||o&&s in o||a&&s in a)){var c=la(t,s);try{ua(e,s,c)}catch(e){}}}}return e}function pa(e){return"function"==typeof e}function va(e){return"object"==typeof e&&"styledComponentId"in e}function ya(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function ma(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function ga(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function ka(e,t,n){if(void 0===n&&(n=!1),!n&&!ga(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=ka(e[r],t[r]);else if(ga(t))for(var r in t)e[r]=ka(e[r],t[r]);return e}function ba(e,t){Object.defineProperty(e,"toString",{value:t})}function wa(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var _a=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw wa(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=(a=0,t.length);a<u;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+="".concat(this.tag.getRule(a)).concat("/*!sc*/\n");return t},e}(),xa=new Map,Sa=new Map,Ea=1,Ia=function(e){if(xa.has(e))return xa.get(e);for(;Sa.has(Ea);)Ea++;var t=Ea++;return xa.set(e,t),Sa.set(t,e),t},Ta=function(e,t){xa.set(e,t),Sa.set(t,e)},Ca="style[".concat(Li,"][").concat("data-styled-version",'="').concat("6.0.3",'"]'),Oa=new RegExp("^".concat(Li,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Aa=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Pa=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split("/*!sc*/\n"),i=[],a=0,o=r.length;a<o;a++){var u=r[a].trim();if(u){var s=u.match(Oa);if(s){var c=0|parseInt(s[1],10),l=s[2];0!==c&&(Ta(l,c),Aa(e,l,s[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(u)}}};function Na(){return n.nc}var Ra=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(Li,"]")));return t[t.length-1]}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Li,"active"),r.setAttribute("data-styled-version","6.0.3");var o=Na();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Da=function(){function e(e){this.element=Ra(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw wa(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),La=function(){function e(e){this.element=Ra(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Ma=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),ja=Mi,Fa={isServer:!Mi,useCSSOMInjection:!ji},Ua=function(){function e(e,t,n){void 0===e&&(e=Ui),void 0===t&&(t={});var r=this;this.options=Or(Or({},Fa),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Mi&&ja&&(ja=!1,function(e){for(var t=document.querySelectorAll(Ca),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Li)&&(Pa(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),ba(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return Sa.get(e)}(n);if(void 0===i)return"continue";var a=e.names.get(i),o=t.getGroup(n);if(void 0===a||0===o.length)return"continue";var u="".concat(Li,".g").concat(n,'[id="').concat(i,'"]'),s="";void 0!==a&&a.forEach((function(e){e.length>0&&(s+="".concat(e,","))})),r+="".concat(o).concat(u,'{content:"').concat(s,'"}').concat("/*!sc*/\n")},a=0;a<n;a++)i(a);return r}(r)}))}return e.registerId=function(e){return Ia(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Or(Or({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new Ma(n):t?new Da(n):new La(n)}(this.options),new _a(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Ia(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Ia(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Ia(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Va=/&/g,za=/^\s*\/\/.*$/gm;function Ba(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Ba(e.children,t)),e}))}function qa(e){var t,n,r,i=void 0===e?Ui:e,a=i.options,o=void 0===a?Ui:a,u=i.plugins,s=void 0===u?Fi:u,c=function(e,r,i){return i===n||i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},l=s.slice();l.push((function(e){e.type===Fr&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Va,n).replace(r,c))})),o.prefix&&l.push(Ci),l.push(Ii);var f=function(e,i,a,u){void 0===i&&(i=""),void 0===a&&(a=""),void 0===u&&(u="&"),t=u,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var s=e.replace(za,""),c=Oi(a||i?"".concat(a," ").concat(i," { ").concat(s," }"):s);o.namespace&&(c=Ba(c,o.namespace));var f,h=[];return Ei(c,function(e){var t=Zr(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}(l.concat((f=function(e){return h.push(e)},function(e){e.root||(e=e.return)&&f(e)})))),h};return f.hash=s.length?s.reduce((function(e,t){return t.name||wa(15),$i(e,t.name)}),5381).toString():"",f}var Wa=new Ua,Ha=qa(),Ka=t.createContext({shouldForwardProp:void 0,styleSheet:Wa,stylis:Ha}),Ga=(Ka.Consumer,t.createContext(void 0));function Qa(){return(0,t.useContext)(Ka)}function $a(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=Qa().styleSheet,o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,a]),u=(0,t.useMemo)((function(){return qa({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})}),[e.enableVendorPrefixes,e.namespace,r]);return(0,t.useEffect)((function(){Rr()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(Ka.Provider,{value:{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:u}},t.createElement(Ga.Provider,{value:u},e.children))}var Ya=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Ha);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,ba(this,(function(){throw wa(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Ha),this.name+e.hash},e}(),Xa=function(e){return e>="A"&&e<="Z"};function Ja(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Xa(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Za=function(e){return null==e||!1===e||""===e},eo=function e(t){var n,r,i=[];for(var a in t){var o=t[a];t.hasOwnProperty(a)&&!Za(o)&&(Array.isArray(o)&&o.isCss||pa(o)?i.push("".concat(Ja(a),":"),o,";"):ga(o)?i.push.apply(i,Pr(Pr(["".concat(a," {")],e(o),!1),["}"],!1)):i.push("".concat(Ja(a),": ").concat((n=a,null==(r=o)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in Di||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return i};function to(e,t,n,r){return Za(e)?[]:va(e)?[".".concat(e.styledComponentId)]:pa(e)?!pa(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:to(e(t),t,n,r):e instanceof Ya?n?(e.inject(n,r),[e.getName(r)]):[e]:ga(e)?eo(e):Array.isArray(e)?Array.prototype.concat.apply(Fi,e.map((function(e){return to(e,t,n,r)}))):[e.toString()];var i}function no(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(pa(n)&&!va(n))return!1}return!0}var ro=Yi("6.0.3"),io=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&no(e),this.componentId=t,this.baseHash=$i(ro,t),this.baseStyle=n,Ua.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=ya(r,this.staticRulesId);else{var i=ma(to(this.rules,e,t,n)),a=Gi($i(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=n(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}r=ya(r,a),this.staticRulesId=a}else{for(var u=$i(this.baseHash,n.hash),s="",c=0;c<this.rules.length;c++){var l=this.rules[c];if("string"==typeof l)s+=l;else if(l){var f=ma(to(l,e,t,n));u=$i(u,f),s+=f}}if(s){var h=Gi(u>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(s,".".concat(h),void 0,this.componentId)),r=ya(r,h)}}return r},e}(),ao=t.createContext(void 0);ao.Consumer;var oo={};new Set;function uo(e,n,r){var i=va(e),a=e,o=!Ji(e),u=n.attrs,s=void 0===u?Fi:u,c=n.componentId,l=void 0===c?function(e,t){var n="string"!=typeof e?"sc":Wi(e);oo[n]=(oo[n]||0)+1;var r="".concat(n,"-").concat(Xi("6.0.3"+n+oo[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):c,f=n.displayName,h=(void 0===f&&function(e){Ji(e)?"styled.".concat(e):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(e),")")}(e),n.displayName&&n.componentId?"".concat(Wi(n.displayName),"-").concat(n.componentId):n.componentId||l),d=i&&a.attrs?a.attrs.concat(s).filter(Boolean):s,p=n.shouldForwardProp;if(i&&a.shouldForwardProp){var v=a.shouldForwardProp;if(n.shouldForwardProp){var y=n.shouldForwardProp;p=function(e,t){return v(e,t)&&y(e,t)}}else p=v}var m=new io(r,h,i?a.componentStyle:void 0);var g=t.forwardRef((function(e,n){return function(e,n,r){var i=e.attrs,a=e.componentStyle,o=e.defaultProps,u=e.foldedComponentIds,s=e.styledComponentId,c=e.target,l=t.useContext(ao),f=Qa(),h=e.shouldForwardProp||f.shouldForwardProp,d=function(e,t,n){for(var r,i=Or(Or({},t),{className:void 0,theme:n}),a=0;a<e.length;a+=1){var o=pa(r=e[a])?r(i):r;for(var u in o)i[u]="className"===u?ya(i[u],o[u]):"style"===u?Or(Or({},i[u]),o[u]):o[u]}return t.className&&(i.className=ya(i.className,t.className)),i}(i,n,Vi(n,l,o)||Ui),p=d.as||c,v={};for(var y in d)void 0===d[y]||"$"===y[0]||"as"===y||"theme"===y||("forwardedAs"===y?v.as=d.forwardedAs:h&&!h(y,p)||(v[y]=d[y]));var m=function(e,t){var n=Qa();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(a,d),g=ya(u,s);return m&&(g+=" "+m),d.className&&(g+=" "+d.className),v[Ji(p)&&!zi.has(p)?"class":"className"]=g,v.ref=r,(0,t.createElement)(p,v)}(g,e,n)}));return g.attrs=d,g.componentStyle=m,g.shouldForwardProp=p,g.foldedComponentIds=i?ya(a.foldedComponentIds,a.styledComponentId):"",g.styledComponentId=h,g.target=i?a.target:e,Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)ka(e,i[r],!0);return e}({},a.defaultProps,e):e}}),ba(g,(function(){return".".concat(g.styledComponentId)})),o&&da(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),g}function so(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var co=function(e){return Object.assign(e,{isCss:!0})};function lo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(pa(e)||ga(e))return co(to(so(Fi,Pr([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?to(r):co(to(so(r,t)))}function fo(e,t,n){if(void 0===n&&(n=Ui),!t)throw wa(1,t);var r=function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return e(t,n,lo.apply(void 0,Pr([r],i,!1)))};return r.attrs=function(r){return fo(e,t,Or(Or({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return fo(e,t,Or(Or({},n),r))},r}var ho=function(e){return fo(uo,e)},po=ho;zi.forEach((function(e){po[e]=ho(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=no(e),Ua.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(ma(to(this.rules,t,n,r)),""),a=this.componentId+e;n.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&Ua.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();var vo,yo,mo,go;(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=Na(),r=ma([n&&'nonce="'.concat(n,'"'),"".concat(Li,'="true"'),"".concat("data-styled-version",'="').concat("6.0.3",'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw wa(2);return e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)throw wa(2);var r=((n={})[Li]="",n["data-styled-version"]="6.0.3",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=Na();return i&&(r.nonce=i),[t.createElement("style",Or({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Ua({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw wa(2);return t.createElement($a,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw wa(3)}})(),"__sc-".concat(Li,"__");var ko,bo,wo=function(){return(0,Ft.jsxs)(_o,{children:[(0,Ft.jsx)(Ir,{to:"/",children:(0,Ft.jsx)(xo,{src:"logo.svg"})}),(0,Ft.jsxs)(So,{children:[(0,Ft.jsxs)("a",{children:[(0,Ft.jsx)("img",{src:"home-icon.svg",alt:"hm"}),(0,Ft.jsx)("span",{children:"HOME"})]}),(0,Ft.jsxs)("a",{children:[(0,Ft.jsx)("img",{src:"search-icon.svg",alt:"hm"}),(0,Ft.jsx)("span",{children:"SEARCH"})]}),(0,Ft.jsxs)("a",{children:[(0,Ft.jsx)("img",{src:"watchlist-icon.svg",alt:"hm"}),(0,Ft.jsx)("span",{children:"WATCHLIST"})]}),(0,Ft.jsxs)("a",{children:[(0,Ft.jsx)("img",{src:"original-icon.svg",alt:"hm"}),(0,Ft.jsx)("span",{children:"ORIGINALS"})]}),(0,Ft.jsxs)("a",{children:[(0,Ft.jsx)("img",{src:"movie-icon.svg",alt:"hm"}),(0,Ft.jsx)("span",{children:"MOVIES"})]}),(0,Ft.jsxs)("a",{children:[(0,Ft.jsx)("img",{src:"series-icon.svg",alt:"hm"}),(0,Ft.jsx)("span",{children:"SERIES"})]})]}),(0,Ft.jsx)(Ir,{to:"/login",children:(0,Ft.jsx)(Eo,{src:"mypic.jpg"})})]})},_o=po.nav(vo||(vo=Ut(["\n   height:70px;\n   background:#090b13; \n   display:flex;\n   align-items:center;\n   padding: 0 36px;\n"]))),xo=po.img(yo||(yo=Ut(["\n  width:80px;\n\n\n"]))),So=po.div(mo||(mo=Ut(['\n  display:flex;\n  flex:1;\n  margin-left:35px;\n  align-items:center;\n\n\n  a{\n    display:flex;\n    align-items:center;\n    padding: 0 35px;\n    cursor:pointer;\n\n    img{\n     height:20px;\n    }\n\n    span{\n        font-size:15px;\n        letter-spacing:1.42px;\n        position:relative;\n\n\n        &:after{\n           content:"";\n           height:3px;\n           background:white;\n           position:absolute;\n           left:0;\n           right:0;\n           bottom:-14px;\n           opacity:0;\n           transform: scaleX(0);\n           transform-origin:left center;\n           transition: all 250ns cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n           \n        }\n    }\n    &:hover{\n        span:after{\n            transform: scaleX(1);\n            opacity:1;\n        }\n    }\n  }\n  \n']))),Eo=po.img(go||(go=Ut(["\n  width:55px;\n  height:55px;\n  border-radius:50%;\n  cursor:pointer;\n\n"]))),Io=n(717);var To,Co,Oo=function(){return(0,Ft.jsxs)(Ao,Ne(Ne({},{dots:!0,Infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,autoplay:!0}),{},{children:[(0,Ft.jsx)(Po,{children:(0,Ft.jsx)("img",{src:"slider-badag.jpg",alt:"sl"})}),(0,Ft.jsx)(Po,{children:(0,Ft.jsx)("img",{src:"slider-badging.jpg",alt:"sl"})}),(0,Ft.jsx)(Po,{children:(0,Ft.jsx)("img",{src:"slider-scale.jpg",alt:"sl"})}),(0,Ft.jsx)(Po,{children:(0,Ft.jsx)("img",{src:"slider-scales.jpg",alt:"sl"})})]}))},Ao=po(Io.Z)(ko||(ko=Ut(["\n   margin-top:10px;\n\n   ul li button {\n    &:before{\n        font-size:13px;\n        color: rgb(150 159 172);\n    }\n   }\n\n  li.slick-active button::before{\n    color:white;\n  }\n\n\n   .slick-list{\n    overflow:visible;\n   }\n\n\n   button{\n    z-index:1;\n   }\n\n"]))),Po=po.div(bo||(bo=Ut(["\n     cursor:pointer;\n     img{\n        width:100%;\n        height:100%;\n        border:5px solid transparent;\n        border-radius:15px;\n        box-shadow: rgb(0 0 0 / 69%) 0px 36px 44px -10px, rgb(0 0 0 / 73%) 0px 26px 20px -10px;\n        transition-duration:200ns;\n\n\n        &:hover{\n            border:3px solid rgba(249, 249, 249, 0.8);\n        }\n     }\n\n"])));var No,Ro,Do,Lo=function(){return(0,Ft.jsxs)(Mo,{children:[(0,Ft.jsx)(jo,{children:(0,Ft.jsx)("img",{src:"viewers-disney.png",alt:"vw"})}),(0,Ft.jsx)(jo,{children:(0,Ft.jsx)("img",{src:"viewers-pixar.png",alt:"vw"})}),(0,Ft.jsx)(jo,{children:(0,Ft.jsx)("img",{src:"viewers-marvel.png",alt:"vw"})}),(0,Ft.jsx)(jo,{children:(0,Ft.jsx)("img",{src:"viewers-starwars.png",alt:"vw"})}),(0,Ft.jsx)(jo,{children:(0,Ft.jsx)("img",{src:"viewers-national.png",alt:"vw"})}),(0,Ft.jsx)(jo,{children:(0,Ft.jsx)("img",{src:"https://www.citypng.com/public/uploads/preview/cn-cartoon-network-white-logo-download-png-116634295732byk4zzcr5.png",alt:"vw"})})]})},Mo=po.div(To||(To=Ut(["\n    margin-top:30px;\n    display:grid;\n    padding:30px 0px 26px; \n    grid-gap:50px;\n    grid-template-columns: repeat(6,minmax(0, 1fr));\n\n\n\n"]))),jo=po.div(Co||(Co=Ut(["\n\n     border:2px solid rgba(249, 249, 249, 0.2);\n     border-radius:15px;\n     box-shadow: rgb(0 0 0 / 70%) 0px 32px 34px -10px, rgb(0 0 0 / 75%) 0px 20px 12px -10px;\n     cursor:pointer;\n     transition:all 250ns cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n\n\n\n\n     img{\n        width:100%;\n        height:100%;\n        object-fit:cover;\n     }\n\n     &:hover {\n        transform: scale(1.10);\n        border-color: rgba(249, 249, 249, 0.9);\n        box-shadow: rgb(0 0 0 / 90%) 0px 40px 58px -16px, rgb(0 0 0 / 75%) 0px 30px 22px -10px;\n\n     }\n    \n\n"])));var Fo=function(){return w(Ct),console.log("this is me"),(0,Ft.jsxs)(Uo,{children:[(0,Ft.jsx)("h3",{children:"Anime for You"}),(0,Ft.jsxs)(Vo,{children:[(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img15.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img16.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img17.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img18.jpg",alt:""})})})]}),(0,Ft.jsx)("h3",{children:"Recommended for You"}),(0,Ft.jsxs)(Vo,{children:[(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"Coco.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"Aladin.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"Lion.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"Jungle.jpg",alt:""})})})]}),(0,Ft.jsx)("h3",{children:"Suggested"}),(0,Ft.jsxs)(Vo,{children:[(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img1.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img2.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img3.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img4.jpg",alt:""})})})]}),(0,Ft.jsx)("h3",{children:"Trending"}),(0,Ft.jsxs)(Vo,{children:[(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img5.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img6.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img7.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img8.jpg",alt:""})})})]}),(0,Ft.jsx)("h3",{children:"People Also Like"}),(0,Ft.jsxs)(Vo,{children:[(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img9.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img10.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img11.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img12.jpg",alt:""})})})]}),(0,Ft.jsx)("h3",{children:"Most Downloads"}),(0,Ft.jsxs)(Vo,{children:[(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img13.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img14.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img19.jpg",alt:""})})}),(0,Ft.jsx)(Ir,{to:"/detail",children:(0,Ft.jsx)(zo,{children:(0,Ft.jsx)("img",{src:"img20.jpg",alt:""})})})]})]})},Uo=po.div(No||(No=Ut(["\n\n"]))),Vo=po.div(Ro||(Ro=Ut(["\ndisplay:grid;\ngrid-gap:50px;\ngrid-template-columns:repeat(4, minmax(0,1fr));\npadding: 25px 25px 25px 25px;\nmargin-bottom:20px;\n\n"]))),zo=po.div(Do||(Do=Ut(["\ncursor:pointer;\nborder-radius:25px;\noverflow:hidden;\nborder: 3px solid rgba(249, 249, 249, 0.2);\nbox-shadow: rgb(0 0 0 / 70%) 0px 32px 34px -10px, rgb(0 0 0 / 75%) 0px 20px 12px -10px;\ntransition: all 250ns cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n\n  img{\n    width:100%;\n    height:230px;\n    object-fit:cover;\n\n  }\n\n  &:hover{\n    transform: scale(1.1);\n    border-color:rgba(249, 249, 249, 0.9);\n  }\n\n\n"]))),Bo=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},qo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bo(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new Wo;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Wo=function(e){Xt(n,e);var t=tn(n);function n(){var e;return Gt(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return $t(n)}(rn(Error)),Ho=function(e){return function(e){var t=Bo(e);return qo.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ko=function(e){try{return qo.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Go(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Go(e[n],t[n]));return e}var Qo=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},$o=function(){try{return Qo()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Ko(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Yo=function(){var e;return null===(e=$o())||void 0===e?void 0:e.config},Xo=function(){function e(){var t=this;Gt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return $t(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Jo(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Zo(){var e,t=null===(e=$o())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function eu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function tu(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function nu(){var e=Jo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ru(){try{return"object"===typeof indexedDB}catch(e){return!1}}var iu=function(e){Xt(n,e);var t=tn(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(en(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(en(a),au.prototype.create),a}return $t(n)}(rn(Error)),au=function(){function e(t,n,r){Gt(this,e),this.service=t,this.serviceName=n,this.errors=r}return $t(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ou,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new iu(n,a,t)}}]),e}();var ou=/\{\$([^}]+)}/g;function uu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function su(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function cu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(lu(u)&&lu(s)){if(!cu(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function lu(e){return null!==e&&"object"===typeof e}function fu(e){for(var t=[],n=function(){var e=Wt(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function hu(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Wt(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function du(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function pu(e,t){var n=new vu(e,t);return n.subscribe.bind(n)}var vu=function(){function e(t,n){var r=this;Gt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return $t(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=on(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=yu),void 0===r.error&&(r.error=yu),void 0===r.complete&&(r.complete=yu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function yu(){}function mu(e){return e&&e._delegate?e._delegate:e}var gu=function(){function e(t,n,r){Gt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return $t(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ku="[DEFAULT]",bu=function(){function e(t,n){Gt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return $t(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Xo;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ku})}catch(s){}var t,n=on(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Wt(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ku;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Nt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Kt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Kt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ku;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ku;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=on(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Wt(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=on(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wu(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ku;return this.component?this.component.multipleInstances?e:ku:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function wu(e){return e===ku?void 0:e}var _u,xu,Su=function(){function e(t){Gt(this,e),this.name=t,this.providers=new Map}return $t(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new bu(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Eu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(xu||(xu={}));var Iu={debug:xu.DEBUG,verbose:xu.VERBOSE,info:xu.INFO,warn:xu.WARN,error:xu.ERROR,silent:xu.SILENT},Tu=xu.INFO,Cu=(h(_u={},xu.DEBUG,"log"),h(_u,xu.VERBOSE,"log"),h(_u,xu.INFO,"info"),h(_u,xu.WARN,"warn"),h(_u,xu.ERROR,"error"),_u),Ou=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Cu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Au=function(){function e(t){Gt(this,e),this.name=t,this._logLevel=Tu,this._logHandler=Ou,this._userLogHandler=null,Eu.push(this)}return $t(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in xu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Iu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xu.DEBUG].concat(t)),this._logHandler.apply(this,[this,xu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,xu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xu.INFO].concat(t)),this._logHandler.apply(this,[this,xu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xu.WARN].concat(t)),this._logHandler.apply(this,[this,xu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xu.ERROR].concat(t)),this._logHandler.apply(this,[this,xu.ERROR].concat(t))}}]),e}();var Pu,Nu,Ru=function(e,t){return t.some((function(t){return e instanceof t}))};var Du=new WeakMap,Lu=new WeakMap,Mu=new WeakMap,ju=new WeakMap,Fu=new WeakMap;var Uu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Lu.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Mu.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Vu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Nu||(Nu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qu(this),n),Bu(Du.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bu(e.apply(qu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[qu(this),t].concat(r));return Mu.set(a,t.sort?t.sort():[t]),Bu(a)}}function zu(e){return"function"===typeof e?Vu(e):(e instanceof IDBTransaction&&function(e){if(!Lu.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Lu.set(e,t)}}(e),Ru(e,Pu||(Pu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Uu):e)}function Bu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Bu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Du.set(t,e)})).catch((function(){})),Fu.set(t,e),t}(e);if(ju.has(e))return ju.get(e);var t=zu(e);return t!==e&&(ju.set(e,t),Fu.set(t,e)),t}var qu=function(e){return Fu.get(e)};var Wu,Hu,Ku=["get","getKey","getAll","getAllKeys","count"],Gu=["put","add","delete","clear"],Qu=new Map;function $u(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Qu.get(t))return Qu.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Gu.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ku.includes(n))){var a=function(){var e=Nt(At().mark((function e(t){var a,o,u,s,c,l,f=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Qu.set(t,a),a}}}Uu=function(e){return Ne(Ne({},e),{},{get:function(t,n,r){return $u(t,n)||e.get(t,n,r)},has:function(t,n){return!!$u(t,n)||e.has(t,n)}})}(Uu);var Yu=function(){function e(t){Gt(this,e),this.container=t}return $t(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Xu="@firebase/app",Ju="0.9.15",Zu=new Au("@firebase/app"),es="[DEFAULT]",ts=(h(Wu={},Xu,"fire-core"),h(Wu,"@firebase/app-compat","fire-core-compat"),h(Wu,"@firebase/analytics","fire-analytics"),h(Wu,"@firebase/analytics-compat","fire-analytics-compat"),h(Wu,"@firebase/app-check","fire-app-check"),h(Wu,"@firebase/app-check-compat","fire-app-check-compat"),h(Wu,"@firebase/auth","fire-auth"),h(Wu,"@firebase/auth-compat","fire-auth-compat"),h(Wu,"@firebase/database","fire-rtdb"),h(Wu,"@firebase/database-compat","fire-rtdb-compat"),h(Wu,"@firebase/functions","fire-fn"),h(Wu,"@firebase/functions-compat","fire-fn-compat"),h(Wu,"@firebase/installations","fire-iid"),h(Wu,"@firebase/installations-compat","fire-iid-compat"),h(Wu,"@firebase/messaging","fire-fcm"),h(Wu,"@firebase/messaging-compat","fire-fcm-compat"),h(Wu,"@firebase/performance","fire-perf"),h(Wu,"@firebase/performance-compat","fire-perf-compat"),h(Wu,"@firebase/remote-config","fire-rc"),h(Wu,"@firebase/remote-config-compat","fire-rc-compat"),h(Wu,"@firebase/storage","fire-gcs"),h(Wu,"@firebase/storage-compat","fire-gcs-compat"),h(Wu,"@firebase/firestore","fire-fst"),h(Wu,"@firebase/firestore-compat","fire-fst-compat"),h(Wu,"fire-js","fire-js"),h(Wu,"firebase","fire-js-all"),Wu),ns=new Map,rs=new Map;function is(e,t){try{e.container.addComponent(t)}catch(n){Zu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function as(e,t){e.container.addOrOverwriteComponent(t)}function os(e){var t=e.name;if(rs.has(t))return Zu.debug("There were multiple attempts to register component ".concat(t,".")),!1;rs.set(t,e);var n,r=on(ns.values());try{for(r.s();!(n=r.n()).done;){is(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function us(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ss(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:es;us(e,t).clearInstance(n)}function cs(){rs.clear()}var ls=(h(Hu={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),h(Hu,"bad-app-name","Illegal App name: '{$appName}"),h(Hu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),h(Hu,"app-deleted","Firebase App named '{$appName}' already deleted"),h(Hu,"no-options","Need to provide options, when not being deployed to hosting via source."),h(Hu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),h(Hu,"invalid-log-argument","First argument to `onLog` must be null or a function."),h(Hu,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),h(Hu,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),h(Hu,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),h(Hu,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Hu),fs=new au("app","Firebase",ls),hs=function(){function e(t,n,r){var i=this;Gt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gu("app",(function(){return i}),"PUBLIC"))}return $t(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}]),e}(),ds="10.1.0";function ps(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:es,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw fs.create("bad-app-name",{appName:String(i)});if(n||(n=Yo()),!n)throw fs.create("no-options");var a=ns.get(i);if(a){if(cu(n,a.options)&&cu(r,a.config))return a;throw fs.create("duplicate-app",{appName:i})}var o,u=new Su(i),s=on(rs.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new hs(n,r,u);return ns.set(i,l),l}function vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es,t=ns.get(e);if(!t&&e===es&&Yo())return ps();if(!t)throw fs.create("no-app",{appName:e});return t}function ys(){return Array.from(ns.values())}function ms(e){return gs.apply(this,arguments)}function gs(){return gs=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ns.has(n)){e.next=6;break}return ns.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}function ks(e,t,n){var r,i=null!==(r=ts[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Zu.warn(u.join(" "))}os(new gu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function bs(e,t){if(null!==e&&"function"!==typeof e)throw fs.create("invalid-log-argument");!function(e,t){var n,r=on(Eu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Iu[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:xu[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ws(e){var t;t=e,Eu.forEach((function(e){e.setLogLevel(t)}))}var _s="firebase-heartbeat-database",xs=1,Ss="firebase-heartbeat-store",Es=null;function Is(){return Es||(Es=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Bu(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Bu(u.result),e.oldVersion,e.newVersion,Bu(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(_s,xs,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ss)}}).catch((function(e){throw fs.create("idb-open",{originalErrorMessage:e.message})}))),Es}function Ts(e){return Cs.apply(this,arguments)}function Cs(){return Cs=Nt(At().mark((function e(t){var n,r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Is();case 3:return n=e.sent,e.next=6,n.transaction(Ss).objectStore(Ss).get(Ps(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof iu?Zu.warn(e.t0.message):(i=fs.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Zu.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Cs.apply(this,arguments)}function Os(e,t){return As.apply(this,arguments)}function As(){return As=Nt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Is();case 3:return r=e.sent,i=r.transaction(Ss,"readwrite"),a=i.objectStore(Ss),e.next=8,a.put(n,Ps(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof iu?Zu.warn(e.t0.message):(o=fs.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Zu.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),As.apply(this,arguments)}function Ps(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ns=function(){function e(t){var n=this;Gt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new js(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return $t(e,[{key:"triggerHeartbeat",value:function(){var e=Nt(At().mark((function e(){var t,n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Rs(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Nt(At().mark((function e(){var t,n,r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Rs(),n=Ds(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ho(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Rs(){return(new Date).toISOString().substring(0,10)}function Ds(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=on(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Fs(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Fs(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ls,Ms,js=function(){function e(t){Gt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return $t(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ru()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Nt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ts(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Nt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Os(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Nt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Os(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Kt(r.heartbeats),Kt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Fs(e){return Ho(JSON.stringify({version:2,heartbeats:e})).length}Ls="",os(new gu("platform-logger",(function(e){return new Yu(e)}),"PRIVATE")),os(new gu("heartbeat",(function(e){return new Ns(e)}),"PRIVATE")),ks(Xu,Ju,Ls),ks(Xu,Ju,"esm2017"),ks("fire-js","");var Us=function(){function e(t,n){var r=this;Gt(this,e),this._delegate=t,this.firebase=n,is(t,new gu("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return $t(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ms(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:es;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:es;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){is(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){as(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Vs=(h(Ms={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),h(Ms,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ms),zs=new au("app-compat","Firebase",Vs);var Bs=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ps(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(uu(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ks,setLogLevel:ws,onLog:bs,apps:null,SDK_VERSION:ds,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(os(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw zs.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Go(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!uu(n,e=e||es))throw zs.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Us);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Go(n,e)},createSubscribe:pu,ErrorFactory:au,deepExtend:Go}),n}(),qs=new Au("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){qs.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ws=self.firebase.SDK_VERSION;Ws&&Ws.indexOf("LITE")>=0&&qs.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Hs=Bs;!function(e){ks("@firebase/app-compat","0.2.15",e)}();var Ks;function Gs(){return Gs="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Gs.apply(this,arguments)}Hs.registerVersion("firebase","10.1.0","app-compat");var Qs={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$s="EMAIL_SIGNIN",Ys="PASSWORD_RESET",Xs="RECOVER_EMAIL",Js="REVERT_SECOND_FACTOR_ADDITION",Zs="VERIFY_AND_CHANGE_EMAIL",ec="VERIFY_EMAIL";function tc(){return h({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var nc=function(){var e;return h(e={},"admin-restricted-operation","This operation is restricted to administrators only."),h(e,"argument-error",""),h(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),h(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),h(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),h(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),h(e,"cordova-not-ready","Cordova framework is not ready."),h(e,"cors-unsupported","This browser is not supported."),h(e,"credential-already-in-use","This credential is already associated with a different user account."),h(e,"custom-token-mismatch","The custom token corresponds to a different audience."),h(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),h(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),h(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),h(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),h(e,"email-already-in-use","The email address is already in use by another account."),h(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),h(e,"expired-action-code","The action code has expired."),h(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),h(e,"internal-error","An internal AuthError has occurred."),h(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),h(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),h(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),h(e,"invalid-auth-event","An internal AuthError has occurred."),h(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),h(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),h(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),h(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),h(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),h(e,"invalid-email","The email address is badly formatted."),h(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),h(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),h(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),h(e,"invalid-credential","The supplied auth credential is malformed or has expired."),h(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),h(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),h(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),h(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),h(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),h(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),h(e,"wrong-password","The password is invalid or the user does not have a password."),h(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),h(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),h(e,"invalid-provider-id","The specified provider ID is invalid."),h(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),h(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),h(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),h(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),h(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),h(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),h(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),h(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),h(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),h(e,"missing-continue-uri","A continue URL must be provided in the request."),h(e,"missing-iframe-start","An internal AuthError has occurred."),h(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),h(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),h(e,"missing-password","A non-empty password must be provided"),h(e,"missing-multi-factor-info","No second factor identifier is provided."),h(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),h(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),h(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),h(e,"app-deleted","This instance of FirebaseApp has been deleted."),h(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),h(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),h(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),h(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),h(e,"no-auth-event","An internal AuthError has occurred."),h(e,"no-such-provider","User was not linked to an account with the given provider."),h(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),h(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),h(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),h(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),h(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),h(e,"provider-already-linked","User can only be linked to one identity for the given provider."),h(e,"quota-exceeded","The project's quota for this operation has been exceeded."),h(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),h(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),h(e,"rejected-credential","The request contains malformed or mismatching credentials."),h(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),h(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),h(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),h(e,"timeout","The operation has timed out."),h(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),h(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),h(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),h(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),h(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),h(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),h(e,"unverified-email","The operation requires a verified email."),h(e,"user-cancelled","The user did not grant your application the permissions it requested."),h(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),h(e,"user-disabled","The user account has been disabled by an administrator."),h(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),h(e,"user-signed-out",""),h(e,"weak-password","The password must be 6 characters long or more."),h(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),h(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),h(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),h(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),h(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),h(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),h(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),h(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),h(e,"invalid-req-type","Invalid request parameters."),h(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},rc=tc,ic=new au("auth","Firebase",tc()),ac=new Au("@firebase/auth");function oc(e){if(ac.logLevel<=xu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ac.warn.apply(ac,["Auth (".concat(ds,"): ").concat(e)].concat(n))}}function uc(e){if(ac.logLevel<=xu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ac.error.apply(ac,["Auth (".concat(ds,"): ").concat(e)].concat(n))}}function sc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw hc.apply(void 0,[e].concat(n))}function cc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return hc.apply(void 0,[e].concat(n))}function lc(e,t,n){var r=Object.assign(Object.assign({},rc()),h({},t,n));return new au("auth","Firebase",r).create(t,{appName:e.name})}function fc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&sc(e,"argument-error"),lc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function hc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Kt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Kt(o)))}return ic.create.apply(ic,[e].concat(n))}function dc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw hc.apply(void 0,[t].concat(r))}}function pc(e){var t="INTERNAL ASSERTION FAILED: "+e;throw uc(t),new Error(t)}function vc(e,t){e||pc(t)}function yc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function mc(){return"http:"===gc()||"https:"===gc()}function gc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var kc=function(){function e(t,n){Gt(this,e),this.shortDelay=t,this.longDelay=n,vc(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jo())||tu()}return $t(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(mc()||eu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function bc(e,t){vc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var wc=function(){function e(){Gt(this,e)}return $t(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void pc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void pc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void pc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),_c=(h(Ks={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),h(Ks,"MISSING_CUSTOM_TOKEN","internal-error"),h(Ks,"INVALID_IDENTIFIER","invalid-email"),h(Ks,"MISSING_CONTINUE_URI","internal-error"),h(Ks,"INVALID_PASSWORD","wrong-password"),h(Ks,"MISSING_PASSWORD","missing-password"),h(Ks,"EMAIL_EXISTS","email-already-in-use"),h(Ks,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),h(Ks,"INVALID_IDP_RESPONSE","invalid-credential"),h(Ks,"INVALID_PENDING_TOKEN","invalid-credential"),h(Ks,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),h(Ks,"MISSING_REQ_TYPE","internal-error"),h(Ks,"EMAIL_NOT_FOUND","user-not-found"),h(Ks,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),h(Ks,"EXPIRED_OOB_CODE","expired-action-code"),h(Ks,"INVALID_OOB_CODE","invalid-action-code"),h(Ks,"MISSING_OOB_CODE","internal-error"),h(Ks,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),h(Ks,"INVALID_ID_TOKEN","invalid-user-token"),h(Ks,"TOKEN_EXPIRED","user-token-expired"),h(Ks,"USER_NOT_FOUND","user-token-expired"),h(Ks,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),h(Ks,"INVALID_CODE","invalid-verification-code"),h(Ks,"INVALID_SESSION_INFO","invalid-verification-id"),h(Ks,"INVALID_TEMPORARY_PROOF","invalid-credential"),h(Ks,"MISSING_SESSION_INFO","missing-verification-id"),h(Ks,"SESSION_EXPIRED","code-expired"),h(Ks,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),h(Ks,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),h(Ks,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),h(Ks,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),h(Ks,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),h(Ks,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),h(Ks,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),h(Ks,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),h(Ks,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),h(Ks,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),h(Ks,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),h(Ks,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),h(Ks,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),h(Ks,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),h(Ks,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),h(Ks,"MISSING_CLIENT_TYPE","missing-client-type"),h(Ks,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),h(Ks,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),h(Ks,"INVALID_REQ_TYPE","invalid-req-type"),Ks),xc=new kc(3e4,6e4);function Sc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ec(e,t,n,r){return Ic.apply(this,arguments)}function Ic(){return Ic=Nt(At().mark((function e(t,n,r,i){var a,o=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Tc(t,a,Nt(At().mark((function e(){var a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=fu(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",wc.fetch()(Pc(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Tc(e,t,n){return Cc.apply(this,arguments)}function Cc(){return Cc=Nt(At().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},_c),n),e.prev=2,a=new Nc(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Rc(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Wt(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Rc(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Rc(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Rc(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw lc(t,d,h);case 34:sc(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof iu)){e.next=41;break}throw e.t0;case 41:sc(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Cc.apply(this,arguments)}function Oc(e,t,n,r){return Ac.apply(this,arguments)}function Ac(){return Ac=Nt(At().mark((function e(t,n,r,i){var a,o,u=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ec(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&sc(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Pc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?bc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Nc=function(){function e(t){var n=this;Gt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(cc(n.auth,"network-request-failed"))}),xc.get())}))}return $t(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Rc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=cc(e,t,r);return i.customData._tokenResponse=n,i}function Dc(e,t){return Lc.apply(this,arguments)}function Lc(){return Lc=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ec(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Mc(e,t){return jc.apply(this,arguments)}function jc(){return jc=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ec(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Fc(e,t){return Uc.apply(this,arguments)}function Uc(){return Uc=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ec(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}function Vc(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function zc(){return zc=Nt(At().mark((function e(t){var n,r,i,a,o,u,s=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=mu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,dc((a=qc(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Vc(Bc(a.auth_time)),issuedAtTime:Vc(Bc(a.iat)),expirationTime:Vc(Bc(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}function Bc(e){return 1e3*Number(e)}function qc(e){var t=Wt(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return uc("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ko(r);return a?JSON.parse(a):(uc("Failed to decode base64 JWT payload"),null)}catch(o){return uc("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Wc(e,t){return Hc.apply(this,arguments)}function Hc(){return Hc=Nt(At().mark((function e(t,n){var r=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof iu&&Kc(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Hc.apply(this,arguments)}function Kc(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Gc=function(){function e(t){Gt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return $t(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Nt(At().mark((function t(){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Qc=function(){function e(t,n){Gt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return $t(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function $c(e){return Yc.apply(this,arguments)}function Yc(){return Yc=Nt(At().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Wc(t,Fc(r,{idToken:i}));case 6:dc(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Ar(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=Jc(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Qc(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Xc(){return(Xc=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mu(t),e.next=3,$c(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jc(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Kt(n),Kt(t))}function Zc(e,t){return el.apply(this,arguments)}function el(){return el=Nt(At().mark((function e(t,n){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tc(t,{},Nt(At().mark((function e(){var r,i,a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fu({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Pc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",wc.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}var tl=function(){function e(){Gt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return $t(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){dc(e.idToken,"internal-error"),dc("undefined"!==typeof e.idToken,"internal-error"),dc("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=qc(e);return dc(t,"internal-error"),dc("undefined"!==typeof t.exp,"internal-error"),dc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Nt(At().mark((function e(t){var n,r=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],dc(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Nt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zc(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return pc("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(dc("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(dc("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(dc("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function nl(e,t){dc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var rl=function(){function e(t){Gt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ar(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Kt(a.providerData):[],this.metadata=new Qc(a.createdAt||void 0,a.lastLoginAt||void 0)}return $t(e,[{key:"getIdToken",value:function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wc(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(dc(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return zc.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Xc.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(dc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){dc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Nt(At().mark((function e(t){var n,r,i=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,$c(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Nt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Wc(this,Dc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;dc(k&&x,t,"internal-error");var S=tl.fromJSON(this.name,x);dc("string"===typeof k,t,"internal-error"),nl(f,t.name),nl(h,t.name),dc("boolean"===typeof b,t,"internal-error"),dc("boolean"===typeof w,t,"internal-error"),nl(d,t.name),nl(p,t.name),nl(v,t.name),nl(y,t.name),nl(m,t.name),nl(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=Nt(At().mark((function t(n,r){var i,a,o,u=arguments;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new tl).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,$c(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),il=new Map;function al(e){vc(e instanceof Function,"Expected a class definition");var t=il.get(e);return t?(vc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,il.set(e,t),t)}var ol=function(){function e(){Gt(this,e),this.type="NONE",this.storage={}}return $t(e,[{key:"_isAvailable",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ol.type="NONE";var ul=ol;function sl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var cl=function(){function e(t,n,r){Gt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=sl(this.userKey,a.apiKey,o),this.fullPersistenceKey=sl("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return $t(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Nt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?rl._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Nt(At().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(al(ul),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||al(ul),u=sl(i,n.config.apiKey,n.name),s=null,c=on(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=rl._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ll(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yl(t))return"Blackberry";if(ml(t))return"Webos";if(hl(t))return"Safari";if((t.includes("chrome/")||dl(t))&&!t.includes("edge/"))return"Chrome";if(vl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function fl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo();return/firefox\//i.test(e)}function hl(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo();return/crios\//i.test(e)}function pl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo();return/iemobile/i.test(e)}function vl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo();return/android/i.test(e)}function yl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo();return/blackberry/i.test(e)}function ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo();return/webos/i.test(e)}function gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function kl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo();return gl(e)||vl(e)||ml(e)||yl(e)||/windows phone/i.test(e)||pl(e)}function bl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ll(Jo());break;case"Worker":t="".concat(ll(Jo()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ds,"/").concat(r)}function wl(e){return _l.apply(this,arguments)}function _l(){return _l=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ec(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}function xl(e,t){return Sl.apply(this,arguments)}function Sl(){return Sl=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ec(t,"GET","/v2/recaptchaConfig",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}function El(e){return void 0!==e&&void 0!==e.getResponse}function Il(e){return void 0!==e&&void 0!==e.enterprise}var Tl=$t((function e(t){if(Gt(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Cl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=cc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ol(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Al=function(){function e(t){Gt(this,e),this.type="recaptcha-enterprise",this.auth=Ll(t)}return $t(e,[{key:"verify",value:function(){var e=Nt(At().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Il(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Nt(At().mark((function e(n,r){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xl(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Tl(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Il(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Cl("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pl(e,t,n){return Nl.apply(this,arguments)}function Nl(){return Nl=Nt(At().mark((function e(t,n,r){var i,a,o,u,s=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Al(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Nl.apply(this,arguments)}var Rl=function(){function e(t){Gt(this,e),this.auth=t,this.queue=[]}return $t(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Nt(At().mark((function e(t){var n,r,i,a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=on(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=on(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch($){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Dl=function(){function e(t,n,r,i){Gt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ml(this),this.idTokenSubscription=new Ml(this),this.beforeStateQueue=new Rl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ic,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return $t(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=al(t)),this._initializationPromise=this.queue(Nt(At().mark((function r(){var i,a;return At().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,cl.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Nt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Nt(At().mark((function e(t){var n,r,i,a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return dc(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$c(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?mu(t):null)&&dc(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Nt(At().mark((function e(t){var n,r=this,i=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&dc(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Nt(At().mark((function n(){return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(al(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Nt(At().mark((function e(){var t,n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xl(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Tl(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Al(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new au("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Nt(At().mark((function e(t,n){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return dc(n=t&&al(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,cl.create(this,[al(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Nt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Nt(At().mark((function e(t){var n=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return dc(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return dc(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bl(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Nt(At().mark((function e(){var t,n,r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Nt(At().mark((function e(){var t,n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&oc("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ll(e){return mu(e)}var Ml=function(){function e(t){var n=this;Gt(this,e),this.auth=t,this.observer=null,this.addObserver=pu((function(e){return n.observer=e}))}return $t(e,[{key:"next",get:function(){return dc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function jl(e,t,n){var r=Ll(e);dc(r._canInitEmulator,r,"emulator-config-failed"),dc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Fl(t),o=function(e){var t=Fl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ul(r.substr(a.length+1))}}var o=Wt(r.split(":"),2);return{host:o[0],port:Ul(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Fl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ul(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Vl=function(){function e(t,n){Gt(this,e),this.providerId=t,this.signInMethod=n}return $t(e,[{key:"toJSON",value:function(){return pc("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return pc("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return pc("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return pc("not implemented")}}]),e}();function zl(e,t){return Bl.apply(this,arguments)}function Bl(){return Bl=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ec(t,"POST","/v1/accounts:resetPassword",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bl.apply(this,arguments)}function ql(e,t){return Wl.apply(this,arguments)}function Wl(){return Wl=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ec(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Wl.apply(this,arguments)}function Hl(e,t){return Kl.apply(this,arguments)}function Kl(){return Kl=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ec(t,"POST","/v1/accounts:update",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Gl(e,t){return Ql.apply(this,arguments)}function Ql(){return Ql=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithPassword",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function $l(e,t){return Yl.apply(this,arguments)}function Yl(){return Yl=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ec(t,"POST","/v1/accounts:sendOobCode",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}function Xl(e,t){return Jl.apply(this,arguments)}function Jl(){return Jl=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$l(t,n));case 1:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}function Zl(e,t){return ef.apply(this,arguments)}function ef(){return ef=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$l(t,n));case 1:case"end":return e.stop()}}),e)}))),ef.apply(this,arguments)}function tf(e,t){return nf.apply(this,arguments)}function nf(){return nf=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$l(t,n));case 1:case"end":return e.stop()}}),e)}))),nf.apply(this,arguments)}function rf(e,t){return af.apply(this,arguments)}function af(){return af=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$l(t,n));case 1:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}function of(e,t){return uf.apply(this,arguments)}function uf(){return uf=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithEmailLink",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),uf.apply(this,arguments)}function sf(e,t){return cf.apply(this,arguments)}function cf(){return cf=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithEmailLink",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}var lf=function(e){Xt(n,e);var t=tn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Gt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return $t(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Nt(At().mark((function e(t){var n,r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Pl(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Gl(t,i));case 11:return e.abrupt("return",Gl(t,r).catch(function(){var e=Nt(At().mark((function e(n){var i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Pl(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Gl(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",of(t,{email:this._email,oobCode:this._password}));case 13:sc(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ql(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",sf(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:sc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Vl);function ff(e,t){return hf.apply(this,arguments)}function hf(){return hf=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithIdp",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}var df=function(e){Xt(n,e);var t=tn(n);function n(){var e;return Gt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return $t(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ff(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ff(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ff(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fu(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sc("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ar(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Vl);function pf(e,t){return vf.apply(this,arguments)}function vf(){return vf=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ec(t,"POST","/v1/accounts:sendVerificationCode",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),vf.apply(this,arguments)}function yf(){return yf=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithPhoneNumber",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),yf.apply(this,arguments)}function mf(){return mf=Nt(At().mark((function e(t,n){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oc(t,"POST","/v1/accounts:signInWithPhoneNumber",Sc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Rc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),mf.apply(this,arguments)}var gf=h({},"USER_NOT_FOUND","user-not-found");function kf(){return kf=Nt(At().mark((function e(t,n){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithPhoneNumber",Sc(t,r),gf));case 2:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}var bf=function(e){Xt(n,e);var t=tn(n);function n(e){var r;return Gt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return $t(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return yf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return mf.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return kf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Vl);var wf=function(){function e(t){var n,r,i,a,o,u;Gt(this,e);var s=hu(du(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);dc(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return $t(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=hu(du(e)).link,n=t?hu(du(t)).deep_link_id:null,r=hu(du(e)).deep_link_id;return(r?hu(du(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var _f=function(){function e(){Gt(this,e),this.providerId=e.PROVIDER_ID}return $t(e,null,[{key:"credential",value:function(e,t){return lf._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=wf.parseLink(t);return dc(n,"argument-error"),lf._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();_f.PROVIDER_ID="password",_f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_f.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var xf=function(){function e(t){Gt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return $t(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Sf=function(e){Xt(n,e);var t=tn(n);function n(){var e;return Gt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return $t(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Kt(this.scopes)}}]),n}(xf),Ef=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.apply(this,arguments)}return $t(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return dc(e.idToken||e.accessToken,"argument-error"),df._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return dc("providerId"in t&&"signInMethod"in t,"argument-error"),df._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Sf),If=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.call(this,"facebook.com")}return $t(n,null,[{key:"credential",value:function(e){return df._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Sf);If.FACEBOOK_SIGN_IN_METHOD="facebook.com",If.PROVIDER_ID="facebook.com";var Tf=function(e){Xt(n,e);var t=tn(n);function n(){var e;return Gt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return $t(n,null,[{key:"credential",value:function(e,t){return df._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Sf);Tf.GOOGLE_SIGN_IN_METHOD="google.com",Tf.PROVIDER_ID="google.com";var Cf=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.call(this,"github.com")}return $t(n,null,[{key:"credential",value:function(e){return df._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Sf);Cf.GITHUB_SIGN_IN_METHOD="github.com",Cf.PROVIDER_ID="github.com";var Of=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return $t(n,[{key:"_getIdTokenResponse",value:function(e){return ff(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ff(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ff(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Vl),Af=function(e){Xt(n,e);var t=tn(n);function n(e){return Gt(this,n),dc(e.startsWith("saml."),"argument-error"),t.call(this,e)}return $t(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Of.fromJSON(e);return dc(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Of._create(r,n)}catch(i){return null}}}]),n}(xf),Pf=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.call(this,"twitter.com")}return $t(n,null,[{key:"credential",value:function(e,t){return df._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Sf);function Nf(e,t){return Rf.apply(this,arguments)}function Rf(){return Rf=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signUp",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rf.apply(this,arguments)}Pf.TWITTER_SIGN_IN_METHOD="twitter.com",Pf.PROVIDER_ID="twitter.com";var Df=function(){function e(t){Gt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return $t(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Nt(At().mark((function t(n,r,i){var a,o,u,s,c=arguments;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,rl._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Lf(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Nt(At().mark((function t(n,r,i){var a;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Lf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Lf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Mf(){return Mf=Nt(At().mark((function e(t){var n,r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ll(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Df({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Nf(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Df._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}var jf=function(e){Xt(n,e);var t=tn(n);function n(e,r,i,a){var o,u;return Gt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(en(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return $t(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(iu);function Ff(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw jf._fromErrorAndOperation(e,n,t,r);throw n}))}function Uf(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Vf(e,t){return zf.apply(this,arguments)}function zf(){return zf=Nt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mu(t),e.next=3,Wf(!0,r,n);case 3:return e.t0=Mc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Uf(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}function Bf(e,t){return qf.apply(this,arguments)}function qf(){return qf=Nt(At().mark((function e(t,n){var r,i,a=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Wc,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Df._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}function Wf(e,t,n){return Hf.apply(this,arguments)}function Hf(){return Hf=Nt(At().mark((function e(t,n,r){var i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$c(n);case 2:i=Uf(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",dc(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}function Kf(e,t){return Gf.apply(this,arguments)}function Gf(){return Gf=Nt(At().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Wc(t,Ff(i,a,n,t),r);case 6:return dc((o=e.sent).idToken,i,"internal-error"),dc(u=qc(o.idToken),i,"internal-error"),s=u.sub,dc(t.uid===s,i,"user-mismatch"),e.abrupt("return",Df._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&sc(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Gf.apply(this,arguments)}function Qf(e,t){return $f.apply(this,arguments)}function $f(){return $f=Nt(At().mark((function e(t,n){var r,i,a,o,u=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Ff(t,i,n);case 4:return a=e.sent,e.next=7,Df._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}function Yf(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qf(Ll(t),n));case 1:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Jf(e,t){return Zf.apply(this,arguments)}function Zf(){return(Zf=Nt(At().mark((function e(t,n){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mu(t),e.next=3,Wf(!1,r,n.providerId);case 3:return e.abrupt("return",Bf(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eh(e,t){return th.apply(this,arguments)}function th(){return(th=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kf(mu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nh(e,t){return rh.apply(this,arguments)}function rh(){return rh=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc(t,"POST","/v1/accounts:signInWithCustomToken",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),rh.apply(this,arguments)}function ih(){return ih=Nt(At().mark((function e(t,n){var r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ll(t),e.next=3,nh(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Df._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}var ah=function(){function e(t,n){Gt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return $t(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?oh._fromServerResponse(e,t):"totpInfo"in t?uh._fromServerResponse(e,t):sc(e,"internal-error")}}]),e}(),oh=function(e){Xt(n,e);var t=tn(n);function n(e){var r;return Gt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return $t(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ah),uh=function(e){Xt(n,e);var t=tn(n);function n(e){return Gt(this,n),t.call(this,"totp",e)}return $t(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ah);function sh(e,t,n){var r;dc((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),dc("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(dc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(dc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ch(){return ch=Nt(At().mark((function e(t,n,r){var i,a,o,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ll(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Pl(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&sh(a,u,r),e.next=9,Zl(a,u);case 9:e.next=14;break;case 11:return r&&sh(a,o,r),e.next=14,Zl(a,o).catch(function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Pl(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&sh(a,n,r),e.next=8,Zl(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}function lh(){return lh=Nt(At().mark((function e(t,n,r){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zl(mu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function fh(){return fh=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hl(mu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),fh.apply(this,arguments)}function hh(e,t){return dh.apply(this,arguments)}function dh(){return dh=Nt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mu(t),e.next=3,zl(r,{oobCode:n});case 3:i=e.sent,dc(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return dc(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:dc(i.mfaInfo,r,"internal-error");case 13:dc(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ah._fromServerResponse(Ll(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),dh.apply(this,arguments)}function ph(){return ph=Nt(At().mark((function e(t,n){var r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hh(mu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}function vh(e,t,n){return yh.apply(this,arguments)}function yh(){return yh=Nt(At().mark((function e(t,n,r){var i,a,o,u,s,c,l;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ll(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Pl(a,o,"signUpPassword");case 5:s=e.sent,u=Nf(a,s),e.next=10;break;case 9:u=Nf(a,o).catch(function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Pl(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Nf(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Df._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),yh.apply(this,arguments)}function mh(){return mh=Nt(At().mark((function e(t,n,r){var i,a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){dc(t.handleCodeInApp,a,"argument-error"),t&&sh(a,e,t)},a=Ll(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Pl(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,tf(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,tf(a,o).catch(function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Pl(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,tf(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),mh.apply(this,arguments)}function gh(){return gh=Nt(At().mark((function e(t,n,r){var i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mu(t),dc((a=_f.credentialWithLink(n,r||yc()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Yf(i,a));case 4:case"end":return e.stop()}}),e)}))),gh.apply(this,arguments)}function kh(e,t){return bh.apply(this,arguments)}function bh(){return bh=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ec(t,"POST","/v1/accounts:createAuthUri",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}function wh(){return wh=Nt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mc()?yc():"http://localhost",i={identifier:n,continueUri:r},e.next=4,kh(mu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),wh.apply(this,arguments)}function _h(){return(_h=Nt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&sh(r.auth,a,n),e.next=8,Xl(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xh(){return(xh=Nt(At().mark((function e(t,n,r){var i,a,o,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&sh(i.auth,o,r),e.next=8,rf(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sh(e,t){return Eh.apply(this,arguments)}function Eh(){return Eh=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ec(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Eh.apply(this,arguments)}function Ih(){return(Ih=Nt(At().mark((function e(t,n){var r,i,a,o,u,s,c;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=mu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Wc(a,Sh(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Th(e,t,n){return Ch.apply(this,arguments)}function Ch(){return Ch=Nt(At().mark((function e(t,n,r){var i,a,o,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Wc(t,ql(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Ch.apply(this,arguments)}var Oh=$t((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Gt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ah=function(e){Xt(n,e);var t=tn(n);function n(e,r,i,a){var o;return Gt(this,n),(o=t.call(this,e,r,i)).username=a,o}return $t(n)}(Oh),Ph=function(e){Xt(n,e);var t=tn(n);function n(e,r){return Gt(this,n),t.call(this,e,"facebook.com",r)}return $t(n)}(Oh),Nh=function(e){Xt(n,e);var t=tn(n);function n(e,r){return Gt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return $t(n)}(Ah),Rh=function(e){Xt(n,e);var t=tn(n);function n(e,r){return Gt(this,n),t.call(this,e,"google.com",r)}return $t(n)}(Oh),Dh=function(e){Xt(n,e);var t=tn(n);function n(e,r,i){return Gt(this,n),t.call(this,e,"twitter.com",r,i)}return $t(n)}(Ah);function Lh(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=qc(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Oh(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ph(a,i);case"github.com":return new Nh(a,i);case"google.com":return new Rh(a,i);case"twitter.com":return new Dh(a,i,e.screenName||null);case"custom":case"anonymous":return new Oh(a,null);default:return new Oh(a,r,i)}}(n)}var Mh=function(){function e(t,n,r){Gt(this,e),this.type=t,this.credential=n,this.user=r}return $t(e,[{key:"toJSON",value:function(){return{multiFactorSession:h({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),jh=function(){function e(t,n,r){Gt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return $t(e,[{key:"resolveSignIn",value:function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ll(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ah._fromServerResponse(r,e)}));dc(i.mfaPendingCredential,r,"internal-error");var o=Mh._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Nt(At().mark((function e(t){var a,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Df._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return dc(n.user,r,"internal-error"),e.abrupt("return",Df._forOperation(n.user,n.operationType,u));case 17:sc(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Fh(e,t){return Ec(e,"POST","/v2/accounts/mfaEnrollment:start",Sc(e,t))}function Uh(e,t){return Ec(e,"POST","/v2/accounts/mfaEnrollment:start",Sc(e,t))}function Vh(e,t){return Ec(e,"POST","/v2/accounts/mfaEnrollment:finalize",Sc(e,t))}function zh(e,t){return Ec(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Sc(e,t))}var Bh=function(){function e(t){var n=this;Gt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ah._fromServerResponse(t.auth,e)})))}))}return $t(e,[{key:"getSession",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Mh,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Nt(At().mark((function e(t,n){var r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Wc(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Nt(At().mark((function e(t){var n,r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Wc(this.user,zh(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),qh=new WeakMap;var Wh="__sak",Hh=function(){function e(t,n){Gt(this,e),this.storageRetriever=t,this.type=n}return $t(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Kh=function(e){Xt(n,e);var t=tn(n);function n(){var e;return Gt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Jo();return hl(e)||gl(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=kl(),e._shouldAllowMigration=!0,e}return $t(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);nu()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Nt(At().mark((function e(t,r){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs(Jt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Nt(At().mark((function e(t){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs(Jt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs(Jt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Hh);Kh.type="LOCAL";var Gh=Kh,Qh=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return $t(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Hh);Qh.type="SESSION";var $h=Qh;function Yh(e){return Promise.all(e.map(function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Xh=function(){function e(t){Gt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return $t(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Nt(At().mark((function e(t){var n,r,i,a,o,u,s,c;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Yh(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Jh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Xh.receivers=[];var Zh=function(){function e(t){Gt(this,e),this.target=t,this.handlers=new Set}return $t(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Nt(At().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Jh("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ed(){return window}function td(e){ed().location.href=e}function nd(){return"undefined"!==typeof ed().WorkerGlobalScope&&"function"===typeof ed().importScripts}function rd(){return id.apply(this,arguments)}function id(){return(id=Nt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ad(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var od="firebaseLocalStorageDb",ud="firebaseLocalStorage",sd="fbase_key",cd=function(){function e(t){Gt(this,e),this.request=t}return $t(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ld(e,t){return e.transaction([ud],t?"readwrite":"readonly").objectStore(ud)}function fd(){var e=indexedDB.deleteDatabase(od);return new cd(e).toPromise()}function hd(){var e=indexedDB.open(od,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ud,{keyPath:sd})}catch(r){n(r)}})),e.addEventListener("success",Nt(At().mark((function n(){var r;return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ud)){n.next=12;break}return r.close(),n.next=5,fd();case 5:return n.t0=t,n.next=8,hd();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function dd(e,t,n){return pd.apply(this,arguments)}function pd(){return pd=Nt(At().mark((function e(t,n,r){var i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ld(t,!0).put((h(i={},sd,n),h(i,"value",r),i)),e.abrupt("return",new cd(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(e,t){return yd.apply(this,arguments)}function yd(){return yd=Nt(At().mark((function e(t,n){var r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ld(t,!1).get(n),e.next=3,new cd(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function md(e,t){var n=ld(e,!0).delete(t);return new cd(n).toPromise()}var gd=function(){function e(){Gt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return $t(e,[{key:"_openDb",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,hd();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Nt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nd()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Nt(At().mark((function e(){var t=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Xh._getInstance(nd()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Nt(At().mark((function e(n,r){var i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Nt(At().mark((function e(){var t,n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rd();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Zh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ad()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Nt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,hd();case 5:return t=e.sent,e.next=8,dd(t,Wh,"1");case 8:return e.next=10,md(t,Wh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Nt(At().mark((function e(t,n){var r=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return dd(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return vd(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Nt(At().mark((function e(t){var n=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return md(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Nt(At().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ld(e,!1).getAll();return new cd(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=on(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Nt(At().mark((function t(){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();gd.type="LOCAL";var kd=gd;function bd(e,t){return Ec(e,"POST","/v2/accounts/mfaSignIn:start",Sc(e,t))}function wd(e,t){return Ec(e,"POST","/v2/accounts/mfaSignIn:finalize",Sc(e,t))}var _d=1e12,xd=function(){function e(t){Gt(this,e),this.auth=t,this.counter=_d,this._widgets=new Map}return $t(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Sd(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||_d;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||_d;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Nt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||_d,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Sd=function(){function e(t,n,r){var i=this;Gt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;dc(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return $t(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ed=Ol("rcb"),Id=new kc(3e4,6e4),Td=function(){function e(){var t;Gt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=ed().grecaptcha)||void 0===t?void 0:t.render)}return $t(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return dc(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&El(ed().grecaptcha)?Promise.resolve(ed().grecaptcha):new Promise((function(r,i){var a=ed().setTimeout((function(){i(cc(e,"network-request-failed"))}),Id.get());ed()[Ed]=function(){ed().clearTimeout(a),delete ed()[Ed];var o=ed().grecaptcha;if(o&&El(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(cc(e,"internal-error"))},Cl("".concat("https://www.google.com/recaptcha/api.js?","?").concat(fu({onload:Ed,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(cc(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=ed().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Cd=function(){function e(){Gt(this,e)}return $t(e,[{key:"load",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new xd(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Od="recaptcha",Ad={theme:"light",type:"image"},Pd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Ad);Gt(this,e),this.parameters=r,this.type=Od,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ll(t),this.isInvisible="invisible"===this.parameters.size,dc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;dc(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cd:new Td,this.validateStartingState()}return $t(e,[{key:"verify",value:function(){var e=Nt(At().mark((function e(){var t,n,r,i=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){dc(!this.parameters.sitekey,this.auth,"argument-error"),dc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),dc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ed()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){dc(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Nt(At().mark((function e(){var t,n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Nt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dc(mc()&&!nd(),this.auth,"internal-error"),e.next=3,Nd();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,wl(this.auth);case 8:dc(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return dc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Nd(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Rd=function(){function e(t,n){Gt(this,e),this.verificationId=t,this.onConfirmation=n}return $t(e,[{key:"confirm",value:function(e){var t=bf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Dd(){return Dd=Nt(At().mark((function e(t,n,r){var i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ll(t),e.next=3,Fd(i,n,mu(r));case 3:return a=e.sent,e.abrupt("return",new Rd(a,(function(e){return Yf(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Dd.apply(this,arguments)}function Ld(e,t,n){return Md.apply(this,arguments)}function Md(){return(Md=Nt(At().mark((function e(t,n,r){var i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mu(t),e.next=3,Wf(!1,i,"phone");case 3:return e.next=5,Fd(i.auth,n,mu(r));case 5:return a=e.sent,e.abrupt("return",new Rd(a,(function(e){return Jf(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jd(){return(jd=Nt(At().mark((function e(t,n,r){var i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mu(t),e.next=3,Fd(i.auth,n,mu(r));case 3:return a=e.sent,e.abrupt("return",new Rd(a,(function(e){return eh(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fd(e,t,n){return Ud.apply(this,arguments)}function Ud(){return Ud=Nt(At().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,dc("string"===typeof a,t,"argument-error"),dc(r.type===Od,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return dc("enroll"===u.type,t,"internal-error"),e.next=13,Fh(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return dc("signin"===u.type,t,"internal-error"),dc(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,bd(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,pf(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ud.apply(this,arguments)}function Vd(){return(Vd=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bf(mu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zd=function(){function e(t){Gt(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ll(t)}return $t(e,[{key:"verifyPhoneNumber",value:function(e,t){return Fd(this.auth,e,mu(t))}}],[{key:"credential",value:function(e,t){return bf._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?bf._fromTokenResponse(n,r):null}}]),e}();function Bd(e,t){return t?al(t):(dc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zd.PROVIDER_ID="phone",zd.PHONE_SIGN_IN_METHOD="phone";var qd=function(e){Xt(n,e);var t=tn(n);function n(e){var r;return Gt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return $t(n,[{key:"_getIdTokenResponse",value:function(e){return ff(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ff(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ff(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Vl);function Wd(e){return Qf(e.auth,new qd(e),e.bypassAuthState)}function Hd(e){var t=e.auth,n=e.user;return dc(n,t,"internal-error"),Kf(n,new qd(e),e.bypassAuthState)}function Kd(e){return Gd.apply(this,arguments)}function Gd(){return Gd=Nt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,dc(r=t.user,n,"internal-error"),e.abrupt("return",Bf(r,new qd(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Gd.apply(this,arguments)}var Qd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Gt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return $t(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Nt(At().mark((function t(n,r){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Nt(At().mark((function e(t){var n,r,i,a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wd;case"linkViaPopup":case"linkViaRedirect":return Kd;case"reauthViaPopup":case"reauthViaRedirect":return Hd;default:sc(this.auth,"internal-error")}}},{key:"resolve",value:function(e){vc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){vc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),$d=new kc(2e3,1e4);function Yd(e,t,n){return Xd.apply(this,arguments)}function Xd(){return Xd=Nt(At().mark((function e(t,n,r){var i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ll(t),fc(t,n,xf),a=Bd(i,r),o=new tp(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Xd.apply(this,arguments)}function Jd(){return Jd=Nt(At().mark((function e(t,n,r){var i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fc((i=mu(t)).auth,n,xf),a=Bd(i.auth,r),o=new tp(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Jd.apply(this,arguments)}function Zd(e,t,n){return ep.apply(this,arguments)}function ep(){return ep=Nt(At().mark((function e(t,n,r){var i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fc((i=mu(t)).auth,n,xf),a=Bd(i.auth,r),o=new tp(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ep.apply(this,arguments)}var tp=function(e){Xt(n,e);var t=tn(n);function n(e,r,i,a,o){var u;return Gt(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=en(u),u}return $t(n,[{key:"executeNotNull",value:function(){var e=Nt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return dc(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Nt(At().mark((function e(){var t,n=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vc(1===this.filter.length,"Popup operations only handle one event"),t=Jh(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(cc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(cc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(cc(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,$d.get())}()}}]),n}(Qd);tp.currentPopupAction=null;var np="pendingRedirect",rp=new Map,ip=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Gt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return $t(n,[{key:"execute",value:function(){var e=Nt(At().mark((function e(){var t,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=rp.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ap(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Gs(Jt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:rp.set(this.auth._key(),t);case 21:return this.bypassAuthState||rp.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Nt(At().mark((function e(t){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Gs(Jt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Gs(Jt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Qd);function ap(e,t){return op.apply(this,arguments)}function op(){return op=Nt(At().mark((function e(t,n){var r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fp(n),i=lp(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),op.apply(this,arguments)}function up(e,t){return sp.apply(this,arguments)}function sp(){return sp=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lp(t)._set(fp(n),"true"));case 1:case"end":return e.stop()}}),e)}))),sp.apply(this,arguments)}function cp(e,t){rp.set(e._key(),t)}function lp(e){return al(e._redirectPersistence)}function fp(e){return sl(np,e.config.apiKey,e.name)}function hp(e,t,n){return function(e,t,n){return dp.apply(this,arguments)}(e,t,n)}function dp(){return dp=Nt(At().mark((function e(t,n,r){var i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ll(t),fc(t,n,xf),e.next=4,i._initializationPromise;case 4:return a=Bd(i,r),e.next=7,up(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}function pp(e,t,n){return function(e,t,n){return vp.apply(this,arguments)}(e,t,n)}function vp(){return vp=Nt(At().mark((function e(t,n,r){var i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fc((i=mu(t)).auth,n,xf),e.next=4,i.auth._initializationPromise;case 4:return a=Bd(i.auth,r),e.next=7,up(a,i.auth);case 7:return e.next=9,_p(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),vp.apply(this,arguments)}function yp(e,t,n){return function(e,t,n){return mp.apply(this,arguments)}(e,t,n)}function mp(){return mp=Nt(At().mark((function e(t,n,r){var i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fc((i=mu(t)).auth,n,xf),e.next=4,i.auth._initializationPromise;case 4:return a=Bd(i.auth,r),e.next=7,Wf(!1,i,n.providerId);case 7:return e.next=9,up(a,i.auth);case 9:return e.next=11,_p(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)}))),mp.apply(this,arguments)}function gp(e,t){return kp.apply(this,arguments)}function kp(){return kp=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ll(t)._initializationPromise;case 2:return e.abrupt("return",bp(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function bp(e,t){return wp.apply(this,arguments)}function wp(){return wp=Nt(At().mark((function e(t,n){var r,i,a,o,u,s=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ll(t),a=Bd(i,n),o=new ip(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),wp.apply(this,arguments)}function _p(e){return xp.apply(this,arguments)}function xp(){return(xp=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jh("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sp=function(){function e(t){Gt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return $t(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ip(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ip(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(cc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ep(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ep(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ep(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ip(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Tp(e){return Cp.apply(this,arguments)}function Cp(){return Cp=Nt(At().mark((function e(t){var n,r=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ec(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Cp.apply(this,arguments)}var Op=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ap=/^https?/;function Pp(){return Pp=Nt(At().mark((function e(t){var n,r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Tp(t);case 4:n=e.sent,r=n.authorizedDomains,i=on(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Np(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:sc(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Pp.apply(this,arguments)}function Np(e){var t=yc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ap.test(r))return!1;if(Op.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Rp=new kc(3e4,6e4);function Dp(){var e=ed().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Kt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Lp=null;function Mp(e){return Lp=Lp||function(e){return new Promise((function(t,n){var r,i,a;function o(){Dp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Dp(),n(cc(e,"network-request-failed"))},timeout:Rp.get()})}if(null===(i=null===(r=ed().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ed().gapi)||void 0===a?void 0:a.load)){var u=Ol("iframefcb");return ed()[u]=function(){gapi.load?o():n(cc(e,"network-request-failed"))},Cl("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Lp=null,e}))}(e),Lp}var jp=new kc(5e3,15e3),Fp="__/auth/iframe",Up="emulator/auth/iframe",Vp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bp(e){var t=e.config;dc(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?bc(t,Up):"https://".concat(e.config.authDomain,"/").concat(Fp),r={apiKey:t.apiKey,appName:e.name,v:ds},i=zp.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(fu(r).slice(1))}function qp(e){return Wp.apply(this,arguments)}function Wp(){return Wp=Nt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mp(t);case 2:return n=e.sent,dc(r=ed().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Bp(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vp,dontclear:!0},(function(e){return new Promise(function(){var n=Nt(At().mark((function n(r,i){var a,o,u;return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ed().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=cc(t,"network-request-failed"),o=ed().setTimeout((function(){i(a)}),jp.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Wp.apply(this,arguments)}var Hp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kp=function(){function e(t){Gt(this,e),this.window=t,this.associatedEvent=null}return $t(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Gp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Hp),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Jo().toLowerCase();n&&(u=dl(c)?"_blank":n),fl(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Wt(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return gl(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Kp(null);var f=window.open(t||"",u,l);dc(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Kp(f)}var Qp="__/auth/handler",$p="emulator/auth/handler",Yp=encodeURIComponent("fac");function Xp(e,t,n,r,i,a){return Jp.apply(this,arguments)}function Jp(){return Jp=Nt(At().mark((function e(t,n,r,i,a,o){var u,s,c,l,f,h,d,p,v,y,m,g,k;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dc(t.config.authDomain,t,"auth-domain-config-required"),dc(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:ds,eventId:a},n instanceof xf)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",su(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)l=Wt(c[s],2),f=l[0],h=l[1],u[f]=h;for(n instanceof Sf&&(d=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=d.join(",")),t.tenantId&&(u.tid=t.tenantId),p=u,v=0,y=Object.keys(p);v<y.length;v++)m=y[v],void 0===p[m]&&delete p[m];return e.next=10,t._getAppCheckToken();case 10:return g=e.sent,k=g?"#".concat(Yp,"=").concat(encodeURIComponent(g)):"",e.abrupt("return","".concat(Zp(t),"?").concat(fu(p).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),Jp.apply(this,arguments)}function Zp(e){var t=e.config;return t.emulator?bc(t,$p):"https://".concat(t.authDomain,"/").concat(Qp)}var ev="webStorageSupport",tv=function(){function e(){Gt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$h,this._completeRedirectFn=bp,this._overrideRedirectResult=cp}return $t(e,[{key:"_openPopup",value:function(){var e=Nt(At().mark((function e(t,n,r,i){var a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vc(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Xp(t,n,r,yc(),i);case 3:return o=e.sent,e.abrupt("return",Gp(t,o,Jh()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Nt(At().mark((function e(t,n,r,i){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Xp(t,n,r,yc(),i);case 4:return td(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(vc(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Nt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qp(t);case 2:return n=e.sent,r=new Sp(t),n.register("authEvent",(function(e){return dc(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ev,{type:ev},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ev];void 0!==i&&t(!!i),sc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Pp.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return kl()||hl()||gl()}}]),e}(),nv=tv,rv=function(){function e(t){Gt(this,e),this.factorId=t}return $t(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return pc("unexpected MultiFactorSessionType")}}}]),e}(),iv=function(e){Xt(n,e);var t=tn(n);function n(e){var r;return Gt(this,n),(r=t.call(this,"phone")).credential=e,r}return $t(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ec(e,"POST","/v2/accounts/mfaEnrollment:finalize",Sc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ec(e,"POST","/v2/accounts/mfaSignIn:finalize",Sc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(rv),av=function(){function e(){Gt(this,e)}return $t(e,null,[{key:"assertion",value:function(e){return iv._fromCredential(e)}}]),e}();av.FACTOR_ID="phone";var ov=function(){function e(){Gt(this,e)}return $t(e,null,[{key:"assertionForEnrollment",value:function(e,t){return uv._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return uv._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Nt(At().mark((function e(t){var n,r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dc("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Uh(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",sv._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();ov.FACTOR_ID="totp";var uv=function(e){Xt(n,e);var t=tn(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return $t(n,[{key:"_finalizeEnroll",value:function(){var e=Nt(At().mark((function e(t,n,r){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dc("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Vh(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Nt(At().mark((function e(t,n){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dc(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",wd(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(rv),sv=function(){function e(t,n,r,i,a,o,u){Gt(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return $t(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(cv(e)||cv(t))&&(r=!0),r&&(cv(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),cv(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function cv(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var lv="@firebase/auth",fv="1.1.0",hv=function(){function e(t){Gt(this,e),this.auth=t,this.internalListeners=new Map}return $t(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){dc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var dv;!function(e){var t;null===(t=$o())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function pv(){return window}dv="Browser",os(new gu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;dc(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:dv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bl(dv)},l=new Dl(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(al);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),os(new gu("auth-internal",(function(e){return function(e){return new hv(e)}(Ll(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ks(lv,fv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(dv)),ks(lv,fv,"esm2017");var vv=2e3;function yv(e,t,n){return mv.apply(this,arguments)}function mv(){return mv=Nt(At().mark((function e(t,n,r){var i,a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=pv(),o=a.BuildInfo,vc(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,xv(n.sessionId);case 4:return u=e.sent,s={},gl()?s.ibi=o.packageName:vl()?s.apn=o.packageName:sc(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Xp(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),mv.apply(this,arguments)}function gv(){return gv=Nt(At().mark((function e(t){var n,r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pv(),r=n.BuildInfo,i={},gl()?i.iosBundleId=r.packageName:vl()?i.androidPackageName=r.packageName:sc(t,"operation-not-supported-in-this-environment"),e.next=5,Tp(t,i);case 5:case"end":return e.stop()}}),e)}))),gv.apply(this,arguments)}function kv(e){var t=pv().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function bv(e,t,n){return wv.apply(this,arguments)}function wv(){return wv=Nt(At().mark((function e(t,n,r){var i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pv(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(cc(t,"redirect-cancelled-by-user"))}),vv))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),vl()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),wv.apply(this,arguments)}function _v(e){var t,n,r,i,a,o,u,s,c,l,f=pv();dc("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),dc("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),dc("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),dc("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),dc("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function xv(e){return Sv.apply(this,arguments)}function Sv(){return(Sv=Nt(At().mark((function e(t){var n,r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ev(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ev(e){if(vc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Iv=20,Tv=function(e){Xt(n,e);var t=tn(n);function n(){var e;return Gt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return $t(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Gs(Jt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sp);function Cv(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Rv(),postBody:null,tenantId:e.tenantId,error:cc(e,"no-auth-event")}}function Ov(e,t){return Dv()._set(Lv(e),t)}function Av(e){return Pv.apply(this,arguments)}function Pv(){return Pv=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dv()._get(Lv(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Dv()._remove(Lv(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Nv(e,t){var n,r,i=function(e){var t=Mv(e),n=t.link?decodeURIComponent(t.link):void 0,r=Mv(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Mv(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Mv(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?cc(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Rv(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Iv;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Dv(){return al(Gh)}function Lv(e){return sl("authEvent",e.config.apiKey,e.name)}function Mv(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=an(e.split("?"));t[0];return hu(t.slice(1).join("?"))}var jv=function(){function e(){Gt(this,e),this._redirectPersistence=$h,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bp,this._overrideRedirectResult=cp}return $t(e,[{key:"_initialize",value:function(){var e=Nt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Tv(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){sc(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Nt(At().mark((function e(t,n,r,i){var a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _v(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),rp.clear(),e.next=10,this._originValidation(t);case 10:return o=Cv(t,r,i),e.next=13,Ov(t,o);case 13:return e.next=15,yv(t,o,n);case 15:return u=e.sent,e.next=18,kv(u);case 18:return s=e.sent,e.abrupt("return",bv(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return gv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=pv(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Nt(At().mark((function n(){return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Av(e);case 2:t.onEvent(Uv());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Nt(At().mark((function n(r){var i,a;return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Av(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Nv(i,r.url)),t.onEvent(a||Uv());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");pv().handleOpenURL=function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Fv=jv;function Uv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:cc("no-auth-event")}}var Vv=1e3;function zv(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Bv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo();return!("file:"!==zv()&&"ionic:"!==zv()&&"capacitor:"!==zv()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function qv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo();return nu()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo();return/Edge\/\d+/.test(e)}(e)}function Wv(){try{var e=self.localStorage,t=Jh();if(e)return e.setItem(t,"1"),e.removeItem(t),!qv()||ru()}catch(n){return Hv()&&ru()}return!1}function Hv(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Kv(){return("http:"===zv()||"https:"===zv()||eu()||Bv())&&!(tu()||Zo())&&Wv()&&!Hv()}function Gv(){return Bv()&&"undefined"!==typeof document}function Qv(){return $v.apply(this,arguments)}function $v(){return($v=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gv()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Vv);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yv={LOCAL:"local",NONE:"none",SESSION:"session"},Xv=dc,Jv="persistence";function Zv(e,t){Xv(Object.values(Yv).includes(t),e,"invalid-persistence-type"),tu()?Xv(t!==Yv.SESSION,e,"unsupported-persistence-type"):Zo()?Xv(t===Yv.NONE,e,"unsupported-persistence-type"):Hv()?Xv(t===Yv.NONE||t===Yv.LOCAL&&ru(),e,"unsupported-persistence-type"):Xv(t===Yv.NONE||Wv(),e,"unsupported-persistence-type")}function ey(e){return ty.apply(this,arguments)}function ty(){return ty=Nt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ny(),r=sl(Jv,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var ry=dc,iy=function(){function e(){Gt(this,e),this.browserResolver=al(nv),this.cordovaResolver=al(Fv),this.underlyingResolver=null,this._redirectPersistence=$h,this._completeRedirectFn=bp,this._overrideRedirectResult=cp}return $t(e,[{key:"_initialize",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Nt(At().mark((function e(t,n,r,i){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Nt(At().mark((function e(t,n,r,i){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Gv()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ry(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Nt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Qv();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ay(e){return e.unwrap()}function oy(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new fy(e,function(e,t){var n,r=mu(e),i=t;return dc(t.customData.operationType,r,"argument-error"),dc(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),jh._fromError(r,i)}(e,t));else if(r){var i=uy(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function uy(e){var t=(e instanceof iu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof iu)&&"temporaryProof"in t&&"phoneNumber"in t)return zd.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Qs.PASSWORD)return null;switch(r){case Qs.GOOGLE:n=Tf;break;case Qs.FACEBOOK:n=If;break;case Qs.GITHUB:n=Cf;break;case Qs.TWITTER:n=Pf;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Of._create(r,u):df._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Ef(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof iu?n.credentialFromError(e):n.credentialFromResult(e)}function sy(e,t){return t.catch((function(t){throw t instanceof iu&&oy(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,uy(t)),additionalUserInfo:Lh(e),user:hy.getOrCreate(r)}}))}function cy(e,t){return ly.apply(this,arguments)}function ly(){return ly=Nt(At().mark((function e(t,n){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return sy(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ly.apply(this,arguments)}var fy=function(){function e(t,n){Gt(this,e),this.resolver=n,this.auth=t.wrapped()}return $t(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return sy(ay(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),hy=function(){function e(t){Gt(this,e),this._delegate=t,this.multiFactor=function(e){var t=mu(e);return qh.has(t)||qh.set(t,Bh._fromUser(t)),qh.get(t)}(t)}return $t(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sy(this.auth,Jf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cy(this.auth,Ld(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sy(this.auth,Zd(this._delegate,t,iy)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ey(Ll(this.auth));case 2:return e.abrupt("return",yp(this._delegate,t,iy));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sy(this.auth,eh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return cy(this.auth,function(e,t,n){return jd.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return sy(this.auth,function(e,t,n){return Jd.apply(this,arguments)}(this._delegate,e,iy))}},{key:"reauthenticateWithRedirect",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ey(Ll(this.auth));case 2:return e.abrupt("return",pp(this._delegate,t,iy));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return _h.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vf(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Th(mu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Th(mu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Vd.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ih.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return xh.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();hy.USER_MAP=new WeakMap;var dy=dc,py=function(){function e(t,n){if(Gt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;dy(r,"invalid-api-key",{appName:t.name}),dy(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?iy:void 0;this._delegate=n.initialize({options:{persistence:yy(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(nc),this.linkUnderlyingAuth()}return $t(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?hy.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){jl(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return fh.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return hh(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return lh.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sy(this._delegate,vh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return wh.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=wf.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Nt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dy(Kv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,gp(this._delegate,iy);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",sy(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ll(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=vy(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=vy(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return mh.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ch.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Nt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zv(this._delegate,t),e.t0=t,e.next=e.t0===Yv.SESSION?4:e.t0===Yv.LOCAL?6:e.t0===Yv.NONE?11:13;break;case 4:return n=$h,e.abrupt("break",14);case 6:return e.next=8,al(kd)._isAvailable();case 8:return r=e.sent,n=r?kd:Gh,e.abrupt("break",14);case 11:return n=ul,e.abrupt("break",14);case 13:return e.abrupt("return",sc("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return sy(this._delegate,function(e){return Mf.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return sy(this._delegate,Yf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return sy(this._delegate,function(e,t){return ih.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return sy(this._delegate,function(e,t,n){return Yf(mu(e),_f.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return sy(this._delegate,function(e,t,n){return gh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return cy(this._delegate,function(e,t,n){return Dd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dy(Kv(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",sy(this._delegate,Yd(this._delegate,t,iy)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dy(Kv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ey(this._delegate);case 3:return e.abrupt("return",hp(this._delegate,t,iy));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ph.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function vy(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&hy.getOrCreate(e))},error:t,complete:n}}function yy(e,t){var n=function(e,t){var n=ny();if(!n)return[];var r=sl(Jv,e,t);switch(n.getItem(r)){case Yv.NONE:return[ul];case Yv.LOCAL:return[kd,$h];case Yv.SESSION:return[$h];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(kd)||n.push(kd),"undefined"!==typeof window)for(var r=0,i=[Gh,$h];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ul)||n.push(ul),n}py.Persistence=Yv;var my=function(){function e(){Gt(this,e),this.providerId="phone",this._delegate=new zd(ay(Hs.auth()))}return $t(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return zd.credential(e,t)}}]),e}();my.PHONE_SIGN_IN_METHOD=zd.PHONE_SIGN_IN_METHOD,my.PROVIDER_ID=zd.PROVIDER_ID;var gy,ky=dc,by=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hs.app();Gt(this,e),ky(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Pd(i.auth(),t,n),this.type=this._delegate.type}return $t(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(gy=Hs).INTERNAL.registerComponent(new gu("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new py(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$s,PASSWORD_RESET:Ys,RECOVER_EMAIL:Xs,REVERT_SECOND_FACTOR_ADDITION:Js,VERIFY_AND_CHANGE_EMAIL:Zs,VERIFY_EMAIL:ec}},EmailAuthProvider:_f,FacebookAuthProvider:If,GithubAuthProvider:Cf,GoogleAuthProvider:Tf,OAuthProvider:Ef,SAMLAuthProvider:Af,PhoneAuthProvider:my,PhoneMultiFactorGenerator:av,RecaptchaVerifier:by,TwitterAuthProvider:Pf,Auth:py,AuthCredential:Vl,Error:iu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),gy.registerVersion("@firebase/auth-compat","0.4.4");var wy,_y="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},xy={},Sy=Sy||{},Ey=_y||self;function Iy(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ty(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Cy="closure_uid_"+(1e9*Math.random()>>>0),Oy=0;function Ay(e,t,n){return e.call.apply(e.bind,arguments)}function Py(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ny(e,t,n){return(Ny=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ay:Py).apply(null,arguments)}function Ry(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Dy(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ly(){this.s=this.s,this.o=this.o}Ly.prototype.s=!1,Ly.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Cy)&&e[Cy]||(e[Cy]=++Oy)}(this)},Ly.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var My=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function jy(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Fy(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Iy(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Uy(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Uy.prototype.h=function(){this.defaultPrevented=!0};var Vy=function(){if(!Ey.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ey.addEventListener("test",(function(){}),t),Ey.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function zy(e){return/^[\s\xa0]*$/.test(e)}function By(){var e=Ey.navigator;return e&&(e=e.userAgent)?e:""}function qy(e){return-1!=By().indexOf(e)}function Wy(e){return Wy[" "](e),e}Wy[" "]=function(){};var Hy,Ky,Gy=qy("Opera"),Qy=qy("Trident")||qy("MSIE"),$y=qy("Edge"),Yy=$y||Qy,Xy=qy("Gecko")&&!(-1!=By().toLowerCase().indexOf("webkit")&&!qy("Edge"))&&!(qy("Trident")||qy("MSIE"))&&!qy("Edge"),Jy=-1!=By().toLowerCase().indexOf("webkit")&&!qy("Edge");function Zy(){var e=Ey.document;return e?e.documentMode:void 0}e:{var em="",tm=function(){var e=By();return Xy?/rv:([^\);]+)(\)|;)/.exec(e):$y?/Edge\/([\d\.]+)/.exec(e):Qy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Jy?/WebKit\/(\S+)/.exec(e):Gy?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tm&&(em=tm?tm[1]:""),Qy){var nm=Zy();if(null!=nm&&nm>parseFloat(em)){Hy=String(nm);break e}}Hy=em}if(Ey.document&&Qy){var rm=Zy();Ky=rm||(parseInt(Hy,10)||void 0)}else Ky=void 0;var im=Ky;function am(e,t){if(Uy.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xy){e:{try{Wy(t.nodeName);var i=!0;break e}catch(F){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:om[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&am.$.h.call(this)}}Dy(am,Uy);var om={2:"touch",3:"pen",4:"mouse"};am.prototype.h=function(){am.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var um="closure_listenable_"+(1e6*Math.random()|0),sm=0;function cm(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++sm,this.fa=this.ia=!1}function lm(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function fm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function hm(e){var t={};for(var n in e)t[n]=e[n];return t}var dm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pm(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<dm.length;a++)n=dm[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function vm(e){this.src=e,this.g={},this.h=0}function ym(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=My(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(lm(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function mm(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}vm.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=mm(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new cm(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var gm="closure_lm_"+(1e6*Math.random()|0),km={};function bm(e,t,n,r,i){if(r&&r.once)return _m(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)bm(e,t[a],n,r,i);return null}return n=Om(n),e&&e[um]?e.O(t,n,Ty(r)?!!r.capture:!!r,i):wm(e,t,n,!1,r,i)}function wm(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ty(i)?!!i.capture:!!i,u=Tm(e);if(u||(e[gm]=u=new vm(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Im;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Vy||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Em(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _m(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)_m(e,t[a],n,r,i);return null}return n=Om(n),e&&e[um]?e.P(t,n,Ty(r)?!!r.capture:!!r,i):wm(e,t,n,!0,r,i)}function xm(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)xm(e,t[a],n,r,i);else r=Ty(r)?!!r.capture:!!r,n=Om(n),e&&e[um]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=mm(a=e.g[t],n,r,i))&&(lm(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Tm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=mm(t,n,r,i)),(n=-1<e?t[e]:null)&&Sm(n))}function Sm(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[um])ym(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Em(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Tm(t))?(ym(n,e),0==n.h&&(n.src=null,t[gm]=null)):lm(e)}}}function Em(e){return e in km?km[e]:km[e]="on"+e}function Im(e,t){if(e.fa)e=!0;else{t=new am(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Sm(e),e=n.call(r,t)}return e}function Tm(e){return(e=e[gm])instanceof vm?e:null}var Cm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Om(e){return"function"===typeof e?e:(e[Cm]||(e[Cm]=function(t){return e.handleEvent(t)}),e[Cm])}function Am(){Ly.call(this),this.i=new vm(this),this.S=this,this.J=null}function Pm(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Uy(t,e);else if(t instanceof Uy)t.target=t.target||e;else{var i=t;pm(t=new Uy(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Nm(o,r,!0,t)&&i}if(i=Nm(o=t.g=e,r,!0,t)&&i,i=Nm(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Nm(o=t.g=n[a],r,!1,t)&&i}function Nm(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&ym(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Dy(Am,Ly),Am.prototype[um]=!0,Am.prototype.removeEventListener=function(e,t,n,r){xm(this,e,t,n,r)},Am.prototype.N=function(){if(Am.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)lm(n[r]);delete t.g[e],t.h--}}this.J=null},Am.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Am.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Rm=Ey.JSON.stringify,Dm=function(){function e(t,n){Gt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return $t(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Lm(){var e=qm,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Mm=function(){function e(){Gt(this,e),this.h=this.g=null}return $t(e,[{key:"add",value:function(e,t){var n=jm.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),jm=new Dm((function(){return new Fm}),(function(e){return e.reset()})),Fm=function(){function e(){Gt(this,e),this.next=this.g=this.h=null}return $t(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Um(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Vm(e){Ey.setTimeout((function(){throw e}),0)}var zm,Bm=!1,qm=new Mm,Wm=function(){var e=Ey.Promise.resolve(void 0);zm=function(){e.then(Hm)}},Hm=function(){for(var e;e=Lm();){try{e.h.call(e.g)}catch(n){Vm(n)}var t=jm;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Bm=!1};function Km(e,t){Am.call(this),this.h=e||1,this.g=t||Ey,this.j=Ny(this.qb,this),this.l=Date.now()}function Gm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Qm(e,t,n){if("function"===typeof e)n&&(e=Ny(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ny(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ey.setTimeout(e,t||0)}function $m(e){e.g=Qm((function(){e.g=null,e.i&&(e.i=!1,$m(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Dy(Km,Am),(wy=Km.prototype).ga=!1,wy.T=null,wy.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pm(this,"tick"),this.ga&&(Gm(this),this.start()))}},wy.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wy.N=function(){Km.$.N.call(this),Gm(this),delete this.g};var Ym=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return $t(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:$m(this)}},{key:"N",value:function(){Gs(Jt(n.prototype),"N",this).call(this),this.g&&(Ey.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ly);function Xm(e){Ly.call(this),this.h=e,this.g={}}Dy(Xm,Ly);var Jm=[];function Zm(e,t,n,r){Array.isArray(n)||(n&&(Jm[0]=n.toString()),n=Jm);for(var i=0;i<n.length;i++){var a=bm(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function eg(e){fm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Sm(e)}),e),e.g={}}function tg(){this.g=!0}function ng(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Rm(n)}catch(P){return t}}(e,n)+(r?" "+r:"")}))}Xm.prototype.N=function(){Xm.$.N.call(this),eg(this)},Xm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tg.prototype.Ea=function(){this.g=!1},tg.prototype.info=function(){};var rg={},ig=null;function ag(){return ig=ig||new Am}function og(e){Uy.call(this,rg.Ta,e)}function ug(e){var t=ag();Pm(t,new og(t))}function sg(e,t){Uy.call(this,rg.STAT_EVENT,e),this.stat=t}function cg(e){var t=ag();Pm(t,new sg(t,e))}function lg(e,t){Uy.call(this,rg.Ua,e),this.size=t}function fg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ey.setTimeout((function(){e()}),t)}rg.Ta="serverreachability",Dy(og,Uy),rg.STAT_EVENT="statevent",Dy(sg,Uy),rg.Ua="timingevent",Dy(lg,Uy);var hg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pg(){}function vg(e){return e.h||(e.h=e.i())}function yg(){}pg.prototype.h=null;var mg,gg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kg(){Uy.call(this,"d")}function bg(){Uy.call(this,"c")}function wg(){}function _g(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Xm(this),this.P=Sg,e=Yy?125:void 0,this.V=new Km(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xg}function xg(){this.i=null,this.g="",this.h=!1}Dy(kg,Uy),Dy(bg,Uy),Dy(wg,pg),wg.prototype.g=function(){return new XMLHttpRequest},wg.prototype.i=function(){return{}},mg=new wg;var Sg=45e3,Eg={},Ig={};function Tg(e,t,n){e.L=1,e.v=Kg(zg(t)),e.s=n,e.S=!0,Cg(e,null)}function Cg(e,t){e.G=Date.now(),Ng(e),e.A=zg(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),ak(n.i,"t",r),e.C=0,n=e.l.J,e.h=new xg,e.g=ab(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ym(Ny(e.Pa,e,e.g),e.O)),Zm(e.U,e.g,"readystatechange",e.nb),t=e.I?hm(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ug(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Og(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Ag(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Pg(e,n))==Ig){4==t&&(e.o=4,cg(14),i=!1),ng(e.j,e.m,null,"[Incomplete Response]");break}if(r==Eg){e.o=4,cg(15),ng(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ng(e.j,e.m,r,null),jg(e,r)}Og(e)&&r!=Ig&&r!=Eg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,cg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xk(t),t.M=!0,cg(11))):(ng(e.j,e.m,n,"[Invalid Chunked Response]"),Mg(e),Lg(e))}function Pg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ig:(n=Number(t.substring(n,r)),isNaN(n)?Eg:(r+=1)+n>t.length?Ig:(t=t.slice(r,r+n),e.C=r+n,t))}function Ng(e){e.Y=Date.now()+e.P,Rg(e,e.P)}function Rg(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=fg(Ny(e.lb,e),t)}function Dg(e){e.B&&(Ey.clearTimeout(e.B),e.B=null)}function Lg(e){0==e.l.H||e.J||eb(e.l,e)}function Mg(e){Dg(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Gm(e.V),eg(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function jg(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||hk(n.i,e)))if(!e.K&&hk(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Zk(n),qk(n)}Yk(n),cg(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=fg(Ny(n.ib,n),6e3));if(1>=fk(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else nb(n,11)}else if((e.K||n.g==e)&&Zk(n),!zy(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(dk(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Hg(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=ib(r,r.J?r.pa:null,r.Y),d.K){pk(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Dg(p),Ng(p)),r.g=d}else $k(r);0<n.j.length&&Hk(n)}else"stop"!=a[0]&&"close"!=a[0]||nb(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?nb(n,7):Bk(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}ug()}catch(a){}}function Fg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Iy(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Iy(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Iy(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(wy=_g.prototype).setTimeout=function(e){this.P=e},wy.nb=function(e){e=e.target;var t=this.M;t&&3==Mk(e)?t.l():this.Pa(e)},wy.Pa=function(e){try{if(e==this.g)e:{var t=Mk(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Yy||this.g&&(this.h.h||this.g.ja()||jk(this.g)))){this.J||4!=t||7==n||ug(),Dg(this);var r=this.g.da();this.ca=r;t:if(Og(this)){var i=jk(this.g);e="";var a=i.length,o=4==Mk(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Mg(this),Lg(this);var u="";break t}this.h.i=new Ey.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zy(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,cg(12),Mg(this),Lg(this);break e}ng(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jg(this,r)}this.S?(Ag(this,t,u),Yy&&this.i&&3==t&&(Zm(this.U,this.V,"tick",this.mb),this.V.start())):(ng(this.j,this.m,u,null),jg(this,u)),4==t&&Mg(this),this.i&&!this.J&&(4==t?eb(this.l,this):(this.i=!1,Ng(this)))}else(function(e){var t={};e=(e.g&&2<=Mk(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!zy(e[n])){var r=Um(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,cg(12)):(this.o=0,cg(13)),Mg(this),Lg(this)}}}catch(t){}},wy.mb=function(){if(this.g){var e=Mk(this.g),t=this.g.ja();this.C<t.length&&(Dg(this),Ag(this,e,t),this.i&&4!=e&&Ng(this))}},wy.cancel=function(){this.J=!0,Mg(this)},wy.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ug(),cg(17)),Mg(this),this.o=2,Lg(this)):Rg(this,this.Y-e)};var Ug=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vg(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Vg){this.h=e.h,Bg(this,e.j),this.s=e.s,this.g=e.g,qg(this,e.m),this.l=e.l;var t=e.i,n=new tk;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Wg(this,n),this.o=e.o}else e&&(t=String(e).match(Ug))?(this.h=!1,Bg(this,t[1]||"",!0),this.s=Gg(t[2]||""),this.g=Gg(t[3]||"",!0),qg(this,t[4]),this.l=Gg(t[5]||"",!0),Wg(this,t[6]||"",!0),this.o=Gg(t[7]||"")):(this.h=!1,this.i=new tk(null,this.h))}function zg(e){return new Vg(e)}function Bg(e,t,n){e.j=n?Gg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wg(e,t,n){t instanceof tk?(e.i=t,function(e,t){t&&!e.j&&(nk(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(rk(this,t),ak(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Qg(t,Zg)),e.i=new tk(t,e.h))}function Hg(e,t,n){e.i.set(t,n)}function Kg(e){return Hg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$g),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $g(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qg(t,Yg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Qg(t,Yg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Qg(n,"/"==n.charAt(0)?Jg:Xg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qg(n,ek)),e.join("")};var Yg=/[#\/\?@]/g,Xg=/[#\?:]/g,Jg=/[#\?]/g,Zg=/[#\?@]/g,ek=/#/g;function tk(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nk(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function rk(e,t){nk(e),t=ok(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ik(e,t){return nk(e),t=ok(e,t),e.g.has(t)}function ak(e,t,n){rk(e,t),0<n.length&&(e.i=null,e.g.set(ok(e,t),jy(n)),e.h+=n.length)}function ok(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(wy=tk.prototype).add=function(e,t){nk(this),this.i=null,e=ok(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},wy.forEach=function(e,t){nk(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},wy.ta=function(){nk(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},wy.Z=function(e){nk(this);var t=[];if("string"===typeof e)ik(this,e)&&(t=t.concat(this.g.get(ok(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},wy.set=function(e,t){return nk(this),this.i=null,ik(this,e=ok(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},wy.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},wy.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var uk=$t((function e(t,n){Gt(this,e),this.g=t,this.map=n}));function sk(e){this.l=e||ck,Ey.PerformanceNavigationTiming?e=0<(e=Ey.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ey.g&&Ey.g.Ka&&Ey.g.Ka()&&Ey.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ck=10;function lk(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fk(e){return e.h?1:e.g?e.g.size:0}function hk(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dk(e,t){e.g?e.g.add(t):e.h=t}function pk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vk(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=on(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return jy(e.i)}sk.prototype.cancel=function(){if(this.i=vk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=on(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var yk=function(){function e(){Gt(this,e)}return $t(e,[{key:"stringify",value:function(e){return Ey.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Ey.JSON.parse(e,void 0)}}]),e}();function mk(){this.g=new yk}function gk(e,t,n){var r=n||"";try{Fg(e,(function(e,n){var i=e;Ty(e)&&(i=Rm(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function kk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(F){}}function bk(e){this.l=e.fc||null,this.j=e.ob||!1}function wk(e,t){Am.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=_k,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dy(bk,pg),bk.prototype.g=function(){return new wk(this.l,this.j)},bk.prototype.i=function(e){return function(){return e}}({}),Dy(wk,Am);var _k=0;function xk(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Sk(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ek(e)}function Ek(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(wy=wk.prototype).open=function(e,t){if(this.readyState!=_k)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ek(this)},wy.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ey).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},wy.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sk(this)),this.readyState=_k},wy.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ek(this)),this.g&&(this.readyState=3,Ek(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Ey.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xk(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},wy.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sk(this):Ek(this),3==this.readyState&&xk(this)}},wy.Za=function(e){this.g&&(this.response=this.responseText=e,Sk(this))},wy.Ya=function(e){this.g&&(this.response=e,Sk(this))},wy.ka=function(){this.g&&Sk(this)},wy.setRequestHeader=function(e,t){this.v.append(e,t)},wy.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},wy.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ik=Ey.JSON.parse;function Tk(e){Am.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ck,this.L=this.M=!1}Dy(Tk,Am);var Ck="",Ok=/^https?$/i,Ak=["POST","PUT"];function Pk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Nk(e),Dk(e)}function Nk(e){e.F||(e.F=!0,Pm(e,"complete"),Pm(e,"error"))}function Rk(e){if(e.h&&"undefined"!=typeof Sy&&(!e.C[1]||4!=Mk(e)||2!=e.da()))if(e.v&&4==Mk(e))Qm(e.La,0,e);else if(Pm(e,"readystatechange"),4==Mk(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Ug)[1]||null;!a&&Ey.self&&Ey.self.location&&(a=Ey.self.location.protocol.slice(0,-1)),i=!Ok.test(a?a.toLowerCase():"")}t=i}if(t)Pm(e,"complete"),Pm(e,"success");else{e.m=6;try{var o=2<Mk(e)?e.g.statusText:""}catch(P){o=""}e.j=o+" ["+e.da()+"]",Nk(e)}}finally{Dk(e)}}}function Dk(e,t){if(e.g){Lk(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Pm(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Lk(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ey.clearTimeout(e.A),e.A=null)}function Mk(e){return e.g?e.g.readyState:0}function jk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ck:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(G){return null}}function Fk(e){var t="";return fm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Uk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Fk(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Hg(e,t,n))}function Vk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zk(e){this.Ga=0,this.j=[],this.l=new tg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vk("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vk("baseRetryDelayMs",5e3,e),this.hb=Vk("retryDelaySeedMs",1e4,e),this.eb=Vk("forwardChannelMaxRetries",2,e),this.xa=Vk("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new sk(e&&e.concurrentRequestLimit),this.Ja=new mk,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Bk(e){if(Wk(e),3==e.H){var t=e.W++,n=zg(e.I);if(Hg(n,"SID",e.K),Hg(n,"RID",t),Hg(n,"TYPE","terminate"),Gk(e,n),(t=new _g(e,e.l,t)).L=2,t.v=Kg(zg(n)),n=!1,Ey.navigator&&Ey.navigator.sendBeacon)try{n=Ey.navigator.sendBeacon(t.v.toString(),"")}catch(W){}!n&&Ey.Image&&((new Image).src=t.v,n=!0),n||(t.g=ab(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ng(t)}rb(e)}function qk(e){e.g&&(Xk(e),e.g.cancel(),e.g=null)}function Wk(e){qk(e),e.u&&(Ey.clearTimeout(e.u),e.u=null),Zk(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ey.clearTimeout(e.m),e.m=null)}function Hk(e){if(!lk(e.i)&&!e.m){e.m=!0;var t=e.Na;zm||Wm(),Bm||(zm(),Bm=!0),qm.add(t,e),e.C=0}}function Kk(e,t){var n;n=t?t.m:e.W++;var r=zg(e.I);Hg(r,"SID",e.K),Hg(r,"RID",n),Hg(r,"AID",e.V),Gk(e,r),e.o&&e.s&&Uk(r,e.o,e.s),n=new _g(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Qk(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),dk(e.i,n),Tg(n,r,t)}function Gk(e,t){e.na&&fm(e.na,(function(e,n){Hg(t,n,e)})),e.h&&Fg({},(function(e,n){Hg(t,n,e)}))}function Qk(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ny(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{gk(l,o,"req"+c+"_")}catch(ke){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function $k(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;zm||Wm(),Bm||(zm(),Bm=!0),qm.add(t,e),e.A=0}}function Yk(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=fg(Ny(e.Ma,e),tb(e,e.A)),e.A++,!0)}function Xk(e){null!=e.B&&(Ey.clearTimeout(e.B),e.B=null)}function Jk(e){e.g=new _g(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=zg(e.wa);Hg(t,"RID","rpc"),Hg(t,"SID",e.K),Hg(t,"AID",e.V),Hg(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Hg(t,"TO",e.qa),Hg(t,"TYPE","xmlhttp"),Gk(e,t),e.o&&e.s&&Uk(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Kg(zg(t)),n.s=null,n.S=!0,Cg(n,e)}function Zk(e){null!=e.v&&(Ey.clearTimeout(e.v),e.v=null)}function eb(e,t){var n=null;if(e.g==t){Zk(e),Xk(e),e.g=null;var r=2}else{if(!hk(e.i,t))return;n=t.F,pk(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Pm(r=ag(),new lg(r,n)),Hk(e)}else $k(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(fk(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=fg(Ny(e.Na,e,t),tb(e,e.C)),e.C++,!0))}(e,t)||2==r&&Yk(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:nb(e,5);break;case 4:nb(e,10);break;case 3:nb(e,6);break;default:nb(e,2)}}function tb(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function nb(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ny(e.pb,e);n||(n=new Vg("//www.google.com/images/cleardot.gif"),Ey.location&&"http"==Ey.location.protocol||Bg(n,"https"),Kg(n)),function(e,t){var n=new tg;if(Ey.Image){var r=new Image;r.onload=Ry(kk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ry(kk,n,r,"TestLoadImage: error",!1,t),r.onabort=Ry(kk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ry(kk,n,r,"TestLoadImage: timeout",!1,t),Ey.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else cg(2);e.H=0,e.h&&e.h.za(t),rb(e),Wk(e)}function rb(e){if(e.H=0,e.ma=[],e.h){var t=vk(e.i);0==t.length&&0==e.j.length||(Fy(e.ma,t),Fy(e.ma,e.j),e.i.i.length=0,jy(e.j),e.j.length=0),e.h.ya()}}function ib(e,t,n){var r=n instanceof Vg?zg(n):new Vg(n);if(""!=r.g)t&&(r.g=t+"."+r.g),qg(r,r.m);else{var i=Ey.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Vg(null);r&&Bg(a,r),t&&(a.g=t),i&&qg(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Hg(r,n,t),Hg(r,"VER",e.ra),Gk(e,r),r}function ab(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Tk(new bk({ob:!0})):new Tk(e.va)).Oa(e.J),t}function ob(){}function ub(){if(Qy&&!(10<=Number(im)))throw Error("Environmental error: no available transport.")}function sb(e,t){Am.call(this),this.g=new zk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!zy(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zy(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fb(this)}function cb(e){kg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function lb(){bg.call(this),this.status=1}function fb(e){this.g=e}function hb(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function db(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function pb(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(wy=Tk.prototype).Oa=function(e){this.M=e},wy.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mg.g(),this.C=this.u?vg(this.u):vg(mg),this.g.onreadystatechange=Ny(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void Pk(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=on(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Ey.FormData&&e instanceof Ey.FormData,!(0<=My(Ak,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=on(n);try{for(c.s();!(s=c.n()).done;){var l=Wt(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Lk(this),0<this.B&&((this.L=function(e){return Qy&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ny(this.ua,this)):this.A=Qm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Pk(this,u)}},wy.ua=function(){"undefined"!=typeof Sy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pm(this,"timeout"),this.abort(8))},wy.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Pm(this,"complete"),Pm(this,"abort"),Dk(this))},wy.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dk(this,!0)),Tk.$.N.call(this)},wy.La=function(){this.s||(this.G||this.v||this.l?Rk(this):this.kb())},wy.kb=function(){Rk(this)},wy.isActive=function(){return!!this.g},wy.da=function(){try{return 2<Mk(this)?this.g.status:-1}catch(j){return-1}},wy.ja=function(){try{return this.g?this.g.responseText:""}catch(j){return""}},wy.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ik(t)}},wy.Ia=function(){return this.m},wy.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(wy=zk.prototype).ra=8,wy.H=1,wy.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new _g(this,this.l,e),n=this.s;if(this.U&&(n?pm(n=hm(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Qk(this,t,r),Hg(i=zg(this.I),"RID",e),Hg(i,"CVER",22),this.F&&Hg(i,"X-HTTP-Session-Id",this.F),Gk(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Fk(n)))+"&"+r:this.o&&Uk(i,this.o,n)),dk(this.i,t),this.bb&&Hg(i,"TYPE","init"),this.P?(Hg(i,"$req",r),Hg(i,"SID","null"),t.aa=!0,Tg(t,i,null)):Tg(t,i,r),this.H=2}}else 3==this.H&&(e?Kk(this,e):0==this.j.length||lk(this.i)||Kk(this))},wy.Ma=function(){if(this.u=null,Jk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=fg(Ny(this.jb,this),e)}},wy.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,cg(10),qk(this),Jk(this))},wy.ib=function(){null!=this.v&&(this.v=null,qk(this),Yk(this),cg(19))},wy.pb=function(e){e?(this.l.info("Successfully pinged google.com"),cg(2)):(this.l.info("Failed to ping google.com"),cg(1))},wy.isActive=function(){return!!this.h&&this.h.isActive(this)},(wy=ob.prototype).Ba=function(){},wy.Aa=function(){},wy.za=function(){},wy.ya=function(){},wy.isActive=function(){return!0},wy.Va=function(){},ub.prototype.g=function(e,t){return new sb(e,t)},Dy(sb,Am),sb.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;cg(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ib(e,null,e.Y),Hk(e)},sb.prototype.close=function(){Bk(this.g)},sb.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Rm(e),e=n);t.j.push(new uk(t.fb++,e)),3==t.H&&Hk(t)},sb.prototype.N=function(){this.g.h=null,delete this.j,Bk(this.g),delete this.g,sb.$.N.call(this)},Dy(cb,kg),Dy(lb,bg),Dy(fb,ob),fb.prototype.Ba=function(){Pm(this.g,"a")},fb.prototype.Aa=function(e){Pm(this.g,new cb(e))},fb.prototype.za=function(e){Pm(this.g,new lb)},fb.prototype.ya=function(){Pm(this.g,"b")},Dy(hb,(function(){this.blockSize=-1})),hb.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hb.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)db(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){db(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){db(this,r),i=0;break}}this.h=i,this.i+=t},hb.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var vb={};function yb(e){return-128<=e&&128>e?function(e,t){var n=vb;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new pb([0|e],0>e?-1:0)})):new pb([0|e],0>e?-1:0)}function mb(e){if(isNaN(e)||!isFinite(e))return kb;if(0>e)return Sb(mb(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=gb;return new pb(t,0)}var gb=4294967296,kb=yb(0),bb=yb(1),wb=yb(16777216);function _b(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function xb(e){return-1==e.h}function Sb(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new pb(n,~e.h).add(bb)}function Eb(e,t){return e.add(Sb(t))}function Ib(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Tb(e,t){this.g=e,this.h=t}function Cb(e,t){if(_b(t))throw Error("division by zero");if(_b(e))return new Tb(kb,kb);if(xb(e))return t=Cb(Sb(e),t),new Tb(Sb(t.g),Sb(t.h));if(xb(t))return t=Cb(e,Sb(t)),new Tb(Sb(t.g),t.h);if(30<e.g.length){if(xb(e)||xb(t))throw Error("slowDivide_ only works with positive integers.");for(var n=bb,r=t;0>=r.X(e);)n=Ob(n),r=Ob(r);var i=Ab(n,1),a=Ab(r,1);for(r=Ab(r,2),n=Ab(n,2);!_b(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Ab(r,1),n=Ab(n,1)}return t=Eb(e,i.R(t)),new Tb(i,t)}for(i=kb;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=mb(n)).R(t);xb(o)||0<o.X(e);)o=(a=mb(n-=r)).R(t);_b(a)&&(a=bb),i=i.add(a),e=Eb(e,o)}return new Tb(i,e)}function Ob(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new pb(n,e.h)}function Ab(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new pb(i,e.h)}(wy=pb.prototype).ea=function(){if(xb(this))return-Sb(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:gb+r)*t,t*=gb}return e},wy.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(_b(this))return"0";if(xb(this))return"-"+Sb(this).toString(e);for(var t=mb(Math.pow(e,6)),n=this,r="";;){var i=Cb(n,t).g,a=((0<(n=Eb(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(_b(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},wy.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},wy.X=function(e){return xb(e=Eb(this,e))?-1:_b(e)?0:1},wy.abs=function(){return xb(this)?Sb(this):this},wy.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new pb(n,-2147483648&n[n.length-1]?-1:0)},wy.R=function(e){if(_b(this)||_b(e))return kb;if(xb(this))return xb(e)?Sb(this).R(Sb(e)):Sb(Sb(this).R(e));if(xb(e))return Sb(this.R(Sb(e)));if(0>this.X(wb)&&0>e.X(wb))return mb(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Ib(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Ib(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Ib(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Ib(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new pb(n,0)},wy.gb=function(e){return Cb(this,e).h},wy.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new pb(n,this.h&e.h)},wy.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new pb(n,this.h|e.h)},wy.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new pb(n,this.h^e.h)},ub.prototype.createWebChannel=ub.prototype.g,sb.prototype.send=sb.prototype.u,sb.prototype.open=sb.prototype.m,sb.prototype.close=sb.prototype.close,hg.NO_ERROR=0,hg.TIMEOUT=8,hg.HTTP_ERROR=6,dg.COMPLETE="complete",yg.EventType=gg,gg.OPEN="a",gg.CLOSE="b",gg.ERROR="c",gg.MESSAGE="d",Am.prototype.listen=Am.prototype.O,Tk.prototype.listenOnce=Tk.prototype.P,Tk.prototype.getLastError=Tk.prototype.Sa,Tk.prototype.getLastErrorCode=Tk.prototype.Ia,Tk.prototype.getStatus=Tk.prototype.da,Tk.prototype.getResponseJson=Tk.prototype.Wa,Tk.prototype.getResponseText=Tk.prototype.ja,Tk.prototype.send=Tk.prototype.ha,Tk.prototype.setWithCredentials=Tk.prototype.Oa,hb.prototype.digest=hb.prototype.l,hb.prototype.reset=hb.prototype.reset,hb.prototype.update=hb.prototype.j,pb.prototype.add=pb.prototype.add,pb.prototype.multiply=pb.prototype.R,pb.prototype.modulo=pb.prototype.gb,pb.prototype.compare=pb.prototype.X,pb.prototype.toNumber=pb.prototype.ea,pb.prototype.toString=pb.prototype.toString,pb.prototype.getBits=pb.prototype.D,pb.fromNumber=mb,pb.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Sb(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=mb(Math.pow(n,8)),i=kb,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=mb(Math.pow(n,o)),i=i.R(o).add(mb(u))):i=(i=i.R(r)).add(mb(u))}return i};var Pb=xy.createWebChannelTransport=function(){return new ub},Nb=xy.getStatEventTarget=function(){return ag()},Rb=xy.ErrorCode=hg,Db=xy.EventType=dg,Lb=xy.Event=rg,Mb=xy.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jb=xy.FetchXmlHttpFactory=bk,Fb=xy.WebChannel=yg,Ub=xy.XhrIo=Tk,Vb=xy.Md5=hb,zb=xy.Integer=pb,Bb="@firebase/firestore",qb=function(){function e(t){Gt(this,e),this.uid=t}return $t(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();qb.UNAUTHENTICATED=new qb(null),qb.GOOGLE_CREDENTIALS=new qb("google-credentials-uid"),qb.FIRST_PARTY=new qb("first-party-uid"),qb.MOCK_USER=new qb("mock-user");var Wb="10.1.0",Hb=new Au("@firebase/firestore");function Kb(){return Hb.logLevel}function Gb(e){if(Hb.logLevel<=xu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yb);Hb.debug.apply(Hb,["Firestore (".concat(Wb,"): ").concat(e)].concat(Kt(i)))}}function Qb(e){if(Hb.logLevel<=xu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yb);Hb.error.apply(Hb,["Firestore (".concat(Wb,"): ").concat(e)].concat(Kt(i)))}}function $b(e){if(Hb.logLevel<=xu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yb);Hb.warn.apply(Hb,["Firestore (".concat(Wb,"): ").concat(e)].concat(Kt(i)))}}function Yb(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Xb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Wb,") INTERNAL ASSERTION FAILED: ")+e;throw Qb(t),new Error(t)}function Jb(e,t){e||Xb()}function Zb(e,t){return e}var ew={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tw=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return $t(n)}(iu),nw=$t((function e(){var t=this;Gt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),rw=$t((function e(t,n){Gt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),iw=function(){function e(){Gt(this,e)}return $t(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(qb.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),aw=function(){function e(t){Gt(this,e),this.token=t,this.changeListener=null}return $t(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ow=function(){function e(t){Gt(this,e),this.t=t,this.currentUser=qb.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return $t(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new nw;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new nw,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Gb("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Gb("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new nw)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Gb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Jb("string"==typeof n.accessToken),new rw(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Jb(null===e||"string"==typeof e),new qb(e)}}]),e}(),uw=function(){function e(t,n,r){Gt(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=qb.FIRST_PARTY,this.I=new Map}return $t(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),sw=function(){function e(t,n,r){Gt(this,e),this.l=t,this.h=n,this.P=r}return $t(e,[{key:"getToken",value:function(){return Promise.resolve(new uw(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(qb.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),cw=$t((function e(t){Gt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),lw=function(){function e(t){Gt(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return $t(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Gb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Gb("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Gb("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Gb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Jb("string"==typeof t.token),e.R=t.token,new cw(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function fw(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var hw=function(){function e(){Gt(this,e)}return $t(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=fw(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function dw(e,t){return e<t?-1:e>t?1:0}function pw(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function vw(e){return e+"\0"}var yw=function(){function e(t,n){if(Gt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new tw(ew.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tw(ew.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new tw(ew.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tw(ew.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return $t(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?dw(this.nanoseconds,e.nanoseconds):dw(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),mw=function(){function e(t){Gt(this,e),this.timestamp=t}return $t(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new yw(0,0))}},{key:"max",value:function(){return new e(new yw(253402300799,999999999))}}]),e}(),gw=function(){function e(t,n,r){Gt(this,e),void 0===n?n=0:n>t.length&&Xb(),void 0===r?r=t.length-n:r>t.length-n&&Xb(),this.segments=t,this.offset=n,this.len=r}return $t(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),kw=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.apply(this,arguments)}return $t(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new tw(ew.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Kt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gw),bw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ww=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.apply(this,arguments)}return $t(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return bw.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new tw(ew.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new tw(ew.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new tw(ew.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new tw(ew.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gw),_w=function(){function e(t){Gt(this,e),this.path=t}return $t(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===kw.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(kw.fromString(t))}},{key:"fromName",value:function(t){return new e(kw.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(kw.emptyPath())}},{key:"comparator",value:function(e,t){return kw.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new kw(t.slice()))}}]),e}(),xw=$t((function e(t,n,r,i){Gt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Sw(e){return e.fields.find((function(e){return 2===e.kind}))}function Ew(e){return e.fields.filter((function(e){return 2!==e.kind}))}xw.UNKNOWN_ID=-1;var Iw=$t((function e(t,n){Gt(this,e),this.fieldPath=t,this.kind=n}));var Tw=function(){function e(t,n){Gt(this,e),this.sequenceNumber=t,this.offset=n}return $t(e,null,[{key:"empty",value:function(){return new e(0,Aw.min())}}]),e}();function Cw(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=mw.fromTimestamp(1e9===r?new yw(n+1,0):new yw(n,r));return new Aw(i,_w.empty(),t)}function Ow(e){return new Aw(e.readTime,e.key,-1)}var Aw=function(){function e(t,n,r){Gt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return $t(e,null,[{key:"min",value:function(){return new e(mw.min(),_w.empty(),-1)}},{key:"max",value:function(){return new e(mw.max(),_w.empty(),-1)}}]),e}();function Pw(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=_w.comparator(e.documentKey,t.documentKey))?n:dw(e.largestBatchId,t.largestBatchId)}var Nw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rw=function(){function e(){Gt(this,e),this.onCommittedListeners=[]}return $t(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Dw(e){return Lw.apply(this,arguments)}function Lw(){return(Lw=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ew.FAILED_PRECONDITION&&t.message===Nw){e.next=2;break}throw t;case 2:Gb("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mw=function(){function e(t){var n=this;Gt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return $t(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Xb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=on(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),jw=function(){function e(t,n){var r=this;Gt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new nw,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new Vw(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=Hw(e.target.error);r.m.reject(new Vw(t,n))}}return $t(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(Gb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Bw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Vw(n,t)}}}]),e}(),Fw=function(){function e(t,n,r){Gt(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Jo())&&Qb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return $t(e,[{key:"N",value:function(){var e=Nt(At().mark((function e(t){var n=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Gb("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Vw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new tw(ew.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new tw(ew.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Vw(t,n))},i.onupgradeneeded=function(e){Gb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){Gb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Nt(At().mark((function e(t,n,r,i){var a,o,u,s,c=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=At().mark((function e(){var n,u,s,l;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=jw.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),Mw.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.g;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Gb("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Gb("SimpleDb","Removing database:",e),qw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"v",value:function(){if(!ru())return!1;if(e.C())return!0;var t=Jo(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Disney-plus-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Uw=function(){function e(t){Gt(this,e),this.q=t,this.K=!1,this.$=null}return $t(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return qw(this.q.delete())}}]),e}(),Vw=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,ew.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return $t(n)}(tw);function zw(e){return"IndexedDbTransactionError"===e.name}var Bw=function(){function e(t){Gt(this,e),this.store=t}return $t(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Gb("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Gb("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),qw(n)}},{key:"add",value:function(e){return Gb("SimpleDb","ADD",this.store.name,e,e),qw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return qw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Gb("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Gb("SimpleDb","DELETE",this.store.name,e),qw(this.store.delete(e))}},{key:"count",value:function(){return Gb("SimpleDb","COUNT",this.store.name),qw(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Mw((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Mw((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Gb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Mw((function(n,r){t.onerror=function(e){var t=Hw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new Mw((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Uw(i),o=t(i.primaryKey,i.value,a);if(o instanceof Mw){var u=o.catch((function(e){return a.done(),Mw.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Mw.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function qw(e){return new Mw((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Hw(e.target.error);n(t)}}))}var Ww=!1;function Hw(e){var t=Fw.D(Jo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new tw("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ww||(Ww=!0,setTimeout((function(){throw r}),0)),r}}return e}var Kw=function(){function e(t,n){Gt(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return $t(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;Gb("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Gb,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!zw(e.t4)){e.next=17;break}Gb("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Dw(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Gw=function(){function e(t,n){Gt(this,e),this.localStore=t,this.persistence=n}return $t(e,[{key:"ne",value:function(){var e=Nt(At().mark((function e(){var t,n=this,r=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Mw.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Gb("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return Gb("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Ow(t);Pw(r,n)>0&&(n=r)})),new Aw(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Qw=function(){function e(t,n){var r=this;Gt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return $t(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function $w(e){return null==e}function Yw(e){return 0===e&&1/e==-1/0}function Xw(e){return"number"==typeof e&&Number.isInteger(e)&&!Yw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Jw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=e_(t)),t=Zw(e.get(n),t);return e_(t)}function Zw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function e_(e){return e+"\x01\x01"}function t_(e){var t=e.length;if(Jb(t>=2),2===t)return Jb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),kw.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Xb(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Xb()}a=o+2}return new kw(r)}Qw.ae=-1;var n_=["userId","batchId"];function r_(e,t){return[e,Jw(t)]}function i_(e,t,n){return[e,Jw(t),n]}var a_={},o_=["prefixPath","collectionGroup","readTime","documentId"],u_=["prefixPath","collectionGroup","documentId"],s_=["collectionGroup","readTime","prefixPath","documentId"],c_=["canonicalId","targetId"],l_=["targetId","path"],f_=["path","targetId"],h_=["collectionId","parent"],d_=["indexId","uid"],p_=["uid","sequenceNumber"],v_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],y_=["indexId","uid","orderedDocumentKey"],m_=["userId","collectionPath","documentId"],g_=["userId","collectionPath","largestBatchId"],k_=["userId","collectionGroup","largestBatchId"],b_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),w_=[].concat(Kt(b_),["documentOverlays"]),__=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],x_=__,S_=[].concat(x_,["indexConfiguration","indexState","indexEntries"]),E_=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return $t(n)}(Rw);function I_(e,t){var n=Zb(e);return Fw.O(n.ue,t)}function T_(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function C_(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function O_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var A_=function(){function e(t,n){Gt(this,e),this.comparator=t,this.root=n||N_.EMPTY}return $t(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,N_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,N_.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new P_(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new P_(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new P_(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new P_(this.root,e,this.comparator,!0)}}]),e}(),P_=function(){function e(t,n,r,i){Gt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return $t(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),N_=function(){function e(t,n,r,i,a){Gt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return $t(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Xb();if(this.right.isRed())throw Xb();var e=this.left.check();if(e!==this.right.check())throw Xb();return e+(this.isRed()?0:1)}}]),e}();N_.EMPTY=null,N_.RED=!0,N_.BLACK=!1,N_.EMPTY=new(function(){function e(){Gt(this,e),this.size=0}return $t(e,[{key:"key",get:function(){throw Xb()}},{key:"value",get:function(){throw Xb()}},{key:"color",get:function(){throw Xb()}},{key:"left",get:function(){throw Xb()}},{key:"right",get:function(){throw Xb()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new N_(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var R_=function(){function e(t){Gt(this,e),this.comparator=t,this.data=new A_(this.comparator)}return $t(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new D_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new D_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),D_=function(){function e(t){Gt(this,e),this.iter=t}return $t(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function L_(e){return e.hasNext()?e.getNext():void 0}var M_=function(){function e(t){Gt(this,e),this.fields=t,t.sort(ww.comparator)}return $t(e,[{key:"unionWith",value:function(t){var n,r=new R_(ww.comparator),i=on(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=on(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=on(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return pw(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),j_=function(e){Xt(n,e);var t=tn(n);function n(){var e;return Gt(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return $t(n)}(rn(Error));var F_=function(e){function t(e){Gt(this,t),this.binaryString=e}return $t(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return dw(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new j_("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();F_.EMPTY_BYTE_STRING=new F_("");var U_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function V_(e){if(Jb(!!e),"string"==typeof e){var t=0,n=U_.exec(e);if(Jb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:z_(e.seconds),nanos:z_(e.nanos)}}function z_(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function B_(e){return"string"==typeof e?F_.fromBase64String(e):F_.fromUint8Array(e)}function q_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function W_(e){var t=e.mapValue.fields.__previous_value__;return q_(t)?W_(t):t}function H_(e){var t=V_(e.mapValue.fields.__local_write_time__.timestampValue);return new yw(t.seconds,t.nanos)}var K_=$t((function e(t,n,r,i,a,o,u,s,c){Gt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),G_=function(){function e(t,n){Gt(this,e),this.projectId=t,this.database=n||"(default)"}return $t(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Q_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$_={nullValue:"NULL_VALUE"};function Y_(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?q_(e)?4:lx(e)?9007199254740991:10:Xb()}function X_(e,t){if(e===t)return!0;var n=Y_(e);if(n!==Y_(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return H_(e).isEqual(H_(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=V_(e.timestampValue),r=V_(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return B_(e.bytesValue).isEqual(B_(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return z_(e.geoPointValue.latitude)===z_(t.geoPointValue.latitude)&&z_(e.geoPointValue.longitude)===z_(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return z_(e.integerValue)===z_(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=z_(e.doubleValue),r=z_(t.doubleValue);return n===r?Yw(n)===Yw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return pw(e.arrayValue.values||[],t.arrayValue.values||[],X_);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(T_(n)!==T_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!X_(n[i],r[i])))return!1;return!0}(e,t);default:return Xb()}}function J_(e,t){return void 0!==(e.values||[]).find((function(e){return X_(e,t)}))}function Z_(e,t){if(e===t)return 0;var n=Y_(e),r=Y_(t);if(n!==r)return dw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dw(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=z_(e.integerValue||e.doubleValue),r=z_(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ex(e.timestampValue,t.timestampValue);case 4:return ex(H_(e),H_(t));case 5:return dw(e.stringValue,t.stringValue);case 6:return function(e,t){var n=B_(e),r=B_(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=dw(n[i],r[i]);if(0!==a)return a}return dw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=dw(z_(e.latitude),z_(t.latitude));return 0!==n?n:dw(z_(e.longitude),z_(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Z_(n[i],r[i]);if(a)return a}return dw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Q_.mapValue&&t===Q_.mapValue)return 0;if(e===Q_.mapValue)return 1;if(t===Q_.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=dw(r[o],a[o]);if(0!==u)return u;var s=Z_(n[r[o]],i[a[o]]);if(0!==s)return s}return dw(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Xb()}}function ex(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return dw(e,t);var n=V_(e),r=V_(t),i=dw(n.seconds,r.seconds);return 0!==i?i:dw(n.nanos,r.nanos)}function tx(e){return nx(e)}function nx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=V_(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return B_(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return _w.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=on(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=nx(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=on(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(nx(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Xb()}function rx(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ix(e){return!!e&&"integerValue"in e}function ax(e){return!!e&&"arrayValue"in e}function ox(e){return!!e&&"nullValue"in e}function ux(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function sx(e){return!!e&&"mapValue"in e}function cx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return C_(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=cx(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=cx(e.arrayValue.values[r]);return n}return Object.assign({},e)}function lx(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function fx(e){return"nullValue"in e?$_:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?rx(G_.empty(),_w.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Xb()}function hx(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?rx(G_.empty(),_w.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Q_:Xb()}function dx(e,t){var n=Z_(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function px(e,t){var n=Z_(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var vx=function(){function e(t){Gt(this,e),this.value=t}return $t(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!sx(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cx(t)}},{key:"setAll",value:function(e){var t=this,n=ww.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=cx(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());sx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return X_(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];sx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){C_(t,(function(t,n){return e[t]=n}));var r,i=on(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(cx(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function yx(e){var t=[];return C_(e.fields,(function(e,n){var r=new ww([e]);if(sx(n)){var i=yx(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=on(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new M_(t)}var mx=function(){function e(t,n,r,i,a,o,u){Gt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return $t(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(mw.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=vx.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=vx.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=mw.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,mw.min(),mw.min(),mw.min(),vx.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,mw.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,mw.min(),mw.min(),vx.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,mw.min(),mw.min(),vx.empty(),2)}}]),e}(),gx=$t((function e(t,n){Gt(this,e),this.position=t,this.inclusive=n}));function kx(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?_w.comparator(_w.fromName(o.referenceValue),n.key):Z_(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function bx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!X_(e.position[n],t.position[n]))return!1;return!0}var wx=$t((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Gt(this,e),this.field=t,this.dir=n}));function _x(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var xx=$t((function e(){Gt(this,e)})),Sx=function(e){Xt(n,e);var t=tn(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return $t(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Z_(t,this.value)):null!==t&&Y_(this.value)===Y_(t)&&this.matchesComparison(Z_(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xb()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Dx(e,t,r):"array-contains"===t?new Fx(e,r):"in"===t?new Ux(e,r):"not-in"===t?new Vx(e,r):"array-contains-any"===t?new zx(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Lx(e,n):new Mx(e,n)}}]),n}(xx),Ex=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return $t(n,[{key:"matches",value:function(e){return Ix(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=on(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(xx);function Ix(e){return"and"===e.op}function Tx(e){return"or"===e.op}function Cx(e){return Ox(e)&&Ix(e)}function Ox(e){var t,n=on(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Ex)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Ax(e){if(e instanceof Sx)return e.field.canonicalString()+e.op.toString()+tx(e.value);if(Cx(e))return e.filters.map((function(e){return Ax(e)})).join(",");var t=e.filters.map((function(e){return Ax(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Px(e,t){return e instanceof Sx?function(e,t){return t instanceof Sx&&e.op===t.op&&e.field.isEqual(t.field)&&X_(e.value,t.value)}(e,t):e instanceof Ex?function(e,t){return t instanceof Ex&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Px(n,t.filters[r])}),!0)}(e,t):void Xb()}function Nx(e,t){var n=e.filters.concat(t);return Ex.create(n,e.op)}function Rx(e){return e instanceof Sx?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(tx(e.value))}(e):e instanceof Ex?function(e){return e.op.toString()+" {"+e.getFilters().map(Rx).join(" ,")+"}"}(e):"Filter"}var Dx=function(e){Xt(n,e);var t=tn(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this,e,r,i)).key=_w.fromName(i.referenceValue),a}return $t(n,[{key:"matches",value:function(e){var t=_w.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Sx),Lx=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,e,"in",r)).keys=jx("in",r),i}return $t(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Sx),Mx=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,e,"not-in",r)).keys=jx("not-in",r),i}return $t(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Sx);function jx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _w.fromName(e.referenceValue)}))}var Fx=function(e){Xt(n,e);var t=tn(n);function n(e,r){return Gt(this,n),t.call(this,e,"array-contains",r)}return $t(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ax(t)&&J_(t.arrayValue,this.value)}}]),n}(Sx),Ux=function(e){Xt(n,e);var t=tn(n);function n(e,r){return Gt(this,n),t.call(this,e,"in",r)}return $t(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&J_(this.value.arrayValue,t)}}]),n}(Sx),Vx=function(e){Xt(n,e);var t=tn(n);function n(e,r){return Gt(this,n),t.call(this,e,"not-in",r)}return $t(n,[{key:"matches",value:function(e){if(J_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!J_(this.value.arrayValue,t)}}]),n}(Sx),zx=function(e){Xt(n,e);var t=tn(n);function n(e,r){return Gt(this,n),t.call(this,e,"array-contains-any",r)}return $t(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ax(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return J_(t.value.arrayValue,e)}))}}]),n}(Sx),Bx=$t((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Gt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.he=null}));function qx(e){return new Bx(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Wx(e){var t=Zb(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Ax(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),$w(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return tx(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return tx(e)})).join(",")),t.he=n}return t.he}function Hx(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!_x(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Px(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bx(e.startAt,t.startAt)&&bx(e.endAt,t.endAt)}function Kx(e){return _w.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Gx(e,t){return e.filters.filter((function(e){return e instanceof Sx&&e.field.isEqual(t)}))}function Qx(e,t,n){var r,i=$_,a=!0,o=on(Gx(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=$_,c=!0;switch(u.op){case"<":case"<=":s=fx(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=$_}dx({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];dx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function $x(e,t,n){var r,i=Q_,a=!0,o=on(Gx(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Q_,c=!0;switch(u.op){case">=":case">":s=hx(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Q_}px({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];px({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Yx=$t((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Gt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.Pe=null,this.Ie=null,this.startAt,this.endAt}));function Xx(e,t,n,r,i,a,o,u){return new Yx(e,t,n,r,i,a,o,u)}function Jx(e){return new Yx(e)}function Zx(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function eS(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function tS(e){var t,n=on(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function nS(e){return null!==e.collectionGroup}function rS(e){var t=Zb(e);if(null===t.Pe){t.Pe=[];var n=tS(t),r=eS(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new wx(n)),t.Pe.push(new wx(ww.keyField(),"asc"));else{var i,a=!1,o=on(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.Pe.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new wx(ww.keyField(),s))}}}return t.Pe}function iS(e){var t=Zb(e);if(!t.Ie)if("F"===t.limitType)t.Ie=qx(t.path,t.collectionGroup,rS(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=on(rS(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new wx(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new gx(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new gx(t.startAt.position,t.startAt.inclusive):null;t.Ie=qx(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.Ie}function aS(e,t){t.getFirstInequalityField(),tS(e);var n=e.filters.concat([t]);return new Yx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function oS(e,t,n){return new Yx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function uS(e,t){return Hx(iS(e),iS(t))&&e.limitType===t.limitType}function sS(e){return"".concat(Wx(iS(e)),"|lt:").concat(e.limitType)}function cS(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Rx(e)})).join(", "),"]")),$w(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return tx(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return tx(e)})).join(",")),"Target(".concat(t,")")}(iS(e)),"; limitType=").concat(e.limitType,")")}function lS(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_w.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=on(rS(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=on(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=kx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,rS(e),t))&&!(e.endAt&&!function(e,t,n){var r=kx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,rS(e),t))}(e,t)}function fS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function hS(e){return function(t,n){var r,i=!1,a=on(rS(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=dS(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function dS(e,t,n){var r=e.field.isKeyField()?_w.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Z_(r,i):Xb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Xb()}}var pS=function(){function e(t,n){Gt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return $t(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=on(n);try{for(i.s();!(r=i.n()).done;){var a=Wt(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){C_(this.inner,(function(t,n){var r,i=on(n);try{for(i.s();!(r=i.n()).done;){var a=Wt(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return O_(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),vS=new A_(_w.comparator);function yS(){return vS}var mS=new A_(_w.comparator);function gS(){for(var e=mS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function kS(e){var t=mS;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function bS(){return _S()}function wS(){return _S()}function _S(){return new pS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var xS=new A_(_w.comparator),SS=new R_(_w.comparator);function ES(){for(var e=SS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var IS=new R_(dw);function TS(){return IS}function CS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yw(t)?"-0":t}}function OS(e){return{integerValue:""+e}}function AS(e,t){return Xw(t)?OS(t):CS(e,t)}var PS=$t((function e(){Gt(this,e),this._=void 0}));function NS(e,t,n){return e instanceof LS?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&q_(t)&&(t=W_(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof MS?jS(e,t):e instanceof FS?US(e,t):function(e,t){var n=DS(e,t),r=zS(n)+zS(e.Te);return ix(n)&&ix(e.Te)?OS(r):CS(e.serializer,r)}(e,t)}function RS(e,t,n){return e instanceof MS?jS(e,t):e instanceof FS?US(e,t):n}function DS(e,t){return e instanceof VS?function(e){return ix(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var LS=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.apply(this,arguments)}return $t(n)}(PS),MS=function(e){Xt(n,e);var t=tn(n);function n(e){var r;return Gt(this,n),(r=t.call(this)).elements=e,r}return $t(n)}(PS);function jS(e,t){var n,r=BS(t),i=on(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return X_(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var FS=function(e){Xt(n,e);var t=tn(n);function n(e){var r;return Gt(this,n),(r=t.call(this)).elements=e,r}return $t(n)}(PS);function US(e,t){var n,r=BS(t),i=on(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!X_(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var VS=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return $t(n)}(PS);function zS(e){return z_(e.integerValue||e.doubleValue)}function BS(e){return ax(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var qS=$t((function e(t,n){Gt(this,e),this.field=t,this.transform=n}));var WS=$t((function e(t,n){Gt(this,e),this.version=t,this.transformResults=n})),HS=function(){function e(t,n){Gt(this,e),this.updateTime=t,this.exists=n}return $t(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function KS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var GS=$t((function e(){Gt(this,e)}));function QS(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new oE(e.key,HS.none()):new ZS(e.key,e.data,HS.none());var n,r=e.data,i=vx.empty(),a=new R_(ww.comparator),o=on(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new eE(e.key,i,new M_(a.toArray()),HS.none())}function $S(e,t,n){e instanceof ZS?function(e,t,n){var r=e.value.clone(),i=nE(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof eE?function(e,t,n){if(KS(e.precondition,t)){var r=nE(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(tE(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function YS(e,t,n,r){return e instanceof ZS?function(e,t,n,r){if(!KS(e.precondition,t))return n;var i=e.value.clone(),a=rE(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof eE?function(e,t,n,r){if(!KS(e.precondition,t))return n;var i=rE(e.fieldTransforms,r,t),a=t.data;return a.setAll(tE(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return KS(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function XS(e,t){var n,r=null,i=on(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=DS(a.transform,o||null);null!=u&&(null===r&&(r=vx.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function JS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pw(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof MS&&t instanceof MS||e instanceof FS&&t instanceof FS?pw(e.elements,t.elements,X_):e instanceof VS&&t instanceof VS?X_(e.Te,t.Te):e instanceof LS&&t instanceof LS}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var ZS=function(e){Xt(n,e);var t=tn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Gt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return $t(n,[{key:"getFieldMask",value:function(){return null}}]),n}(GS),eE=function(e){Xt(n,e);var t=tn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Gt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return $t(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(GS);function tE(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function nE(e,t,n){var r=new Map;Jb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,RS(o,u,n[i]))}return r}function rE(e,t,n){var r,i=new Map,a=on(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,NS(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var iE,aE,oE=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return $t(n,[{key:"getFieldMask",value:function(){return null}}]),n}(GS),uE=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return $t(n,[{key:"getFieldMask",value:function(){return null}}]),n}(GS),sE=function(){function e(t,n,r,i){Gt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return $t(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&$S(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=on(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=YS(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=on(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=YS(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=wS();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=QS(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(mw.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ES())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&pw(this.mutations,e.mutations,(function(e,t){return JS(e,t)}))&&pw(this.baseMutations,e.baseMutations,(function(e,t){return JS(e,t)}))}}]),e}(),cE=function(){function e(t,n,r,i){Gt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return $t(e,null,[{key:"from",value:function(t,n,r){Jb(t.mutations.length===r.length);for(var i=xS,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),lE=function(){function e(t,n){Gt(this,e),this.largestBatchId=t,this.mutation=n}return $t(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),fE=$t((function e(t,n){Gt(this,e),this.count=t,this.unchangedNames=n}));function hE(e){switch(e){default:return Xb();case ew.CANCELLED:case ew.UNKNOWN:case ew.DEADLINE_EXCEEDED:case ew.RESOURCE_EXHAUSTED:case ew.INTERNAL:case ew.UNAVAILABLE:case ew.UNAUTHENTICATED:return!1;case ew.INVALID_ARGUMENT:case ew.NOT_FOUND:case ew.ALREADY_EXISTS:case ew.PERMISSION_DENIED:case ew.FAILED_PRECONDITION:case ew.ABORTED:case ew.OUT_OF_RANGE:case ew.UNIMPLEMENTED:case ew.DATA_LOSS:return!0}}function dE(e){if(void 0===e)return Qb("GRPC error has no .code"),ew.UNKNOWN;switch(e){case iE.OK:return ew.OK;case iE.CANCELLED:return ew.CANCELLED;case iE.UNKNOWN:return ew.UNKNOWN;case iE.DEADLINE_EXCEEDED:return ew.DEADLINE_EXCEEDED;case iE.RESOURCE_EXHAUSTED:return ew.RESOURCE_EXHAUSTED;case iE.INTERNAL:return ew.INTERNAL;case iE.UNAVAILABLE:return ew.UNAVAILABLE;case iE.UNAUTHENTICATED:return ew.UNAUTHENTICATED;case iE.INVALID_ARGUMENT:return ew.INVALID_ARGUMENT;case iE.NOT_FOUND:return ew.NOT_FOUND;case iE.ALREADY_EXISTS:return ew.ALREADY_EXISTS;case iE.PERMISSION_DENIED:return ew.PERMISSION_DENIED;case iE.FAILED_PRECONDITION:return ew.FAILED_PRECONDITION;case iE.ABORTED:return ew.ABORTED;case iE.OUT_OF_RANGE:return ew.OUT_OF_RANGE;case iE.UNIMPLEMENTED:return ew.UNIMPLEMENTED;case iE.DATA_LOSS:return ew.DATA_LOSS;default:return Xb()}}(aE=iE||(iE={}))[aE.OK=0]="OK",aE[aE.CANCELLED=1]="CANCELLED",aE[aE.UNKNOWN=2]="UNKNOWN",aE[aE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",aE[aE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",aE[aE.NOT_FOUND=5]="NOT_FOUND",aE[aE.ALREADY_EXISTS=6]="ALREADY_EXISTS",aE[aE.PERMISSION_DENIED=7]="PERMISSION_DENIED",aE[aE.UNAUTHENTICATED=16]="UNAUTHENTICATED",aE[aE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",aE[aE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",aE[aE.ABORTED=10]="ABORTED",aE[aE.OUT_OF_RANGE=11]="OUT_OF_RANGE",aE[aE.UNIMPLEMENTED=12]="UNIMPLEMENTED",aE[aE.INTERNAL=13]="INTERNAL",aE[aE.UNAVAILABLE=14]="UNAVAILABLE",aE[aE.DATA_LOSS=15]="DATA_LOSS";var pE=function(){function e(){Gt(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return $t(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return vE}},{key:"getOrCreateInstance",value:function(){return null===vE&&(vE=new e),vE}}]),e}(),vE=null;function yE(){return new TextEncoder}var mE=new zb([4294967295,4294967295],0);function gE(e){var t=yE().encode(e),n=new Vb;return n.update(t),new Uint8Array(n.digest())}function kE(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new zb([n,r],0),new zb([i,a],0)]}var bE=function(){function e(t,n,r){if(Gt(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wE("Invalid padding: ".concat(n));if(r<0)throw new wE("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new wE("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new wE("Invalid padding when bitmap length is 0: ".concat(n));this.de=8*t.length-n,this.Ae=zb.fromNumber(this.de)}return $t(e,[{key:"Re",value:function(e,t,n){var r=e.add(t.multiply(zb.fromNumber(n)));return 1===r.compare(mE)&&(r=new zb([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ae).toNumber()}},{key:"Ve",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.de)return!1;for(var t=Wt(kE(gE(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Re(n,r,i);if(!this.Ve(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.de)for(var t=Wt(kE(gE(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Re(n,r,i);this.me(a)}}},{key:"me",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),wE=function(e){Xt(n,e);var t=tn(n);function n(){var e;return Gt(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return $t(n)}(rn(Error)),_E=function(){function e(t,n,r,i,a){Gt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return $t(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,xE.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(mw.min(),i,new A_(dw),yS(),ES())}}]),e}(),xE=function(){function e(t,n,r,i,a){Gt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return $t(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,ES(),ES(),ES())}}]),e}(),SE=$t((function e(t,n,r,i){Gt(this,e),this.fe=t,this.removedTargetIds=n,this.key=r,this.ge=i})),EE=$t((function e(t,n){Gt(this,e),this.targetId=t,this.pe=n})),IE=$t((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F_.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Gt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),TE=function(){function e(){Gt(this,e),this.ye=0,this.we=AE(),this.Se=F_.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}return $t(e,[{key:"current",get:function(){return this.be}},{key:"resumeToken",get:function(){return this.Se}},{key:"ve",get:function(){return 0!==this.ye}},{key:"Ce",get:function(){return this.De}},{key:"Fe",value:function(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}},{key:"Me",value:function(){var e=ES(),t=ES(),n=ES();return this.we.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Xb()}})),new xE(this.Se,this.be,e,t,n)}},{key:"xe",value:function(){this.De=!1,this.we=AE()}},{key:"Oe",value:function(e,t){this.De=!0,this.we=this.we.insert(e,t)}},{key:"Ne",value:function(e){this.De=!0,this.we=this.we.remove(e)}},{key:"Be",value:function(){this.ye+=1}},{key:"Le",value:function(){this.ye-=1}},{key:"ke",value:function(){this.De=!0,this.be=!0}}]),e}(),CE=function(){function e(t){Gt(this,e),this.qe=t,this.Qe=new Map,this.Ke=yS(),this.$e=OE(),this.Ue=new A_(dw)}return $t(e,[{key:"We",value:function(e){var t,n=on(e.fe);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.ge&&e.ge.isFoundDocument()?this.Ge(r,e.ge):this.ze(r,e.key,e.ge)}}catch(u){n.e(u)}finally{n.f()}var i,a=on(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ze(o,e.key,e.ge)}}catch(u){a.e(u)}finally{a.f()}}},{key:"je",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.He(n);switch(e.state){case 0:t.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||t.removeTarget(n);break;case 3:t.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:t.Je(n)&&(t.Ye(n),r.Fe(e.resumeToken));break;default:Xb()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qe.forEach((function(e,r){n.Je(r)&&t(r)}))}},{key:"Ze",value:function(e){var t,n,r=e.targetId,i=e.pe.count,a=this.Xe(r);if(a){var o=a.target;if(Kx(o))if(0===i){var u=new _w(o.path);this.ze(r,u,mx.newNoDocument(u,mw.min()))}else Jb(1===i);else{var s=this.et(r);if(s!==i){var c=this.tt(e,s);if(0!==c.status){this.Ye(r);var l=2===c.status?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,l)}null===(t=pE.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n,r){var i,a,o,u,s,c,l={localCacheCount:n,existenceFilterCount:r.count},f=r.unchangedNames;return f&&(l.bloomFilter={applied:0===e,hashCount:null!==(i=null==f?void 0:f.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(u=null===(o=null===(a=null==f?void 0:f.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==u?u:0,padding:null!==(c=null===(s=null==f?void 0:f.bits)||void 0===s?void 0:s.padding)&&void 0!==c?c:0},t&&(l.bloomFilter.mightContain=t)),l}(c.status,null!==(n=c.nt)&&void 0!==n?n:null,s,e.pe))}}}}},{key:"tt",value:function(e,t){var n=this,r=e.pe,i=r.unchangedNames,a=r.count;if(!i||!i.bits)return{status:1};var o,u,s=i.bits,c=s.bitmap,l=void 0===c?"":c,f=s.padding,h=void 0===f?0:f,d=i.hashCount,p=void 0===d?0:d;try{o=B_(l).toUint8Array()}catch(e){if(e instanceof j_)return $b("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw e}try{u=new bE(o,h,p)}catch(e){return $b(e instanceof wE?"BloomFilter error: ":"Applying bloom filter failed: ",e),{status:1}}var v=function(e){var t=n.qe.rt();return u.mightContain("projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e))};return 0===u.de?{status:1}:{status:a===t-this.it(e.targetId,v)?0:2,nt:v}}},{key:"it",value:function(e,t){var n=this,r=this.qe.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){t(r.path.canonicalString())||(n.ze(e,r,null),i++)})),i}},{key:"st",value:function(e){var t=this,n=new Map;this.Qe.forEach((function(r,i){var a=t.Xe(i);if(a){if(r.current&&Kx(a.target)){var o=new _w(a.target.path);null!==t.Ke.get(o)||t.ot(i,o)||t.ze(i,o,mx.newNoDocument(o,e))}r.Ce&&(n.set(i,r.Me()),r.xe())}}));var r=ES();this.$e.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xe(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ke.forEach((function(t,n){return n.setReadTime(e)}));var i=new _E(e,n,this.Ue,this.Ke,r);return this.Ke=yS(),this.$e=OE(),this.Ue=new A_(dw),i}},{key:"Ge",value:function(e,t){if(this.Je(e)){var n=this.ot(e,t.key)?2:0;this.He(e).Oe(t.key,n),this.Ke=this.Ke.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e))}}},{key:"ze",value:function(e,t,n){if(this.Je(e)){var r=this.He(e);this.ot(e,t)?r.Oe(t,1):r.Ne(t),this.$e=this.$e.insert(t,this._t(t).delete(e)),n&&(this.Ke=this.Ke.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qe.delete(e)}},{key:"et",value:function(e){var t=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Be",value:function(e){this.He(e).Be()}},{key:"He",value:function(e){var t=this.Qe.get(e);return t||(t=new TE,this.Qe.set(e,t)),t}},{key:"_t",value:function(e){var t=this.$e.get(e);return t||(t=new R_(dw),this.$e=this.$e.insert(e,t)),t}},{key:"Je",value:function(e){var t=null!==this.Xe(e);return t||Gb("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xe",value:function(e){var t=this.Qe.get(e);return t&&t.ve?null:this.qe.ut(e)}},{key:"Ye",value:function(e){var t=this;this.Qe.set(e,new TE),this.qe.getRemoteKeysForTarget(e).forEach((function(n){t.ze(e,n,null)}))}},{key:"ot",value:function(e,t){return this.qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function OE(){return new A_(_w.comparator)}function AE(){return new A_(_w.comparator)}var PE={asc:"ASCENDING",desc:"DESCENDING"},NE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RE={and:"AND",or:"OR"},DE=$t((function e(t,n){Gt(this,e),this.databaseId=t,this.useProto3Json=n}));function LE(e,t){return e.useProto3Json||$w(t)?t:{value:t}}function ME(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function jE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function FE(e,t){return ME(e,t.toTimestamp())}function UE(e){return Jb(!!e),mw.fromTimestamp(function(e){var t=V_(e);return new yw(t.seconds,t.nanos)}(e))}function VE(e,t){return function(e){return new kw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function zE(e){var t=kw.fromString(e);return Jb(lI(t)),t}function BE(e,t){return VE(e.databaseId,t.path)}function qE(e,t){var n=zE(t);if(n.get(1)!==e.databaseId.projectId)throw new tw(ew.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tw(ew.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _w(GE(n))}function WE(e,t){return VE(e.databaseId,t)}function HE(e){var t=zE(e);return 4===t.length?kw.emptyPath():GE(t)}function KE(e){return new kw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function GE(e){return Jb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function QE(e,t,n){return{name:BE(e,t),fields:n.value.mapValue.fields}}function $E(e,t,n){var r=qE(e,t.name),i=UE(t.updateTime),a=t.createTime?UE(t.createTime):mw.min(),o=new vx({mapValue:{fields:t.fields}}),u=mx.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function YE(e,t){return"found"in t?function(e,t){Jb(!!t.found),t.found.name,t.found.updateTime;var n=qE(e,t.found.name),r=UE(t.found.updateTime),i=t.found.createTime?UE(t.found.createTime):mw.min(),a=new vx({mapValue:{fields:t.found.fields}});return mx.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Jb(!!t.missing),Jb(!!t.readTime);var n=qE(e,t.missing),r=UE(t.readTime);return mx.newNoDocument(n,r)}(e,t):Xb()}function XE(e,t){var n;if(t instanceof ZS)n={update:QE(e,t.key,t.value)};else if(t instanceof oE)n={delete:BE(e,t.key)};else if(t instanceof eE)n={update:QE(e,t.key,t.data),updateMask:cI(t.fieldMask)};else{if(!(t instanceof uE))return Xb();n={verify:BE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof LS)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof MS)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof FS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof VS)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw Xb()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:FE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Xb()}(e,t.precondition)),n}function JE(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?HS.updateTime(UE(e.updateTime)):void 0!==e.exists?HS.exists(e.exists):HS.none()}(t.currentDocument):HS.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Jb("REQUEST_TIME"===t.setToServerValue),n=new LS;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new MS(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new FS(i)}else"increment"in t?n=new VS(e,t.increment):Xb();var a=ww.fromServerFormat(t.fieldPath);return new qS(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=qE(e,t.update.name),a=new vx({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new M_(t.map((function(e){return ww.fromServerFormat(e)})))}(t.updateMask);return new eE(i,a,o,n,r)}return new ZS(i,a,n,r)}if(t.delete){var u=qE(e,t.delete);return new oE(u,n)}if(t.verify){var s=qE(e,t.verify);return new uE(s,n)}return Xb()}function ZE(e,t){return{documents:[WE(e,t.path)]}}function eI(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=WE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=WE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return sI(Ex.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:oI(e.field),direction:rI(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=LE(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function tI(e){var t=HE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Jb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=nI(e);return t instanceof Ex&&Cx(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new wx(uI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return $w(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new gx(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new gx(n,t)}(n.endAt)),Xx(t,i,u,o,s,"F",c,l)}function nI(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=uI(e.unaryFilter.field);return Sx.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=uI(e.unaryFilter.field);return Sx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=uI(e.unaryFilter.field);return Sx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=uI(e.unaryFilter.field);return Sx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xb()}}(e):void 0!==e.fieldFilter?function(e){return Sx.create(uI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xb()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ex.create(e.compositeFilter.filters.map((function(e){return nI(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Xb()}}(e.compositeFilter.op))}(e):Xb()}function rI(e){return PE[e]}function iI(e){return NE[e]}function aI(e){return RE[e]}function oI(e){return{fieldPath:e.canonicalString()}}function uI(e){return ww.fromServerFormat(e.fieldPath)}function sI(e){return e instanceof Sx?function(e){if("=="===e.op){if(ux(e.value))return{unaryFilter:{field:oI(e.field),op:"IS_NAN"}};if(ox(e.value))return{unaryFilter:{field:oI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ux(e.value))return{unaryFilter:{field:oI(e.field),op:"IS_NOT_NAN"}};if(ox(e.value))return{unaryFilter:{field:oI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oI(e.field),op:iI(e.op),value:e.value}}}(e):e instanceof Ex?function(e){var t=e.getFilters().map((function(e){return sI(e)}));return 1===t.length?t[0]:{compositeFilter:{op:aI(e.op),filters:t}}}(e):Xb()}function cI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function lI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var fI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:mw.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:F_.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Gt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return $t(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),hI=$t((function e(t){Gt(this,e),this.ct=t}));function dI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:pI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:BE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ME(e,t.version.toTimestamp()),createTime:ME(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:vI(t.version)};else{if(!t.isUnknownDocument())return Xb();r.unknownDocument={path:n.path.toArray(),version:vI(t.version)}}return r}function pI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function yI(e){var t=new yw(e.seconds,e.nanoseconds);return mw.fromTimestamp(t)}function mI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return JE(e.ct,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return JE(e.ct,t)})),u=yw.fromMillis(t.localWriteTimeMs);return new sE(t.batchId,u,n,o)}function gI(e){var t,n=yI(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?yI(e.lastLimboFreeSnapshotVersion):mw.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return Jb(1===e.documents.length),iS(Jx(HE(e.documents[0])))}(e.query):function(e){return iS(tI(e))}(e.query),new fI(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,F_.fromBase64String(e.resumeToken))}function kI(e,t){var n,r=vI(t.snapshotVersion),i=vI(t.lastLimboFreeSnapshotVersion);n=Kx(t.target)?ZE(e.ct,t.target):eI(e.ct,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Wx(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function bI(e){var t=tI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?oS(t,t.limit,"L"):t}function wI(e,t){return new lE(t.largestBatchId,JE(e.ct,t.overlayMutation))}function _I(e,t){var n=t.path.lastSegment();return[e,Jw(t.path.popLast()),n]}function xI(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:vI(r.readTime),documentKey:Jw(r.documentKey.path),largestBatchId:r.largestBatchId}}var SI=function(){function e(){Gt(this,e)}return $t(e,[{key:"getBundleMetadata",value:function(e,t){return EI(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:yI(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return EI(e).put(function(e){return{bundleId:e.id,createTime:vI(UE(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return II(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:bI(e.bundledQuery),readTime:yI(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return II(e).put(function(e){return{name:e.name,readTime:vI(UE(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function EI(e){return I_(e,"bundles")}function II(e){return I_(e,"namedQueries")}var TI=function(){function e(t,n){Gt(this,e),this.serializer=t,this.userId=n}return $t(e,[{key:"getOverlay",value:function(e,t){var n=this;return CI(e).get(_I(this.userId,t)).next((function(e){return e?wI(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=bS();return Mw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new lE(t,a);i.push(r.ht(e,o))})),Mw.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Jw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(CI(e).J("collectionPathOverlayIndex",i))})),Mw.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=bS(),a=Jw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return CI(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=on(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=wI(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=bS(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return CI(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=wI(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ht",value:function(e,t){return CI(e).put(function(e,t,n){var r=Wt(_I(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:XE(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"lt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function CI(e){return I_(e,"documentOverlays")}var OI=function(){function e(){Gt(this,e)}return $t(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(z_(e.integerValue));else if("doubleValue"in e){var n=z_(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Yw(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(B_(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?lx(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Xb()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=on(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),_w.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();function AI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function PI(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=AI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}OI.bt=new OI;var NI=function(){function e(){Gt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return $t(e,[{key:"Dt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.vt(n.value),n=t.next();this.Ct()}},{key:"Ft",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Mt(n.value),n=t.next();this.xt()}},{key:"Ot",value:function(e){var t,n=on(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.vt(i);else if(i<2048)this.vt(960|i>>>6),this.vt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.vt(480|i>>>12),this.vt(128|63&i>>>6),this.vt(128|63&i);else{var a=r.codePointAt(0);this.vt(240|a>>>18),this.vt(128|63&a>>>12),this.vt(128|63&a>>>6),this.vt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ct()}},{key:"Nt",value:function(e){var t,n=on(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{var a=r.codePointAt(0);this.Mt(240|a>>>18),this.Mt(128|63&a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.xt()}},{key:"Bt",value:function(e){var t=this.Lt(e),n=PI(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"qt",value:function(e){var t=this.Lt(e),n=PI(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Qt",value:function(){this.Kt(255),this.Kt(255)}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Wt",value:function(){return this.buffer.slice(0,this.position)}},{key:"Lt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"vt",value:function(e){var t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}},{key:"Mt",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}},{key:"Ct",value:function(){this.Kt(0),this.Kt(1)}},{key:"xt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Kt",value:function(e){this.kt(1),this.buffer[this.position++]=e}},{key:"Ut",value:function(e){this.kt(1),this.buffer[this.position++]=~e}},{key:"kt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),RI=function(){function e(t){Gt(this,e),this.Gt=t}return $t(e,[{key:"ft",value:function(e){this.Gt.Dt(e)}},{key:"At",value:function(e){this.Gt.Ot(e)}},{key:"dt",value:function(e){this.Gt.Bt(e)}},{key:"Tt",value:function(){this.Gt.Qt()}}]),e}(),DI=function(){function e(t){Gt(this,e),this.Gt=t}return $t(e,[{key:"ft",value:function(e){this.Gt.Ft(e)}},{key:"At",value:function(e){this.Gt.Nt(e)}},{key:"dt",value:function(e){this.Gt.qt(e)}},{key:"Tt",value:function(){this.Gt.$t()}}]),e}(),LI=function(){function e(){Gt(this,e),this.Gt=new NI,this.zt=new RI(this.Gt),this.jt=new DI(this.Gt)}return $t(e,[{key:"seed",value:function(e){this.Gt.seed(e)}},{key:"Ht",value:function(e){return 0===e?this.zt:this.jt}},{key:"Wt",value:function(){return this.Gt.Wt()}},{key:"reset",value:function(){this.Gt.reset()}}]),e}(),MI=function(){function e(t,n,r,i){Gt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return $t(e,[{key:"Jt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function jI(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=FI(e.arrayValue,t.arrayValue))?n:0!==(n=FI(e.directionalValue,t.directionalValue))?n:_w.comparator(e.documentKey,t.documentKey)}function FI(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var UI=function(){function e(t){Gt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];var n,r=on(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Xt=i:this.Zt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return $t(e,[{key:"en",value:function(e){Jb(e.collectionGroup===this.collectionId);var t=Sw(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=Ew(e),r=new Set,i=0,a=0;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Xt){if(!r.has(this.Xt.field.canonicalString())){var o=n[i];if(!this.nn(this.Xt,o)||!this.rn(this.Yt[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Yt.length||!this.rn(this.Yt[a++],u))return!1}return!0}},{key:"tn",value:function(e){var t,n=on(this.Zt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"rn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function VI(e){var t,n;if(Jb(e instanceof Sx||e instanceof Ex),e instanceof Sx){if(e instanceof Ux){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Sx.create(e.field,"==",t)})))||[];return Ex.create(r,"or")}return e}var i=e.filters.map((function(e){return VI(e)}));return Ex.create(i,e.op)}function zI(e){if(0===e.getFilters().length)return[];var t=HI(VI(e));return Jb(WI(t)),BI(t)||qI(t)?[t]:t.getFilters()}function BI(e){return e instanceof Sx}function qI(e){return e instanceof Ex&&Cx(e)}function WI(e){return BI(e)||qI(e)||function(e){if(e instanceof Ex&&Tx(e)){var t,n=on(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!BI(r)&&!qI(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function HI(e){if(Jb(e instanceof Sx||e instanceof Ex),e instanceof Sx)return e;if(1===e.filters.length)return HI(e.filters[0]);var t=e.filters.map((function(e){return HI(e)})),n=Ex.create(t,e.op);return WI(n=QI(n))?n:(Jb(n instanceof Ex),Jb(Ix(n)),Jb(n.filters.length>1),n.filters.reduce((function(e,t){return KI(e,t)})))}function KI(e,t){var n;return Jb(e instanceof Sx||e instanceof Ex),Jb(t instanceof Sx||t instanceof Ex),n=e instanceof Sx?t instanceof Sx?function(e,t){return Ex.create([e,t],"and")}(e,t):GI(e,t):t instanceof Sx?GI(t,e):function(e,t){if(Jb(e.filters.length>0&&t.filters.length>0),Ix(e)&&Ix(t))return Nx(e,t.getFilters());var n=Tx(e)?e:t,r=Tx(e)?t:e,i=n.filters.map((function(e){return KI(e,r)}));return Ex.create(i,"or")}(e,t),QI(n)}function GI(e,t){if(Ix(t))return Nx(t,e.getFilters());var n=t.filters.map((function(t){return KI(e,t)}));return Ex.create(n,"or")}function QI(e){if(Jb(e instanceof Sx||e instanceof Ex),e instanceof Sx)return e;var t=e.getFilters();if(1===t.length)return QI(t[0]);if(Ox(e))return e;var n=t.map((function(e){return QI(e)})),r=[];return n.forEach((function(t){t instanceof Sx?r.push(t):t instanceof Ex&&(t.op===e.op?r.push.apply(r,Kt(t.filters)):r.push(t))})),1===r.length?r[0]:Ex.create(r,e.op)}var $I=function(){function e(){Gt(this,e),this.sn=new YI}return $t(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),Mw.resolve()}},{key:"getCollectionParents",value:function(e,t){return Mw.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Mw.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Mw.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Mw.resolve(null)}},{key:"getIndexType",value:function(e,t){return Mw.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Mw.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Mw.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Mw.resolve(Aw.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Mw.resolve(Aw.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Mw.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Mw.resolve()}}]),e}(),YI=function(){function e(){Gt(this,e),this.index={}}return $t(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new R_(kw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new R_(kw.comparator)).toArray()}}]),e}(),XI=new Uint8Array(0),JI=function(){function e(t,n){Gt(this,e),this.user=t,this.databaseId=n,this.on=new YI,this._n=new pS((function(e){return Wx(e)}),(function(e,t){return Hx(e,t)})),this.uid=t.uid||""}return $t(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:Jw(i)};return ZI(e).put(a)}return Mw.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[vw(t),""],!1,!0);return ZI(e).G(r).next((function(e){var r,i=on(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(t_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=tT(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=nT(e);return a.next((function(e){o.put(xI(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=tT(e),r=nT(e),i=eT(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=eT(e),i=!0,a=new Map;return Mw.forEach(this.an(t),(function(t){return n.un(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ES(),o=[];return Mw.forEach(a,(function(i,a){Gb("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(Wx(t)));var u=function(e,t){var n=Sw(t);if(void 0===n)return null;var r,i=on(Gx(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=on(Ew(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=on(Gx(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=on(Ew(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Qx(e,o.fieldPath,e.startAt):$x(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new gx(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=on(Ew(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?$x(e,o.fieldPath,e.endAt):Qx(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new gx(r,i)}(a,i),f=n.cn(i,a,c),h=n.cn(i,a,l),d=n.ln(i,a,s),p=n.hn(i.indexId,u,f,c.inclusive,h,l.inclusive,d);return Mw.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=_w.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Mw.resolve(null)}))}},{key:"an",value:function(e){var t=this._n.get(e);return t||(t=0===e.filters.length?[e]:zI(Ex.create(e.filters,"and")).map((function(t){return qx(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this._n.set(e,t),t)}},{key:"hn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.Pn(t[h/c]):XI,f=u.In(e,s,n[h%c],r),d=u.Tn(e,s,i[h%c],a),p=o.map((function(t){return u.In(e,s,t,!0)}));l.push.apply(l,Kt(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"In",value:function(e,t,n,r){var i=new MI(e,_w.empty(),t,n);return r?i:i.Jt()}},{key:"Tn",value:function(e,t,n,r){var i=new MI(e,_w.empty(),t,n);return r?i.Jt():i}},{key:"un",value:function(e,t){var n=new UI(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=on(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.en(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.an(t);return Mw.forEach(i,(function(t){return n.un(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new R_(ww.comparator),r=!1,i=on(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=on(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=on(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"En",value:function(e,t){var n,r=new LI,i=on(Ew(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ht(a.kind);OI.bt.Pt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Wt()}},{key:"Pn",value:function(e){var t=new LI;return OI.bt.Pt(e,t.Ht(0)),t.Wt()}},{key:"dn",value:function(e,t){var n=new LI;return OI.bt.Pt(rx(this.databaseId,t),n.Ht(function(e){var t=Ew(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new LI);var i,a=0,o=on(Ew(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=on(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.An(t,s.fieldPath)&&ax(c))r=this.Rn(r,s,c);else{var h=f.Ht(s.kind);OI.bt.Pt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.Vn(r)}},{key:"cn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"Vn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Wt();return t}},{key:"Rn",value:function(e,t,n){var r,i=Kt(e),a=[],o=on(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=on(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new LI;f.seed(l.Wt()),OI.bt.Pt(s,f.Ht(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"An",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Sx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=tT(e),i=nT(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return Mw.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Tw(t.sequenceNumber,new Aw(yI(t.readTime),new _w(t_(t.documentKey)),t.largestBatchId)):Tw.empty(),r=e.fields.map((function(e){var t=Wt(e,2),n=t[0],r=t[1];return new Iw(ww.fromServerFormat(n),r)}));return new xw(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:dw(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=tT(e),a=nT(e);return this.mn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Mw.forEach(t,(function(t){return a.put(xI(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Mw.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Mw.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Mw.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?Mw.resolve():n.pn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return eT(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.dn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"wn",value:function(e,t,n,r){return eT(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.dn(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=eT(e),i=new R_(jI);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.dn(n,t)])},(function(e,r){i=i.add(new MI(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new R_(jI),r=this.En(t,e);if(null==r)return n;var i=Sw(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ax(a)){var o,u=on(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new MI(t.indexId,e.key,this.Pn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new MI(t.indexId,e.key,XI,r));return n}},{key:"pn",value:function(e,t,n,r,i){var a=this;Gb("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=L_(a),s=L_(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=L_(o)):l?(i(u),u=L_(a)):(u=L_(a),s=L_(o))}}(r,i,jI,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.wn(e,t,n,r))})),Mw.waitFor(o)}},{key:"mn",value:function(e){var t=1;return nT(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return jI(e,t)})).filter((function(e,t,n){return!t||0!==jI(e,n[t-1])}));var r=[];r.push(e);var i,a=on(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=jI(o,e),s=jI(o,t);if(0===u)r[0]=e.Jt();else if(u>0&&s<0)r.push(o),r.push(o.Jt());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Sn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,XI,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,XI,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Sn",value:function(e,t){return jI(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(rT)}},{key:"getMinOffset",value:function(e,t){var n=this;return Mw.mapArray(this.an(t),(function(t){return n.un(e,t).next((function(e){return e||Xb()}))})).next(rT)}}]),e}();function ZI(e){return I_(e,"collectionParents")}function eT(e){return I_(e,"indexEntries")}function tT(e){return I_(e,"indexConfiguration")}function nT(e){return I_(e,"indexState")}function rT(e){Jb(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Pw(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Aw(t.readTime,t.documentKey,n)}var iT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=function(){function e(t,n,r){Gt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return $t(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function oT(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Jb(1===u)})));var c,l=[],f=on(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=i_(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Mw.waitFor(a).next((function(){return l}))}function uT(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Xb();t=e.noDocument}return JSON.stringify(t).length}aT.DEFAULT_COLLECTION_PERCENTILE=10,aT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,aT.DEFAULT=new aT(41943040,aT.DEFAULT_COLLECTION_PERCENTILE,aT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),aT.DISABLED=new aT(-1,0,0);var sT=function(){function e(t,n,r,i){Gt(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}return $t(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lT(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=fT(e),o=lT(e);return o.add({}).next((function(u){Jb("number"==typeof u);var s,c=new sE(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return XE(e.ct,t)})),i=n.mutations.map((function(t){return XE(e.ct,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new R_((function(e,t){return dw(e.canonicalString(),t.canonicalString())})),d=on(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=i_(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,a_))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.bn[u]=c.keys()})),Mw.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return lT(e).get(t).next((function(e){return e?(Jb(e.userId===n.userId),mI(n.serializer,e)):null}))}},{key:"Dn",value:function(e,t){var n=this;return this.bn[t]?Mw.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.bn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return lT(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Jb(t.batchId>=r),a=mI(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return lT(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lT(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return mI(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=r_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return fT(e).Z({range:i},(function(r,i,o){var u=Wt(r,3),s=u[0],c=u[1],l=u[2],f=t_(c);if(s===n.userId&&t.path.isEqual(f))return lT(e).get(l).next((function(e){if(!e)throw Xb();Jb(e.userId===n.userId),a.push(mI(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new R_(dw),i=[];return t.forEach((function(t){var a=r_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=fT(e).Z({range:o},(function(e,i,a){var o=Wt(e,3),u=o[0],s=o[1],c=o[2],l=t_(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Mw.waitFor(i).next((function(){return n.vn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=r_(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new R_(dw);return fT(e).Z({range:o},(function(e,t,a){var o=Wt(e,3),s=o[0],c=o[1],l=o[2],f=t_(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.vn(e,u)}))}},{key:"vn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(lT(e).get(t).next((function(e){if(null===e)throw Xb();Jb(e.userId===n.userId),r.push(mI(n.serializer,e))})))})),Mw.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return oT(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),Mw.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.bn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Mw.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return fT(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=t_(e[1]);i.push(a)}else r.done()})).next((function(){Jb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return cT(e,this.userId,t)}},{key:"Fn",value:function(e){var t=this;return hT(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"lt",value:function(t,n,r,i){return Jb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function cT(e,t,n){var r=r_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return fT(e).Z({range:a,Y:!0},(function(e,n,r){var a=Wt(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function lT(e){return I_(e,"mutations")}function fT(e){return I_(e,"documentMutations")}function hT(e){return I_(e,"mutationQueues")}var dT=function(){function e(t){Gt(this,e),this.Mn=t}return $t(e,[{key:"next",value:function(){return this.Mn+=2,this.Mn}}],[{key:"xn",value:function(){return new e(0)}},{key:"On",value:function(){return new e(-1)}}]),e}(),pT=function(){function e(t,n){Gt(this,e),this.referenceDelegate=t,this.serializer=n}return $t(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Nn(e).next((function(n){var r=new dT(n.highestTargetId);return n.highestTargetId=r.next(),t.Bn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Nn(e).next((function(e){return mw.fromTimestamp(new yw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Nn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Nn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Bn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ln(e,t).next((function(){return n.Nn(e).next((function(r){return r.targetCount+=1,n.kn(t,r),n.Bn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ln(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return vT(e).delete(t.targetId)})).next((function(){return n.Nn(e)})).next((function(t){return Jb(t.targetCount>0),t.targetCount-=1,n.Bn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return vT(e).Z((function(o,u){var s=gI(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Mw.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return vT(e).Z((function(e,n){var r=gI(n);t(r)}))}},{key:"Nn",value:function(e){return yT(e).get("targetGlobalKey").next((function(e){return Jb(null!==e),e}))}},{key:"Bn",value:function(e,t){return yT(e).put("targetGlobalKey",t)}},{key:"Ln",value:function(e,t){return vT(e).put(kI(this.serializer,t))}},{key:"kn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Nn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Wx(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return vT(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=gI(n);Hx(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=mT(e);return t.forEach((function(t){var o=Jw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Mw.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=mT(e);return Mw.forEach(t,(function(t){var a=Jw(t.path);return Mw.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=mT(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=mT(e),i=ES();return r.Z({range:n,Y:!0},(function(e,t,n){var r=t_(e[1]),a=new _w(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Jw(t.path),r=IDBKeyRange.bound([n],[vw(n)],!1,!0),i=0;return mT(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=Wt(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ut",value:function(e,t){return vT(e).get(t).next((function(e){return e?gI(e):null}))}}]),e}();function vT(e){return I_(e,"targets")}function yT(e){return I_(e,"targetGlobal")}function mT(e){return I_(e,"targetDocuments")}function gT(e,t){var n=Wt(e,2),r=n[0],i=n[1],a=Wt(t,2),o=a[0],u=a[1],s=dw(r,o);return 0===s?dw(i,u):s}var kT=function(){function e(t){Gt(this,e),this.qn=t,this.buffer=new R_(gT),this.Qn=0}return $t(e,[{key:"Kn",value:function(){return++this.Qn}},{key:"$n",value:function(e){var t=[e,this.Kn()];if(this.buffer.size<this.qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();gT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),bT=function(){function e(t,n,r){Gt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Un=null}return $t(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Wn(6e4)}},{key:"stop",value:function(){this.Un&&(this.Un.cancel(),this.Un=null)}},{key:"started",get:function(){return null!==this.Un}},{key:"Wn",value:function(e){var t=this;Gb("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Un=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Un=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!zw(e.t0)){e.next=12;break}Gb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Dw(e.t0);case 14:return e.next=16,t.Wn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),wT=function(){function e(t,n){Gt(this,e),this.Gn=t,this.params=n}return $t(e,[{key:"calculateTargetCount",value:function(e,t){return this.Gn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Mw.resolve(Qw.ae);var r=new kT(t);return this.Gn.forEachTarget(e,(function(e){return r.$n(e.sequenceNumber)})).next((function(){return n.Gn.jn(e,(function(e){return r.$n(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Gn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Gn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Gb("LruGarbageCollector","Garbage collection skipped; disabled"),Mw.resolve(iT)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Gb("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),iT):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Gn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Gb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Kb()<=xu.DEBUG&&Gb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Mw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function _T(e,t){return new wT(e,t)}var xT=function(){function e(t,n){Gt(this,e),this.db=t,this.garbageCollector=_T(this,n)}return $t(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"jn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ST(e,n)}},{key:"removeReference",value:function(e,t,n){return ST(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ST(e,t)}},{key:"Zn",value:function(e,t){return function(e,t){var n=!1;return hT(e).X((function(r){return cT(e,r,t).next((function(e){return e&&(n=!0),Mw.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,u){if(u<=t){var s=n.Zn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,mw.min()),mT(e).delete(function(e){return[0,Jw(e.path)]}(o))}))}));i.push(s)}})).next((function(){return Mw.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ST(e,t)}},{key:"Yn",value:function(e,t){var n,r=mT(e),i=Qw.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=Wt(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Qw.ae&&t(new _w(t_(n)),i),i=s,n=u):i=Qw.ae})).next((function(){i!==Qw.ae&&t(new _w(t_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ST(e,t){return mT(e).put(function(e,t){return{targetId:0,path:Jw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var ET=function(){function e(){Gt(this,e),this.changes=new pS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return $t(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,mx.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Mw.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),IT=function(){function e(t){Gt(this,e),this.serializer=t}return $t(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return AT(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return AT(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],pI(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Xn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=mx.newInvalidDocument(t);return AT(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(PT(t))},(function(e,i){r=n.er(t,i)})).next((function(){return r}))}},{key:"tr",value:function(e,t){var n=this,r={size:0,document:mx.newInvalidDocument(t)};return AT(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(PT(t))},(function(e,i){r={document:n.er(t,i),size:uT(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=yS();return this.nr(e,t,(function(e,t){var i=n.er(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r=yS(),i=new A_(_w.comparator);return this.nr(e,t,(function(e,t){var a=n.er(e,t);r=r.insert(e,a),i=i.insert(e,uT(t))})).next((function(){return{documents:r,ir:i}}))}},{key:"nr",value:function(e,t,n){if(t.isEmpty())return Mw.resolve();var r=new R_(RT);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(PT(r.first()),PT(r.last())),a=r.getIterator(),o=a.getNext();return AT(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=_w.fromSegments([].concat(Kt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&RT(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(PT(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),pI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return AT(e).G(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=yS(),o=on(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.er(_w.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(lS(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=yS(),o=NT(t,n),u=NT(t,Aw.max());return AT(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.er(_w.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new CT(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return OT(e).get("remoteDocumentGlobalKey").next((function(e){return Jb(!!e),e}))}},{key:"Xn",value:function(e,t){return OT(e).put("remoteDocumentGlobalKey",t)}},{key:"er",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=$E(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=_w.fromSegments(t.noDocument.path),i=yI(t.noDocument.readTime);n=mx.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Xb();var a=_w.fromSegments(t.unknownDocument.path),o=yI(t.unknownDocument.version);n=mx.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new yw(e[0],e[1]);return mw.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(mw.min()))return n}return mx.newInvalidDocument(e)}}]),e}();function TT(e){return new IT(e)}var CT=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this)).sr=e,i.trackRemovals=r,i._r=new pS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return $t(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new R_((function(e,t){return dw(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t._r.get(a);if(n.push(t.sr.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=dI(t.sr.serializer,o);i=i.add(a.path.popLast());var c=uT(s);r+=c-u.size,n.push(t.sr.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=dI(t.sr.serializer,o.convertToNoDocument(mw.min()));n.push(t.sr.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.sr.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.sr.updateMetadata(e,r)),Mw.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.sr.tr(e,t).next((function(e){return n._r.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.sr.rr(e,t).next((function(e){var t=e.documents;return e.ir.forEach((function(e,r){n._r.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(ET);function OT(e){return I_(e,"remoteDocumentGlobal")}function AT(e){return I_(e,"remoteDocumentsV14")}function PT(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function NT(e,t){var n=t.documentKey.path.toArray();return[e,pI(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function RT(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=dw(n[a],r[a]))return i;return(i=dw(n.length,r.length))||((i=dw(n[n.length-2],r[r.length-2]))||dw(n[n.length-1],r[r.length-1]))}var DT=$t((function e(t,n){Gt(this,e),this.overlayedDocument=t,this.mutatedFields=n})),LT=function(){function e(t,n,r,i){Gt(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return $t(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&YS(r.mutation,e,M_.empty(),yw.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,ES()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ES(),i=bS();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=gS();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=bS();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,ES())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=yS(),a=_S(),o=_S();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof eE)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),YS(o.mutation,t,o.mutation.getFieldMask(),yw.now())):a.set(t.key,M_.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new DT(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=_S(),i=new A_((function(e,t){return e-t})),a=ES();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=on(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||M_.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||ES()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=wS();c.forEach((function(e){if(!a.has(e)){var n=QS(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Mw.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return _w.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Mw.resolve(bS()),u=-1,s=a;return o.next((function(t){return Mw.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Mw.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,ES())})).next((function(e){return{batchId:u,changes:kS(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new _w(t)).next((function(e){var t=gS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=gS();return this.indexManager.getCollectionParents(e,i).next((function(o){return Mw.forEach(o,(function(o){var u=function(e,t){return new Yx(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,mx.newInvalidDocument(r)))}));var n=gS();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&YS(a.mutation,i,M_.empty(),yw.now()),lS(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),MT=function(){function e(t){Gt(this,e),this.serializer=t,this.ar=new Map,this.ur=new Map}return $t(e,[{key:"getBundleMetadata",value:function(e,t){return Mw.resolve(this.ar.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ar.set(t.id,function(e){return{id:e.id,version:e.version,createTime:UE(e.createTime)}}(t)),Mw.resolve()}},{key:"getNamedQuery",value:function(e,t){return Mw.resolve(this.ur.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ur.set(t.name,function(e){return{name:e.name,query:bI(e.bundledQuery),readTime:UE(e.readTime)}}(t)),Mw.resolve()}}]),e}(),jT=function(){function e(){Gt(this,e),this.overlays=new A_(_w.comparator),this.cr=new Map}return $t(e,[{key:"getOverlay",value:function(e,t){return Mw.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=bS();return Mw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),Mw.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.cr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.cr.delete(n)),Mw.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=bS(),i=t.length+1,a=new _w(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Mw.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new A_((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=bS(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=bS(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Mw.resolve(s)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.cr.get(r.largestBatchId).delete(n.key);this.cr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new lE(t,n));var a=this.cr.get(t);void 0===a&&(a=ES(),this.cr.set(t,a)),this.cr.set(t,a.add(n.key))}}]),e}(),FT=function(){function e(){Gt(this,e),this.lr=new R_(UT.hr),this.Pr=new R_(UT.Ir)}return $t(e,[{key:"isEmpty",value:function(){return this.lr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new UT(e,t);this.lr=this.lr.add(n),this.Pr=this.Pr.add(n)}},{key:"Tr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Er(new UT(e,t))}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ar",value:function(e){var t=this,n=new _w(new kw([])),r=new UT(n,e),i=new UT(n,e+1),a=[];return this.Pr.forEachInRange([r,i],(function(e){t.Er(e),a.push(e.key)})),a}},{key:"Rr",value:function(){var e=this;this.lr.forEach((function(t){return e.Er(t)}))}},{key:"Er",value:function(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}},{key:"Vr",value:function(e){var t=new _w(new kw([])),n=new UT(t,e),r=new UT(t,e+1),i=ES();return this.Pr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new UT(e,0),n=this.lr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),UT=function(){function e(t,n){Gt(this,e),this.key=t,this.mr=n}return $t(e,null,[{key:"hr",value:function(e,t){return _w.comparator(e.key,t.key)||dw(e.mr,t.mr)}},{key:"Ir",value:function(e,t){return dw(e.mr,t.mr)||_w.comparator(e.key,t.key)}}]),e}(),VT=function(){function e(t,n){Gt(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new R_(UT.hr)}return $t(e,[{key:"checkEmpty",value:function(e){return Mw.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new sE(i,t,n,r);this.mutationQueue.push(a);var o,u=on(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.pr=this.pr.add(new UT(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Mw.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Mw.resolve(this.yr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.wr(n),i=r<0?0:r;return Mw.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Mw.resolve(0===this.mutationQueue.length?-1:this.gr-1)}},{key:"getAllMutationBatches",value:function(e){return Mw.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new UT(t,0),i=new UT(t,Number.POSITIVE_INFINITY),a=[];return this.pr.forEachInRange([r,i],(function(e){var t=n.yr(e.mr);a.push(t)})),Mw.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new R_(dw);return t.forEach((function(e){var t=new UT(e,0),i=new UT(e,Number.POSITIVE_INFINITY);n.pr.forEachInRange([t,i],(function(e){r=r.add(e.mr)}))})),Mw.resolve(this.Sr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;_w.isDocumentKey(i)||(i=i.child(""));var a=new UT(new _w(i),0),o=new R_(dw);return this.pr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.mr)),!0)}),a),Mw.resolve(this.Sr(o))}},{key:"Sr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.yr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Jb(0===this.br(t.batchId,"removed")),this.mutationQueue.shift();var r=this.pr;return Mw.forEach(t.mutations,(function(i){var a=new UT(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.pr=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new UT(t,0),r=this.pr.firstAfterOrEqual(n);return Mw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Mw.resolve()}},{key:"br",value:function(e,t){return this.wr(e)}},{key:"wr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"yr",value:function(e){var t=this.wr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),zT=function(){function e(t){Gt(this,e),this.Dr=t,this.docs=new A_(_w.comparator),this.size=0}return $t(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Dr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Mw.resolve(n?n.document.mutableCopy():mx.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=yS();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():mx.newInvalidDocument(e))})),Mw.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=yS(),a=t.path,o=new _w(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Pw(Ow(l),n)<=0||(r.has(l.key)||lS(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Mw.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Xb()}},{key:"vr",value:function(e,t){return Mw.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new BT(this)}},{key:"getSize",value:function(e){return Mw.resolve(this.size)}}]),e}(),BT=function(e){Xt(n,e);var t=tn(n);function n(e){var r;return Gt(this,n),(r=t.call(this)).sr=e,r}return $t(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.sr.addEntry(e,i)):t.sr.removeEntry(r)})),Mw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.sr.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.sr.getEntries(e,t)}}]),n}(ET),qT=function(){function e(t){Gt(this,e),this.persistence=t,this.Cr=new pS((function(e){return Wx(e)}),Hx),this.lastRemoteSnapshotVersion=mw.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new FT,this.targetCount=0,this.Or=dT.xn()}return $t(e,[{key:"forEachTarget",value:function(e,t){return this.Cr.forEach((function(e,n){return t(n)})),Mw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Mw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Mw.resolve(this.Fr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Or.next(),Mw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fr&&(this.Fr=t),Mw.resolve()}},{key:"Ln",value:function(e){this.Cr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Or=new dT(t),this.highestTargetId=t),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ln(t),this.targetCount+=1,Mw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ln(t),Mw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cr.delete(t.target),this.Mr.Ar(t.targetId),this.targetCount-=1,Mw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Cr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Mw.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Mw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cr.get(t)||null;return Mw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Mr.Tr(t,n),Mw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Mr.dr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Mw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Mr.Ar(t),Mw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Mr.Vr(t);return Mw.resolve(n)}},{key:"containsKey",value:function(e,t){return Mw.resolve(this.Mr.containsKey(t))}}]),e}(),WT=function(){function e(t,n){var r=this;Gt(this,e),this.Nr={},this.overlays={},this.Br=new Qw(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new qT(this),this.indexManager=new $I,this.remoteDocumentCache=function(e){return new zT(e)}((function(e){return r.referenceDelegate.qr(e)})),this.serializer=new hI(n),this.Qr=new MT(this.serializer)}return $t(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Lr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Lr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new jT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Nr[e.toKey()];return n||(n=new VT(t,this.referenceDelegate),this.Nr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;Gb("MemoryPersistence","Starting transaction:",e);var i=new HT(this.Br.next());return this.referenceDelegate.Kr(),n(i).next((function(e){return r.referenceDelegate.$r(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ur",value:function(e,t){return Mw.or(Object.values(this.Nr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),HT=function(e){Xt(n,e);var t=tn(n);function n(e){var r;return Gt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return $t(n)}(Rw),KT=function(){function e(t){Gt(this,e),this.persistence=t,this.Wr=new FT,this.Gr=null}return $t(e,[{key:"jr",get:function(){if(this.Gr)return this.Gr;throw Xb()}},{key:"addReference",value:function(e,t,n){return this.Wr.addReference(n,t),this.jr.delete(n.toString()),Mw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Wr.removeReference(n,t),this.jr.add(n.toString()),Mw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.jr.add(t.toString()),Mw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Wr.Ar(t.targetId).forEach((function(e){return n.jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Kr",value:function(){this.Gr=new Set}},{key:"$r",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mw.forEach(this.jr,(function(r){var i=_w.fromPath(r);return t.Hr(e,i).next((function(e){e||n.removeEntry(i,mw.min())}))})).next((function(){return t.Gr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hr(e,t).next((function(e){e?n.jr.delete(t.toString()):n.jr.add(t.toString())}))}},{key:"qr",value:function(e){return 0}},{key:"Hr",value:function(e,t){var n=this;return Mw.or([function(){return Mw.resolve(n.Wr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ur(e,t)}])}}],[{key:"zr",value:function(t){return new e(t)}}]),e}(),GT=function(){function e(t){Gt(this,e),this.serializer=t}return $t(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new jw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",n_,{unique:!0}),e.createObjectStore("documentMutations")}(e),QT(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Mw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),QT(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",n_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Mw.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Yr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Zr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Xr(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ei(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ti(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:m_});t.createIndex("collectionPathOverlayIndex",g_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",k_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:o_});t.createIndex("documentKeyIndex",u_),t.createIndex("collectionGroupIndex",s_)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ri(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:d_}).createIndex("sequenceNumberIndex",p_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:v_}).createIndex("documentKeyIndex",y_,{unique:!1})}(e)}))),o}},{key:"Zr",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=uT(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Yr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return Mw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return Mw.forEach(r,(function(r){Jb(r.userId===n.userId);var i=mI(t.serializer,r);return oT(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Xr",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new kw(n),o=function(e){return[0,Jw(e)]}(a);r.push(t.get(o).next((function(n){return n?Mw.resolve():function(n){return t.put({targetId:0,path:Jw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Mw.waitFor(r)}))}))}},{key:"ei",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:h_});var n=t.store("collectionParents"),r=new YI,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Jw(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new kw(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=Wt(e,3),r=(n[0],n[1]),a=(n[2],t_(r));return i(a.popLast())}))}))}},{key:"ti",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=gI(r),a=kI(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new _w(kw.fromString(e.document.name).popFirst(5)):e.noDocument?_w.fromSegments(e.noDocument.path):e.unknownDocument?_w.fromSegments(e.unknownDocument.path):Xb()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Mw.waitFor(r)}))}},{key:"ri",value:function(e,t){var n=this,r=t.store("mutations"),i=TT(this.serializer),a=new WT(KT.zr,this.serializer.ct);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:ES();mI(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Mw.forEach(r,(function(e,r){var o=new qb(r),u=TI.lt(n.serializer,o),s=a.getIndexManager(o),c=sT.lt(o,n.serializer,s,a.referenceDelegate);return new LT(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new E_(t,Qw.ae),e).next()}))}))}}]),e}();function QT(e){e.createObjectStore("targetDocuments",{keyPath:l_}).createIndex("documentTargetsIndex",f_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",c_,{unique:!0}),e.createObjectStore("targetGlobal")}var $T="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",YT=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Gt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=u,this.si=c,this.oi=l,this._i=f,this.Br=null,this.Lr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ai=null,this.inForeground=!1,this.ui=null,this.ci=null,this.li=Number.NEGATIVE_INFINITY,this.hi=function(e){return Promise.resolve()},!e.v())throw new tw(ew.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xT(this,i),this.Pi=n+"main",this.serializer=new hI(s),this.Ii=new Fw(this.Pi,this._i,new GT(this.serializer)),this.kr=new pT(this.referenceDelegate,this.serializer),this.remoteDocumentCache=TT(this.serializer),this.Qr=new SI,this.window&&this.window.localStorage?this.Ti=this.window.localStorage:(this.Ti=null,!1===l&&Qb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return $t(e,[{key:"start",value:function(){var e=this;return this.Ei().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new tw(ew.FAILED_PRECONDITION,$T);return e.di(),e.Ai(),e.Ri(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.kr.getHighestSequenceNumber(t)}))})).then((function(t){e.Br=new Qw(t,e.si)})).then((function(){e.Lr=!0})).catch((function(t){return e.Ii&&e.Ii.close(),Promise.reject(t)}))}},{key:"Vi",value:function(e){var t=this;return this.hi=function(){var n=Nt(At().mark((function n(r){return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ii.k(function(){var t=Nt(At().mark((function t(n){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ei();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ei",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return JT(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.mi(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.hi(!1)})))}))})).next((function(){return e.fi(t)})).next((function(n){return e.isPrimary&&!n?e.gi(t).next((function(){return!1})):!!n&&e.pi(t).next((function(){return!0}))}))})).catch((function(t){if(zw(t))return Gb("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Gb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.hi(t)})),e.isPrimary=t}))}},{key:"mi",value:function(e){var t=this;return XT(e).get("owner").next((function(e){return Mw.resolve(t.yi(e))}))}},{key:"wi",value:function(e){return JT(e).delete(this.clientId)}},{key:"Si",value:function(){var e=Nt(At().mark((function e(){var t,n,r,i,a=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.bi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=I_(e,"clientMetadata");return t.G().next((function(e){var n=a.Di(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Mw.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ti){n=on(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ti.removeItem(this.vi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ri",value:function(){var e=this;this.ci=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ei().then((function(){return e.Si()})).then((function(){return e.Ri()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.oi?Mw.resolve(!0):XT(e).get("owner").next((function(n){if(null!==n&&t.bi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new tw(ew.FAILED_PRECONDITION,$T);return!1}}return!(!t.networkEnabled||!t.inForeground)||JT(e).G().next((function(e){return void 0===t.Di(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Gb("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Nt(At().mark((function e(){var t=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lr=!1,this.Fi(),this.ci&&(this.ci.cancel(),this.ci=null),this.Mi(),this.xi(),e.next=7,this.Ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new E_(e,Qw.ae);return t.gi(n).next((function(){return t.wi(n)}))}));case 7:this.Ii.close(),this.Oi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Di",value:function(e,t){var n=this;return e.filter((function(e){return n.bi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"Ni",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return JT(t).G().next((function(t){return e.Di(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Lr}},{key:"getMutationQueue",value:function(e,t){return sT.lt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new JI(e,this.serializer.ct.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return TI.lt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;Gb("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?S_:14===e?x_:13===e?__:12===e?w_:11===e?b_:void Xb()}(this._i);return this.Ii.runTransaction(e,a,o,(function(a){return i=new E_(a,r.Br?r.Br.next():Qw.ae),"readwrite-primary"===t?r.mi(i).next((function(e){return!!e||r.fi(i)})).next((function(t){if(!t)throw Qb("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.hi(!1)})),new tw(ew.FAILED_PRECONDITION,Nw);return n(i)})).next((function(e){return r.pi(i).next((function(){return e}))})):r.Bi(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Bi",value:function(e){var t=this;return XT(e).get("owner").next((function(e){if(null!==e&&t.bi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.yi(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new tw(ew.FAILED_PRECONDITION,$T)}))}},{key:"pi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return XT(e).put("owner",t)}},{key:"gi",value:function(e){var t=this,n=XT(e);return n.get("owner").next((function(e){return t.yi(e)?(Gb("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Mw.resolve()}))}},{key:"bi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Qb("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"di",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ui=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ei()}))},this.document.addEventListener("visibilitychange",this.ui),this.inForeground="visible"===this.document.visibilityState)}},{key:"Mi",value:function(){this.ui&&(this.document.removeEventListener("visibilitychange",this.ui),this.ui=null)}},{key:"Ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ai=function(){t.Fi();var e=/(?:Version|Mobile)\/1[456]/;!Zo()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ai))}},{key:"xi",value:function(){this.ai&&(this.window.removeEventListener("pagehide",this.ai),this.ai=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this.Ti)||void 0===t?void 0:t.getItem(this.vi(e)));return Gb("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Qb("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Fi",value:function(){if(this.Ti)try{this.Ti.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Qb("Failed to set zombie client id.",e)}}},{key:"Oi",value:function(){if(this.Ti)try{this.Ti.removeItem(this.vi(this.clientId))}catch(e){}}},{key:"vi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"v",value:function(){return Fw.v()}}]),e}();function XT(e){return I_(e,"owner")}function JT(e){return I_(e,"clientMetadata")}function ZT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var eC=function(){function e(t,n,r,i){Gt(this,e),this.targetId=t,this.fromCache=n,this.Li=r,this.ki=i}return $t(e,null,[{key:"qi",value:function(t,n){var r,i=ES(),a=ES(),o=on(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),tC=function(){function e(){Gt(this,e),this.Qi=!1}return $t(e,[{key:"initialize",value:function(e,t){this.Ki=e,this.indexManager=t,this.Qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.$i(e,t).next((function(a){return a||i.Ui(e,t,r,n)})).next((function(n){return n||i.Wi(e,t)}))}},{key:"$i",value:function(e,t){var n=this;if(Zx(t))return Mw.resolve(null);var r=iS(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=oS(t,null,"F"),r=iS(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=ES.apply(void 0,Kt(i));return n.Ki.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Gi(t,i);return n.zi(t,o,a,r.readTime)?n.$i(e,oS(t,null,"F")):n.ji(e,o,t,r)}))}))})))}))}},{key:"Ui",value:function(e,t,n,r){var i=this;return Zx(t)||r.isEqual(mw.min())?this.Wi(e,t):this.Ki.getDocuments(e,n).next((function(a){var o=i.Gi(t,a);return i.zi(t,o,n,r)?i.Wi(e,t):(Kb()<=xu.DEBUG&&Gb("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cS(t)),i.ji(e,o,t,Cw(r,-1)))}))}},{key:"Gi",value:function(e,t){var n=new R_(hS(e));return t.forEach((function(t,r){lS(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Wi",value:function(e,t){return Kb()<=xu.DEBUG&&Gb("QueryEngine","Using full collection scan to execute query:",cS(t)),this.Ki.getDocumentsMatchingQuery(e,t,Aw.min())}},{key:"ji",value:function(e,t,n,r){return this.Ki.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),nC=function(){function e(t,n,r,i){Gt(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new A_(dw),this.Yi=new pS((function(e){return Wx(e)}),Hx),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(r)}return $t(e,[{key:"es",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LT(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function rC(e,t,n,r){return new nC(e,t,n,r)}function iC(e,t){return aC.apply(this,arguments)}function aC(){return aC=Nt(At().mark((function e(t,n){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zb(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.es(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=ES(),s=on(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=on(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=on(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=on(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ts:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),aC.apply(this,arguments)}function oC(e,t){var n=Zb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Mw.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Jb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=ES(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function uC(e){var t=Zb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.kr.getLastRemoteSnapshotVersion(e)}))}function sC(e,t){var n=Zb(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.kr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.kr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(F_.EMPTY_BYTE_STRING,mw.min()).withLastLimboFreeSnapshotVersion(mw.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.kr.updateTargetData(e,c))}}));var u=yS(),s=ES();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(cC(e,a,t.documentUpdates).next((function(e){u=e.ns,s=e.rs}))),!r.isEqual(mw.min())){var c=n.kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Mw.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function cC(e,t,n){var r=ES(),i=ES();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=yS();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(mw.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Gb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ns:r,rs:i}}))}function lC(e,t){var n=Zb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function fC(e,t){var n=Zb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.kr.getTargetData(e,t).next((function(i){return i?(r=i,Mw.resolve(r)):n.kr.allocateTargetId(e).next((function(i){return r=new fI(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function hC(e,t,n){return dC.apply(this,arguments)}function dC(){return dC=Nt(At().mark((function e(t,n,r){var i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Zb(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),zw(e.t1)){e.next=12;break}throw e.t1;case 12:Gb("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),dC.apply(this,arguments)}function pC(e,t,n){var r=Zb(e),i=mw.min(),a=ES();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Zb(e),i=r.Yi.get(n);return void 0!==i?Mw.resolve(r.Ji.get(i)):r.kr.getTargetData(t,n)}(r,e,iS(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:mw.min(),n?a:ES())})).next((function(e){return mC(r,fS(t),e),{documents:e,ss:a}}))}))}function vC(e,t){var n=Zb(e),r=Zb(n.kr),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ut(e,t).next((function(e){return e?e.target:null}))}))}function yC(e,t){var n=Zb(e),r=n.Zi.get(t)||mw.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Xi.getAllFromCollectionGroup(e,t,Cw(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return mC(n,t,e),e}))}function mC(e,t,n){var r=e.Zi.get(t)||mw.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Zi.set(t,r)}function gC(e,t,n,r){return kC.apply(this,arguments)}function kC(){return kC=Nt(At().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Zb(t),o=ES(),u=yS(),s=on(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.os(l.metadata.name),l.document&&(o=o.add(f)),(h=n._s(l)).setReadTime(n.us(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Xi.newChangeBuffer({trackRemovals:!0}),e.next=7,fC(a,function(e){return iS(Jx(kw.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return cC(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.kr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.kr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ns,t.rs)})).next((function(){return t.ns}))}))})));case 9:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function bC(e,t){return wC.apply(this,arguments)}function wC(){return wC=Nt(At().mark((function e(t,n){var r,i,a,o=arguments;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ES(),e.next=3,fC(t,iS(bI(n.bundledQuery)));case 3:return i=e.sent,a=Zb(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=UE(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Qr.saveNamedQuery(e,n);var o=i.withResumeToken(F_.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.kr.updateTargetData(e,o).next((function(){return a.kr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.kr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Qr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),wC.apply(this,arguments)}function _C(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function xC(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function SC(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var EC=function(){function e(t,n,r,i){Gt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return $t(e,[{key:"ls",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new tw(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Qb("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),IC=function(){function e(t,n,r){Gt(this,e),this.targetId=t,this.state=n,this.error=r}return $t(e,[{key:"ls",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new tw(i.error.code,i.error.message))),a?new e(t,i.state,r):(Qb("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),TC=function(){function e(t,n){Gt(this,e),this.clientId=t,this.activeTargetIds=n}return $t(e,null,[{key:"cs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=TS(),o=0;i&&o<r.activeTargetIds.length;++o)i=Xw(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Qb("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),CC=function(){function e(t,n){Gt(this,e),this.clientId=t,this.onlineState=n}return $t(e,null,[{key:"cs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Qb("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),OC=function(){function e(){Gt(this,e),this.activeTargetIds=TS()}return $t(e,[{key:"hs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ps",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ls",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),AC=function(){function e(t,n,r,i,a){Gt(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.Is=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ts=this.Es.bind(this),this.ds=new A_(dw),this.started=!1,this.As=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Rs=_C(this.persistenceKey,this.Is),this.Vs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ds=this.ds.insert(this.Is,new OC),this.fs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.gs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.ps=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.ys=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.ws=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Ts)}return $t(e,[{key:"start",value:function(){var e=Nt(At().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ni();case 2:t=e.sent,n=on(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Is){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(_C(this.persistenceKey,i)))&&(o=TC.cs(i,a))&&(this.ds=this.ds.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ss(),(u=this.storage.getItem(this.ys))&&(s=this.bs(u))&&this.Ds(s),c=on(this.As);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Es(f)}catch(d){c.e(d)}finally{c.f()}this.As=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Vs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.vs(this.ds)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ds.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Cs(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Cs(e,t,n),this.Fs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(SC(this.persistenceKey,e));if(n){var r=IC.cs(e,n);r&&(t=r.state)}}return this.Ms.hs(e),this.Ss(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ms.Ps(e),this.Ss()}},{key:"isLocalQueryTarget",value:function(e){return this.Ms.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(SC(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.xs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Fs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Os(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ns(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Ts),this.removeItem(this.Rs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Gb("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Gb("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Gb("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Es",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Gb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Rs)return void Qb("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(Nt(At().mark((function e(){var r,i,a,o,u,s,c;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.fs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Bs(n.key),e.abrupt("return",t.Ls(r,null));case 6:if(!(i=t.ks(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Ls(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.gs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.qs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Qs(a));case 16:e.next=41;break;case 18:if(!t.ps.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ks(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.$s(o));case 23:e.next=41;break;case 25:if(n.key!==t.ys){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.bs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ds(u));case 30:e.next=41;break;case 32:if(n.key!==t.Vs){e.next=37;break}s=function(e){var t=Qw.ae;if(null!=e)try{var n=JSON.parse(e);Jb("number"==typeof n),t=n}catch(e){Qb("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Qw.ae&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.ws){e.next=41;break}return c=t.Us(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Ws(e)})));case 41:e.next=44;break;case 43:t.As.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ms",get:function(){return this.ds.get(this.Is)}},{key:"Ss",value:function(){this.setItem(this.Rs,this.Ms.ls())}},{key:"Cs",value:function(e,t,n){var r=new EC(this.currentUser,e,t,n),i=xC(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ls())}},{key:"Fs",value:function(e){var t=xC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Os",value:function(e){var t={clientId:this.Is,onlineState:e};this.storage.setItem(this.ys,JSON.stringify(t))}},{key:"xs",value:function(e,t,n){var r=SC(this.persistenceKey,e),i=new IC(e,t,n);this.setItem(r,i.ls())}},{key:"Ns",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.ws,t)}},{key:"Bs",value:function(e){var t=this.fs.exec(e);return t?t[1]:null}},{key:"ks",value:function(e,t){var n=this.Bs(e);return TC.cs(n,t)}},{key:"qs",value:function(e,t){var n=this.gs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return EC.cs(new qb(i),r,t)}},{key:"Ks",value:function(e,t){var n=this.ps.exec(e),r=Number(n[1]);return IC.cs(r,t)}},{key:"bs",value:function(e){return CC.cs(e)}},{key:"Us",value:function(e){return JSON.parse(e)}},{key:"Qs",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Gs(t.batchId,t.state,t.error));case 2:Gb("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"$s",value:function(e){return this.syncEngine.zs(e.targetId,e.state,e.error)}},{key:"Ls",value:function(e,t){var n=this,r=t?this.ds.insert(e,t):this.ds.remove(e),i=this.vs(this.ds),a=this.vs(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.js(o,u).then((function(){n.ds=r}))}},{key:"Ds",value:function(e){this.ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"vs",value:function(e){var t=TS();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"v",value:function(e){return!(!e||!e.localStorage)}}]),e}(),PC=function(){function e(){Gt(this,e),this.Hs=new OC,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return $t(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hs.hs(e),this.Js[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Js[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hs.Ps(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Js[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hs.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hs=new OC,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),NC=function(){function e(){Gt(this,e)}return $t(e,[{key:"Ys",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),RC=function(){function e(){var t=this;Gt(this,e),this.Zs=function(){return t.Xs()},this.eo=function(){return t.no()},this.ro=[],this.io()}return $t(e,[{key:"Ys",value:function(e){this.ro.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}},{key:"Xs",value:function(){Gb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=on(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){Gb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=on(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),DC=null;function LC(){return null===DC?DC=268435456+Math.round(2147483648*Math.random()):DC++,"0x"+DC.toString(16)}var MC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},jC=function(){function e(t){Gt(this,e),this.so=t.so,this.oo=t.oo}return $t(e,[{key:"_o",value:function(e){this.ao=e}},{key:"uo",value:function(e){this.co=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.so(e)}},{key:"ho",value:function(){this.ao()}},{key:"Po",value:function(e){this.co(e)}},{key:"Io",value:function(e){this.lo(e)}}]),e}(),FC="WebChannelConnection",UC=function(e){Xt(n,e);var t=tn(n);function n(e){var r;return Gt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return $t(n,[{key:"po",value:function(e,t,n,r){var i=LC();return new Promise((function(a,o){var u=new Ub;u.setWithCredentials(!0),u.listenOnce(Db.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Rb.NO_ERROR:var t=u.getResponseJson();Gb(FC,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Rb.TIMEOUT:Gb(FC,"RPC '".concat(e,"' ").concat(i," timed out")),o(new tw(ew.DEADLINE_EXCEEDED,"Request time out"));break;case Rb.HTTP_ERROR:var n=u.getStatus();if(Gb(FC,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ew).indexOf(t)>=0?t:ew.UNKNOWN}(s.status);o(new tw(c,s.message))}else o(new tw(ew.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new tw(ew.UNAVAILABLE,"Connection failed."));break;default:Xb()}}finally{Gb(FC,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);Gb(FC,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=LC(),i=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Pb(),o=Nb(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new jb({})),this.fo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");Gb(FC,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new jC({so:function(t){h?Gb(FC,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Gb(FC,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Gb(FC,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Fb.EventType.OPEN,(function(){h||Gb(FC,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Fb.EventType.CLOSE,(function(){h||(h=!0,Gb(FC,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Po())})),p(l,Fb.EventType.ERROR,(function(t){h||(h=!0,$b(FC,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Po(new tw(ew.UNAVAILABLE,"The operation could not be completed")))})),p(l,Fb.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Jb(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Gb(FC,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=iE[e];if(void 0!==t)return dE(t)}(u),c=o.message;void 0===s&&(s=ew.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.Po(new tw(s,c)),l.close()}else Gb(FC,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Io(i)}})),p(o,Lb.STAT_EVENT,(function(t){t.stat===Mb.PROXY?Gb(FC,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Mb.NOPROXY&&Gb(FC,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.ho()}),0),d}}]),n}(function(){function e(t){Gt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.To=n+"://"+t.host,this.Eo="projects/".concat(r,"/databases/").concat(i),this.Ao="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return $t(e,[{key:"Ro",get:function(){return!1}},{key:"Vo",value:function(e,t,n,r,i){var a=LC(),o=this.mo(e,t);Gb("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(u,r,i),this.po(e,o,u,n).then((function(t){return Gb("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw $b("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"yo",value:function(e,t,n,r,i,a){return this.Vo(e,t,n,r,i)}},{key:"fo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"mo",value:function(e,t){var n=MC[e];return"".concat(this.To,"/v1/").concat(t,":").concat(n)}}]),e}());function VC(){return"undefined"!=typeof window?window:null}function zC(){return"undefined"!=typeof document?document:null}function BC(e){return new DE(e,!0)}var qC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Gt(this,e),this.ii=t,this.timerId=n,this.So=r,this.bo=i,this.Do=a,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}return $t(e,[{key:"reset",value:function(){this.vo=0}},{key:"Mo",value:function(){this.vo=this.Do}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&Gb("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Fo=Date.now(),e()})),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}},{key:"No",value:function(){null!==this.Co&&(this.Co.skipDelay(),this.Co=null)}},{key:"cancel",value:function(){null!==this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"Oo",value:function(){return(Math.random()-.5)*this.vo}}]),e}(),WC=function(){function e(t,n,r,i,a,o,u,s){Gt(this,e),this.ii=t,this.Bo=r,this.Lo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new qC(t,n)}return $t(e,[{key:"$o",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Wo()}},{key:"stop",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.$o(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Ko.reset()}},{key:"zo",value:function(){var e=this;this.Uo()&&null===this.qo&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,(function(){return e.jo()})))}},{key:"Ho",value:function(e){this.Jo(),this.stream.send(e)}},{key:"jo",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){this.qo&&(this.qo.cancel(),this.qo=null)}},{key:"Yo",value:function(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}},{key:"close",value:function(){var e=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,4!==t?this.Ko.reset():n&&n.code===ew.RESOURCE_EXHAUSTED?(Qb(n.toString()),Qb("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===ew.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.uo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Wt(t,2),i=r[0],a=r[1];e.ko===n&&e.e_(i,a)}),(function(n){t((function(){var t=new tw(ew.UNKNOWN,"Fetching auth token failed: "+n.message);return e.t_(t)}))}))}},{key:"e_",value:function(e,t){var n=this,r=this.Xo(this.ko);this.stream=this.n_(e,t),this.stream._o((function(){r((function(){return n.state=2,n.Qo=n.ii.enqueueAfterDelay(n.Lo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener._o()}))})),this.stream.uo((function(e){r((function(){return n.t_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Wo",value:function(){var e=this;this.state=5,this.Ko.xo(Nt(At().mark((function t(){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"t_",value:function(e){return Gb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.ko===e?n():(Gb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),HC=function(e){Xt(n,e);var t=tn(n);function n(e,r,i,a,o,u){var s;return Gt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return $t(n,[{key:"n_",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Xb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Jb(void 0===t||"string"==typeof t),F_.fromBase64String(t||"")):(Jb(void 0===t||t instanceof Uint8Array),F_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?ew.UNKNOWN:dE(e.code);return new tw(t,e.message||"")}(o);n=new IE(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=qE(e,s.document.name),l=UE(s.document.updateTime),f=s.document.createTime?UE(s.document.createTime):mw.min(),h=new vx({mapValue:{fields:s.document.fields}}),d=mx.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new SE(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=qE(e,y.document),g=y.readTime?UE(y.readTime):mw.min(),k=mx.newNoDocument(m,g),b=y.removedTargetIds||[];n=new SE([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=qE(e,w.document),x=w.removedTargetIds||[];n=new SE([],x,_,null)}else{if(!("filter"in t))return Xb();t.filter;var S=t.filter;S.targetId;var E=S.count,I=void 0===E?0:E,T=S.unchangedNames,C=new fE(I,T),O=S.targetId;n=new EE(O,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return mw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?mw.min():t.readTime?UE(t.readTime):mw.min()}(e);return this.listener.r_(t,n)}},{key:"i_",value:function(e){var t={};t.database=KE(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Kx(r)?{documents:ZE(e,r)}:{query:eI(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=jE(e,t.resumeToken);var i=LE(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(mw.min())>0){n.readTime=ME(e,t.snapshotVersion.toTimestamp());var a=LE(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xb()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Ho(t)}},{key:"s_",value:function(e){var t={};t.database=KE(this.serializer),t.removeTarget=e,this.Ho(t)}}]),n}(WC),KC=function(e){Xt(n,e);var t=tn(n);function n(e,r,i,a,o,u){var s;return Gt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.o_=!1,s}return $t(n,[{key:"__",get:function(){return this.o_}},{key:"start",value:function(){this.o_=!1,this.lastStreamToken=void 0,Gs(Jt(n.prototype),"start",this).call(this)}},{key:"Zo",value:function(){this.o_&&this.a_([])}},{key:"n_",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Jb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();var t=function(e,t){return e&&e.length>0?(Jb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?UE(e.updateTime):UE(t);return n.isEqual(mw.min())&&(n=UE(t)),new WS(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=UE(e.commitTime);return this.listener.u_(n,t)}return Jb(!e.writeResults||0===e.writeResults.length),this.o_=!0,this.listener.c_()}},{key:"l_",value:function(){var e={};e.database=KE(this.serializer),this.Ho(e)}},{key:"a_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return XE(t.serializer,e)}))};this.Ho(n)}}]),n}(WC),GC=function(e){Xt(n,e);var t=tn(n);function n(e,r,i,a){var o;return Gt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.h_=!1,o}return $t(n,[{key:"P_",value:function(){if(this.h_)throw new tw(ew.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Vo",value:function(e,t,n){var r=this;return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Wt(i,2),o=a[0],u=a[1];return r.connection.Vo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ew.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new tw(ew.UNKNOWN,e.toString())}))}},{key:"yo",value:function(e,t,n,r){var i=this;return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=Wt(a,2),u=o[0],s=o[1];return i.connection.yo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ew.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new tw(ew.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.h_=!0}}]),n}($t((function e(){Gt(this,e)})));var QC=function(){function e(t,n){Gt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}return $t(e,[{key:"A_",value:function(){var e=this;0===this.T_&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.E_=null,e.V_("Backend didn't respond within 10 seconds."),e.R_("Offline"),Promise.resolve()})))}},{key:"m_",value:function(e){"Online"===this.state?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.R_("Offline")))}},{key:"set",value:function(e){this.f_(),this.T_=0,"Online"===e&&(this.d_=!1),this.R_(e)}},{key:"R_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"V_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.d_?(Qb(t),this.d_=!1):Gb("OnlineStateTracker",t)}},{key:"f_",value:function(){null!==this.E_&&(this.E_.cancel(),this.E_=null)}}]),e}(),$C=$t((function e(t,n,r,i,a){var o=this;Gt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=a,this.S_.Ys((function(e){r.enqueueAndForget(Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=oO(o),!e.t0){e.next=5;break}return Gb("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Zb(t)).y_.add(4),e.next=4,JC(n);case 4:return n.b_.set("Unknown"),n.y_.delete(4),e.next=8,YC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.b_=new QC(r,i)}));function YC(e){return XC.apply(this,arguments)}function XC(){return(XC=Nt(At().mark((function e(t){var n,r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oO(t)){e.next=18;break}n=on(t.w_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function JC(e){return ZC.apply(this,arguments)}function ZC(){return(ZC=Nt(At().mark((function e(t){var n,r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=on(t.w_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function eO(e,t){var n=Zb(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),aO(n)?iO(n):LO(n).Uo()&&nO(n,t))}function tO(e,t){var n=Zb(e),r=LO(n);n.p_.delete(t),r.Uo()&&rO(n,t),0===n.p_.size&&(r.Uo()?r.zo():oO(n)&&n.b_.set("Unknown"))}function nO(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mw.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}LO(e).i_(t)}function rO(e,t){e.D_.Be(t),LO(e).s_(t)}function iO(e){e.D_=new CE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ut:function(t){return e.p_.get(t)||null},rt:function(){return e.datastore.serializer.databaseId}}),LO(e).start(),e.b_.A_()}function aO(e){return oO(e)&&!LO(e).$o()&&e.p_.size>0}function oO(e){return 0===Zb(e).y_.size}function uO(e){e.D_=void 0}function sO(e){return cO.apply(this,arguments)}function cO(){return(cO=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.p_.forEach((function(e,n){nO(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lO(e,t){return fO.apply(this,arguments)}function fO(){return(fO=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uO(t),aO(t)?(t.b_.m_(n),iO(t)):t.b_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hO(e,t,n){return dO.apply(this,arguments)}function dO(){return dO=Nt(At().mark((function e(t,n,r){var i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.b_.set("Online"),!(n instanceof IE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Nt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=on(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.p_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.p_.delete(o),t.D_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Gb("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,pO(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof SE?t.D_.We(n):n instanceof EE?t.D_.Ze(n):t.D_.je(n),r.isEqual(mw.min())){e.next=29;break}return e.prev=14,e.next=17,uC(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.D_.st(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.p_.get(r);i&&e.p_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.p_.get(t);if(r){e.p_.set(t,r.withResumeToken(F_.EMPTY_BYTE_STRING,r.snapshotVersion)),rO(e,t);var i=new fI(r.target,t,n,r.sequenceNumber);nO(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Gb("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,pO(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),dO.apply(this,arguments)}function pO(e,t,n){return vO.apply(this,arguments)}function vO(){return vO=Nt(At().mark((function e(t,n,r){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zw(n)){e.next=2;break}throw n;case 2:return t.y_.add(1),e.next=5,JC(t);case 5:t.b_.set("Offline"),r||(r=function(){return uC(t.localStore)}),t.asyncQueue.enqueueRetryable(Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gb("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.y_.delete(1),e.next=6,YC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),vO.apply(this,arguments)}function yO(e,t){return t().catch((function(n){return pO(e,n,t)}))}function mO(e){return gO.apply(this,arguments)}function gO(){return gO=Nt(At().mark((function e(t){var n,r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Zb(t),r=MO(n),i=n.g_.length>0?n.g_[n.g_.length-1].batchId:-1;case 2:if(!kO(n)){e.next=19;break}return e.prev=3,e.next=6,lC(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.g_.length&&r.zo(),e.abrupt("break",19);case 10:i=a.batchId,bO(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,pO(n,e.t0);case 17:e.next=2;break;case 19:wO(n)&&_O(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),gO.apply(this,arguments)}function kO(e){return oO(e)&&e.g_.length<10}function bO(e,t){e.g_.push(t);var n=MO(e);n.Uo()&&n.__&&n.a_(t.mutations)}function wO(e){return oO(e)&&!MO(e).$o()&&e.g_.length>0}function _O(e){MO(e).start()}function xO(e){return SO.apply(this,arguments)}function SO(){return(SO=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:MO(t).l_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EO(e){return IO.apply(this,arguments)}function IO(){return IO=Nt(At().mark((function e(t){var n,r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=MO(t),r=on(t.g_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.a_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),IO.apply(this,arguments)}function TO(e,t,n){return CO.apply(this,arguments)}function CO(){return CO=Nt(At().mark((function e(t,n,r){var i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.g_.shift(),a=cE.from(i,n,r),e.next=3,yO(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,mO(t);case 5:case"end":return e.stop()}}),e)}))),CO.apply(this,arguments)}function OO(e,t){return AO.apply(this,arguments)}function AO(){return AO=Nt(At().mark((function e(t,n){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&MO(t).__,!e.t0){e.next=4;break}return e.next=4,function(){var e=Nt(At().mark((function e(t,n){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return hE(e)&&e!==ew.ABORTED}(n.code)){e.next=7;break}return r=t.g_.shift(),MO(t).Go(),e.next=5,yO(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,mO(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:wO(t)&&_O(t);case 5:case"end":return e.stop()}}),e)}))),AO.apply(this,arguments)}function PO(e,t){return NO.apply(this,arguments)}function NO(){return NO=Nt(At().mark((function e(t,n){var r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Zb(t)).asyncQueue.verifyOperationInProgress(),Gb("RemoteStore","RemoteStore received new credentials"),i=oO(r),r.y_.add(3),e.next=6,JC(r);case 6:return i&&r.b_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.y_.delete(3),e.next=12,YC(r);case 12:case"end":return e.stop()}}),e)}))),NO.apply(this,arguments)}function RO(e,t){return DO.apply(this,arguments)}function DO(){return DO=Nt(At().mark((function e(t,n){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zb(t),!n){e.next=7;break}return r.y_.delete(2),e.next=5,YC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.y_.add(2),e.next=12,JC(r);case 12:r.b_.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),DO.apply(this,arguments)}function LO(e){return e.v_||(e.v_=function(e,t,n){var r=Zb(e);return r.P_(),new HC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:sO.bind(null,e),uo:lO.bind(null,e),r_:hO.bind(null,e)}),e.w_.push(function(){var t=Nt(At().mark((function t(n){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.v_.Go(),aO(e)?iO(e):e.b_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.v_.stop();case 6:uO(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.v_}function MO(e){return e.C_||(e.C_=function(e,t,n){var r=Zb(e);return r.P_(),new KC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:xO.bind(null,e),uo:OO.bind(null,e),c_:EO.bind(null,e),u_:TO.bind(null,e)}),e.w_.push(function(){var t=Nt(At().mark((function t(n){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.C_.Go(),t.next=4,mO(e);case 4:t.next=9;break;case 6:return t.next=8,e.C_.stop();case 8:e.g_.length>0&&(Gb("RemoteStore","Stopping write stream with ".concat(e.g_.length," pending writes")),e.g_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.C_}var jO=function(){function e(t,n,r,i,a){Gt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new nw,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return $t(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tw(ew.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function FO(e,t){if(Qb("AsyncQueue","".concat(t,": ").concat(e)),zw(e))return new tw(ew.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var UO=function(){function e(t){Gt(this,e),this.comparator=t?function(e,n){return t(e,n)||_w.comparator(e.key,n.key)}:function(e,t){return _w.comparator(e.key,t.key)},this.keyedMap=gS(),this.sortedSet=new A_(this.comparator)}return $t(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),VO=function(){function e(){Gt(this,e),this.F_=new A_(_w.comparator)}return $t(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.F_.get(t);n?0!==e.type&&3===n.type?this.F_=this.F_.insert(t,e):3===e.type&&1!==n.type?this.F_=this.F_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.F_=this.F_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.F_=this.F_.remove(t):1===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):Xb():this.F_=this.F_.insert(t,e)}},{key:"M_",value:function(){var e=[];return this.F_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),zO=function(){function e(t,n,r,i,a,o,u,s,c){Gt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return $t(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,UO.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),BO=$t((function e(){Gt(this,e),this.x_=void 0,this.listeners=[]})),qO=$t((function e(){Gt(this,e),this.queries=new pS((function(e){return sS(e)}),uS),this.onlineState="Unknown",this.O_=new Set}));function WO(e,t){return HO.apply(this,arguments)}function HO(){return HO=Nt(At().mark((function e(t,n){var r,i,a,o,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zb(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new BO),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.x_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=FO(e.t0,"Initialization of query '".concat(cS(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.N_(r.onlineState),o.x_&&n.B_(o.x_)&&YO(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),HO.apply(this,arguments)}function KO(e,t){return GO.apply(this,arguments)}function GO(){return GO=Nt(At().mark((function e(t,n){var r,i,a,o,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zb(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),GO.apply(this,arguments)}function QO(e,t){var n,r=Zb(e),i=!1,a=on(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=on(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.B_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.x_=o}}}catch(f){a.e(f)}finally{a.f()}i&&YO(r)}function $O(e,t,n){var r=Zb(e),i=r.queries.get(t);if(i){var a,o=on(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function YO(e){e.O_.forEach((function(e){e.next()}))}var XO=function(){function e(t,n,r){Gt(this,e),this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}return $t(e,[{key:"B_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=on(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new zO(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),a=!0):this.K_(e,this.onlineState)&&(this.U_(e),a=!0),this.q_=e,a}},{key:"onError",value:function(e){this.L_.error(e)}},{key:"N_",value:function(e){this.onlineState=e;var t=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),t=!0),t}},{key:"K_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.W_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Q_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"U_",value:function(e){e=zO.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}]),e}(),JO=function(){function e(t,n){Gt(this,e),this.G_=t,this.byteLength=n}return $t(e,[{key:"z_",value:function(){return"metadata"in this.G_}}]),e}(),ZO=function(){function e(t){Gt(this,e),this.serializer=t}return $t(e,[{key:"os",value:function(e){return qE(this.serializer,e)}},{key:"_s",value:function(e){return e.metadata.exists?$E(this.serializer,e.document,!1):mx.newNoDocument(this.os(e.metadata.name),this.us(e.metadata.readTime))}},{key:"us",value:function(e){return UE(e)}}]),e}(),eA=function(){function e(t,n,r){Gt(this,e),this.j_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tA(t)}return $t(e,[{key:"H_",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.G_.namedQuery)this.queries.push(e.G_.namedQuery);else if(e.G_.documentMetadata){this.documents.push({metadata:e.G_.documentMetadata}),e.G_.documentMetadata.exists||++t;var n=kw.fromString(e.G_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.G_.document&&(this.documents[this.documents.length-1].document=e.G_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"J_",value:function(e){var t,n=new Map,r=new ZO(this.serializer),i=on(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.os(a.metadata.name),s=on(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||ES()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Nt(At().mark((function e(){var t,n,r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gC(this.localStore,new ZO(this.serializer),this.documents,this.j_.id);case 2:t=e.sent,n=this.J_(this.documents),r=on(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,bC(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Y_:this.collectionGroups,Z_:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function tA(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var nA=$t((function e(t){Gt(this,e),this.key=t})),rA=$t((function e(t){Gt(this,e),this.key=t})),iA=function(){function e(t,n){Gt(this,e),this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=ES(),this.mutatedKeys=ES(),this.na=hS(t),this.ra=new UO(this.na)}return $t(e,[{key:"ia",get:function(){return this.X_}},{key:"sa",value:function(e,t){var n=this,r=t?t.oa:new VO,i=t?t.ra:this.ra,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=lS(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n._a(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.na(f,s)>0||c&&n.na(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ra:o,oa:r,zi:u,mutatedKeys:a}}},{key:"_a",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;var a=e.oa.M_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xb()}};return n(e)-n(t)}(e.type,t.type)||r.na(e.doc,t.doc)})),this.aa(n);var o=t?this.ua():[],u=0===this.ta.size&&this.current?1:0,s=u!==this.ea;return this.ea=u,0!==a.length||s?{snapshot:new zO(this.query,e.ra,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}},{key:"N_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ra:this.ra,oa:new VO,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}},{key:"la",value:function(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}},{key:"aa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.X_=t.X_.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.X_=t.X_.delete(e)})),this.current=e.current)}},{key:"ua",value:function(){var e=this;if(!this.current)return[];var t=this.ta;this.ta=ES(),this.ra.forEach((function(t){e.la(t.key)&&(e.ta=e.ta.add(t.key))}));var n=[];return t.forEach((function(t){e.ta.has(t)||n.push(new rA(t))})),this.ta.forEach((function(e){t.has(e)||n.push(new nA(e))})),n}},{key:"ha",value:function(e){this.X_=e.ss,this.ta=ES();var t=this.sa(e.documents);return this.applyChanges(t,!0)}},{key:"Pa",value:function(){return zO.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,0===this.ea,this.hasCachedResults)}}]),e}(),aA=$t((function e(t,n,r){Gt(this,e),this.query=t,this.targetId=n,this.view=r})),oA=$t((function e(t){Gt(this,e),this.key=t,this.Ia=!1})),uA=function(){function e(t,n,r,i,a,o){Gt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new pS((function(e){return sS(e)}),uS),this.da=new Map,this.Aa=new Set,this.Ra=new A_(_w.comparator),this.Va=new Map,this.ma=new FT,this.fa={},this.ga=new Map,this.pa=dT.On(),this.onlineState="Unknown",this.ya=void 0}return $t(e,[{key:"isPrimaryClient",get:function(){return!0===this.ya}}]),e}();function sA(e,t){return cA.apply(this,arguments)}function cA(){return cA=Nt(At().mark((function e(t,n){var r,i,a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tP(t),!(o=r.Ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Pa(),e.next=15;break;case 6:return e.next=8,fC(r.localStore,iS(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,lA(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&eO(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e,t,n,r,i){return fA.apply(this,arguments)}function fA(){return fA=Nt(At().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.wa=function(e,n,r){return function(){var e=Nt(At().mark((function e(t,n,r,i){var a,o,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sa(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,pC(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sa(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(PA(t,n.targetId,u.ca),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,pC(t.localStore,n,!0);case 3:return o=e.sent,u=new iA(n,o.ss),s=u.sa(o.documents),c=xE.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),PA(t,r,l.ca),f=new aA(n,r,u),e.abrupt("return",(t.Ea.set(n,f),t.da.has(r)?t.da.get(r).push(n):t.da.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(e,t){return dA.apply(this,arguments)}function dA(){return dA=Nt(At().mark((function e(t,n){var r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zb(t),i=r.Ea.get(n),!((a=r.da.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.da.set(i.targetId,a.filter((function(e){return!uS(e,n)}))),void r.Ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,hC(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),tO(r.remoteStore,i.targetId),OA(r,i.targetId)})).catch(Dw);case 9:e.next=14;break;case 11:return OA(r,i.targetId),e.next=14,hC(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}function pA(e,t,n){return vA.apply(this,arguments)}function vA(){return vA=Nt(At().mark((function e(t,n,r){var i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nP(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Zb(e),a=yw.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ES());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=yS(),s=ES();return i.Xi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=on(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=XS(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new eE(c.key,l,yx(l.value.mapValue),HS.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:kS(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fa[e.currentUser.toKey()];r||(r=new A_(dw)),r=r.insert(t,n),e.fa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,DA(i,a.changes);case 9:return e.next=11,mO(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=FO(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),vA.apply(this,arguments)}function yA(e,t){return mA.apply(this,arguments)}function mA(){return mA=Nt(At().mark((function e(t,n){var r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zb(t),e.prev=1,e.next=4,sC(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Va.get(t);n&&(Jb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ia=!0:e.modifiedDocuments.size>0?Jb(n.Ia):e.removedDocuments.size>0&&(Jb(n.Ia),n.Ia=!1))})),e.next=8,DA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Dw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),mA.apply(this,arguments)}function gA(e,t,n){var r=Zb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ea.forEach((function(e,n){var r=n.view.N_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Zb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=on(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.N_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&YO(n)}(r.eventManager,t),i.length&&r.Ta.r_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function kA(e,t,n){return bA.apply(this,arguments)}function bA(){return bA=Nt(At().mark((function e(t,n,r){var i,a,o,u,s,c;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Zb(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Va.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new A_(_w.comparator)).insert(o,mx.newNoDocument(o,mw.min())),s=ES().add(o),c=new _E(mw.min(),new Map,new A_(dw),u,s),e.next=9,yA(i,c);case 9:i.Ra=i.Ra.remove(o),i.Va.delete(n),RA(i),e.next=16;break;case 14:return e.next=16,hC(i.localStore,n,!1).then((function(){return OA(i,n,r)})).catch(Dw);case 16:case"end":return e.stop()}}),e)}))),bA.apply(this,arguments)}function wA(e,t){return _A.apply(this,arguments)}function _A(){return _A=Nt(At().mark((function e(t,n){var r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zb(t),i=n.batch.batchId,e.prev=1,e.next=4,oC(r.localStore,n);case 4:return a=e.sent,CA(r,i,null),TA(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,DA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Dw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),_A.apply(this,arguments)}function xA(e,t,n){return SA.apply(this,arguments)}function SA(){return SA=Nt(At().mark((function e(t,n,r){var i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zb(t),e.prev=1,e.next=4,function(e,t){var n=Zb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Jb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,CA(i,n,r),TA(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,DA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Dw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),SA.apply(this,arguments)}function EA(e,t){return IA.apply(this,arguments)}function IA(){return IA=Nt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oO((r=Zb(t)).remoteStore)||Gb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Zb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ga.get(i)||[]).push(n),r.ga.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=FO(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),IA.apply(this,arguments)}function TA(e,t){(e.ga.get(t)||[]).forEach((function(e){e.resolve()})),e.ga.delete(t)}function CA(e,t,n){var r=Zb(e),i=r.fa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fa[r.currentUser.toKey()]=i}}function OA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=on(e.da.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ea.delete(a),n&&e.Ta.Sa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach((function(t){e.ma.containsKey(t)||AA(e,t)}))}function AA(e,t){e.Aa.delete(t.path.canonicalString());var n=e.Ra.get(t);null!==n&&(tO(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),RA(e))}function PA(e,t,n){var r,i=on(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof nA?(e.ma.addReference(a.key,t),NA(e,a)):a instanceof rA?(Gb("SyncEngine","Document no longer in limbo: "+a.key),e.ma.removeReference(a.key,t),e.ma.containsKey(a.key)||AA(e,a.key)):Xb()}}catch(o){i.e(o)}finally{i.f()}}function NA(e,t){var n=t.key,r=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(r)||(Gb("SyncEngine","New document in limbo: "+n),e.Aa.add(r),RA(e))}function RA(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){var t=e.Aa.values().next().value;e.Aa.delete(t);var n=new _w(kw.fromString(t)),r=e.pa.next();e.Va.set(r,new oA(n)),e.Ra=e.Ra.insert(n,r),eO(e.remoteStore,new fI(iS(Jx(n.path)),r,"TargetPurposeLimboResolution",Qw.ae))}}function DA(e,t,n){return LA.apply(this,arguments)}function LA(){return LA=Nt(At().mark((function e(t,n,r){var i,a,o,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Zb(t),a=[],o=[],u=[],e.t0=i.Ea.isEmpty(),e.t0){e.next=9;break}return i.Ea.forEach((function(e,t){u.push(i.wa(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=eC.qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ta.r_(a),e.next=9,function(){var e=Nt(At().mark((function e(t,n){var r,i,a,o,u,s,c,l;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zb(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Mw.forEach(n,(function(t){return Mw.forEach(t.Li,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Mw.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),zw(e.t0)){e.next=10;break}throw e.t0;case 10:Gb("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=on(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ji.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}function MA(e,t){return jA.apply(this,arguments)}function jA(){return jA=Nt(At().mark((function e(t,n){var r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Zb(t)).currentUser.isEqual(n)){e.next=11;break}return Gb("SyncEngine","User change. New user:",n.toKey()),e.next=5,iC(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ga.forEach((function(e){e.forEach((function(e){e.reject(new tw(ew.CANCELLED,t))}))})),e.ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,DA(r,i.ts);case 11:case"end":return e.stop()}}),e)}))),jA.apply(this,arguments)}function FA(e,t){var n=Zb(e),r=n.Va.get(t);if(r&&r.Ia)return ES().add(r.key);var i=ES(),a=n.da.get(t);if(!a)return i;var o,u=on(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Ea.get(s);i=i.unionWith(c.view.ia)}}catch(l){u.e(l)}finally{u.f()}return i}function UA(e,t){return VA.apply(this,arguments)}function VA(){return VA=Nt(At().mark((function e(t,n){var r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zb(t),e.next=3,pC(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ha(i),e.abrupt("return",(r.isPrimaryClient&&PA(r,n.targetId,a.ca),a));case 6:case"end":return e.stop()}}),e)}))),VA.apply(this,arguments)}function zA(e,t){return BA.apply(this,arguments)}function BA(){return BA=Nt(At().mark((function e(t,n){var r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zb(t),e.abrupt("return",yC(r.localStore,n).then((function(e){return DA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),BA.apply(this,arguments)}function qA(e,t,n,r){return WA.apply(this,arguments)}function WA(){return WA=Nt(At().mark((function e(t,n,r,i){var a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Zb(t),e.next=3,function(e,t){var n=Zb(e),r=Zb(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Dn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Mw.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,mO(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(CA(a,n,i||null),TA(a,n),function(e,t){Zb(Zb(e).mutationQueue).Cn(t)}(a.localStore,n)):Xb();case 11:return e.next=13,DA(a,o);case 13:e.next=16;break;case 15:Gb("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),WA.apply(this,arguments)}function HA(e,t){return KA.apply(this,arguments)}function KA(){return KA=Nt(At().mark((function e(t,n){var r,i,a,o,u,s,c,l;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tP(r=Zb(t)),nP(r),!0!==n||!0===r.ya){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,GA(r,i.toArray());case 5:return a=e.sent,r.ya=!0,e.next=9,RO(r.remoteStore,!0);case 9:o=on(a);try{for(o.s();!(u=o.n()).done;)s=u.value,eO(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ya){e.next=25;break}return c=[],l=Promise.resolve(),r.da.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return OA(r,t),hC(r.localStore,t,!0)})),tO(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,GA(r,c);case 21:return function(e){var t=Zb(e);t.Va.forEach((function(e,n){tO(t.remoteStore,n)})),t.ma.Rr(),t.Va=new Map,t.Ra=new A_(_w.comparator)}(r),r.ya=!1,e.next=25,RO(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),KA.apply(this,arguments)}function GA(e,t,n){return QA.apply(this,arguments)}function QA(){return QA=Nt(At().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Zb(t),a=[],o=[],u=on(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.da.get(c))||0===f.length){e.next=34;break}return e.next=11,fC(i.localStore,iS(f[0]));case 11:l=e.sent,h=on(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Ea.get(p),e.next=20,UA(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,vC(i.localStore,c);case 36:return m=e.sent,e.next=39,fC(i.localStore,m);case 39:return l=e.sent,e.next=42,lA(i,$A(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ta.r_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),QA.apply(this,arguments)}function $A(e){return Xx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function YA(e){return function(e){return Zb(Zb(e).persistence).Ni()}(Zb(e).localStore)}function XA(e,t,n,r){return JA.apply(this,arguments)}function JA(){return JA=Nt(At().mark((function e(t,n,r,i){var a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Zb(t)).ya){e.next=3;break}return e.abrupt("return",void Gb("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.da.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,yC(a.localStore,fS(o[0]));case 10:return u=e.sent,s=_E.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,F_.EMPTY_BYTE_STRING),e.next=14,DA(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,hC(a.localStore,n,!0);case 17:return OA(a,n,i),e.abrupt("break",20);case 19:Xb();case 20:case"end":return e.stop()}}),e)}))),JA.apply(this,arguments)}function ZA(e,t,n){return eP.apply(this,arguments)}function eP(){return eP=Nt(At().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=tP(t)).ya){e.next=45;break}a=on(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.da.has(u)){e.next=10;break}return Gb("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,vC(i.localStore,u);case 12:return s=e.sent,e.next=15,fC(i.localStore,s);case 15:return c=e.sent,e.next=18,lA(i,$A(s),c.targetId,!1,c.resumeToken);case 18:eO(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=on(r),e.prev=30,h=At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.da.has(t),!e.t0){e.next=5;break}return e.next=5,hC(i.localStore,t,!1).then((function(){tO(i.remoteStore,t),OA(i,t)})).catch(Dw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),eP.apply(this,arguments)}function tP(e){var t=Zb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kA.bind(null,t),t.Ta.r_=QO.bind(null,t.eventManager),t.Ta.Sa=$O.bind(null,t.eventManager),t}function nP(e){var t=Zb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xA.bind(null,t),t}function rP(e,t,n){var r=Zb(e);(function(){var e=Nt(At().mark((function e(t,n,r){var i,a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Zb(e),r=UE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Qr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(tA(i)),a=new eA(i,t.localStore,n.serializer),e.next=15,n.ba();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.H_(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ba();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,DA(t,s.Z_,void 0);case 31:return e.next=33,function(e,t){var n=Zb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Qr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Y_));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",($b("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var iP=function(){function e(){Gt(this,e),this.synchronizeTabs=!1}return $t(e,[{key:"initialize",value:function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=BC(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return rC(this.persistence,new tC,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new WT(KT.zr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new PC}},{key:"terminate",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),aP=function(e){Xt(n,e);var t=tn(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this)).Da=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return $t(n,[{key:"initialize",value:function(){var e=Nt(At().mark((function e(t){var r=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs(Jt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Da.initialize(this,t);case 4:return e.next=6,nP(this.Da.syncEngine);case 6:return e.next=8,mO(this.Da.remoteStore);case 8:return e.next=10,this.persistence.Vi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return rC(this.persistence,new tC,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new bT(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Gw(t,this.persistence);return new Kw(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=ZT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?aT.withCacheSize(this.cacheSizeBytes):aT.DEFAULT;return new YT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,VC(),zC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new PC}}]),n}(iP),oP=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,e,r,!1)).Da=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return $t(n,[{key:"initialize",value:function(){var e=Nt(At().mark((function e(t){var r,i=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs(Jt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Da.syncEngine,e.t0=this.sharedClientState instanceof AC,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Gs:qA.bind(null,r),zs:XA.bind(null,r),js:ZA.bind(null,r),Ni:YA.bind(null,r),Ws:zA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Vi(function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HA(i.Da.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=VC();if(!AC.v(t))throw new tw(ew.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ZT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new AC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(aP),uP=function(){function e(){Gt(this,e)}return $t(e,[{key:"initialize",value:function(){var e=Nt(At().mark((function e(t,n){var r=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return gA(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=MA.bind(null,this.syncEngine),e.next=12,RO(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new qO}},{key:"createDatastore",value:function(e){var t=BC(e.databaseInfo.databaseId),n=function(e){return new UC(e)}(e.databaseInfo);return function(e,t,n,r){return new GC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new $C(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return gA(t.syncEngine,e,0)}),RC.v()?new RC:new NC)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new uA(e,t,n,r,i,a);return o&&(u.ya=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zb(t),Gb("RemoteStore","RemoteStore shutting down."),n.y_.add(5),e.next=5,JC(n);case 5:n.S_.shutdown(),n.b_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function sP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Nt(At().mark((function r(){var i;return At().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var cP=function(){function e(t){Gt(this,e),this.observer=t,this.muted=!1}return $t(e,[{key:"next",value:function(e){this.observer.next&&this.va(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.va(this.observer.error,e):Qb("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ca",value:function(){this.muted=!0}},{key:"va",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),lP=function(){function e(t,n){var r=this;Gt(this,e),this.Fa=t,this.serializer=n,this.metadata=new nw,this.buffer=new Uint8Array,this.Ma=new TextDecoder("utf-8"),this.xa().then((function(e){e&&e.z_()?r.metadata.resolve(e.G_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.G_))))}),(function(e){return r.metadata.reject(e)}))}return $t(e,[{key:"close",value:function(){return this.Fa.cancel()}},{key:"getMetadata",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.xa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xa",value:function(){var e=Nt(At().mark((function e(){var t,n,r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ma.decode(t),r=Number(n),isNaN(r)&&this.Na("length string (".concat(n,") is not valid number")),e.next=9,this.Ba(r);case 9:return i=e.sent,e.abrupt("return",new JO(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"La",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Oa",value:function(){var e=Nt(At().mark((function e(){var t,n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.La()<0)){e.next=7;break}return e.next=3,this.ka();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.La())<0&&this.Na("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ba",value:function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ka();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Na("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ma.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Na",value:function(e){throw this.Fa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ka",value:function(){var e=Nt(At().mark((function e(){var t,n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Fa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fP=function(){function e(t){Gt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return $t(e,[{key:"lookup",value:function(){var e=Nt(At().mark((function e(t){var n,r=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new tw(ew.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Nt(At().mark((function e(t,n){var r,i,a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zb(t),i=KE(r.serializer)+"/documents",a={documents:n.map((function(e){return BE(r.serializer,e)}))},e.next=5,r.yo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=YE(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Jb(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new oE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Nt(At().mark((function e(){var t,n=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=_w.fromPath(t);n.mutations.push(new uE(r,n.precondition(r)))})),e.next=7,function(){var e=Nt(At().mark((function e(t,n){var r,i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zb(t),i=KE(r.serializer)+"/documents",a={writes:n.map((function(e){return XE(r.serializer,e)}))},e.next=3,r.Vo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xb();t=mw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new tw(ew.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(mw.min())?HS.exists(!1):HS.updateTime(t):HS.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(mw.min()))throw new tw(ew.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return HS.updateTime(t)}return HS.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),hP=function(){function e(t,n,r,i,a){Gt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.qa=r.maxAttempts,this.Ko=new qC(this.asyncQueue,"transaction_retry")}return $t(e,[{key:"run",value:function(){this.qa-=1,this.Qa()}},{key:"Qa",value:function(){var e=this;this.Ko.xo(Nt(At().mark((function t(){var n,r;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new fP(e.datastore),(r=e.Ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.$a(t)}))}))})).catch((function(t){e.$a(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ka",value:function(e){try{var t=this.updateFunction(e);return!$w(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"$a",value:function(e){var t=this;this.qa>0&&this.Ua(e)?(this.qa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Qa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ua",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!hE(t)}return!1}}]),e}(),dP=function(){function e(t,n,r,i){var a=this;Gt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qb.UNAUTHENTICATED,this.clientId=hw.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gb("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Gb("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return $t(e,[{key:"getConfiguration",value:function(){var e=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new tw(ew.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new nw;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Nt(At().mark((function n(){var r;return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=FO(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function pP(e,t){return vP.apply(this,arguments)}function vP(){return vP=Nt(At().mark((function e(t,n){var r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Gb("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,iC(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),vP.apply(this,arguments)}function yP(e,t){return mP.apply(this,arguments)}function mP(){return mP=Nt(At().mark((function e(t,n){var r,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,kP(t);case 3:return r=e.sent,Gb("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return PO(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return PO(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),mP.apply(this,arguments)}function gP(e){return"FirebaseError"===e.name?e.code===ew.FAILED_PRECONDITION||e.code===ew.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function kP(e){return bP.apply(this,arguments)}function bP(){return bP=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Gb("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,pP(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),gP(n=e.t0)){e.next=13;break}throw n;case 13:return $b("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,pP(t,new iP);case 16:e.next=21;break;case 18:return Gb("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,pP(t,new iP);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),bP.apply(this,arguments)}function wP(e){return _P.apply(this,arguments)}function _P(){return(_P=Nt(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Gb("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,yP(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Gb("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,yP(t,new uP);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xP(e){return kP(e).then((function(e){return e.persistence}))}function SP(e){return kP(e).then((function(e){return e.localStore}))}function EP(e){return wP(e).then((function(e){return e.remoteStore}))}function IP(e){return wP(e).then((function(e){return e.syncEngine}))}function TP(e){return wP(e).then((function(e){return e.datastore}))}function CP(e){return OP.apply(this,arguments)}function OP(){return OP=Nt(At().mark((function e(t){var n,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wP(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=sA.bind(null,n.syncEngine),r.onUnlisten=hA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),OP.apply(this,arguments)}function AP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new nw;return e.asyncQueue.enqueueAndForget(Nt(At().mark((function i(){return At().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cP({next:function(a){t.enqueueAndForget((function(){return KO(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new tw(ew.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new tw(ew.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new XO(Jx(n.path),a,{includeMetadataChanges:!0,W_:!0});return WO(e,o)},i.next=3,CP(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function PP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new nw;return e.asyncQueue.enqueueAndForget(Nt(At().mark((function i(){return At().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cP({next:function(n){t.enqueueAndForget((function(){return KO(e,o)})),n.fromCache&&"server"===r.source?i.reject(new tw(ew.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new XO(n,a,{includeMetadataChanges:!0,W_:!0});return WO(e,o)},i.next=3,CP(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function NP(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var RP=new Map;function DP(e,t,n){if(!n)throw new tw(ew.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function LP(e,t,n,r){if(!0===t&&!0===r)throw new tw(ew.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function MP(e){if(!_w.isDocumentKey(e))throw new tw(ew.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function jP(e){if(_w.isDocumentKey(e))throw new tw(ew.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function FP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Xb()}function UP(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tw(ew.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=FP(e);throw new tw(ew.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function VP(e,t){if(t<=0)throw new tw(ew.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var zP=function(){function e(t){var n,r;if(Gt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new tw(ew.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new tw(ew.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NP(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new tw(ew.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new tw(ew.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new tw(ew.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return $t(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),BP=function(){function e(t,n,r,i){Gt(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zP({}),this._settingsFrozen=!1}return $t(e,[{key:"app",get:function(){if(!this._app)throw new tw(ew.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new tw(ew.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zP(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new iw;switch(e.type){case"firstParty":return new sw(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new tw(ew.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=RP.get(e);t&&(Gb("ComponentProvider","Removing Datastore"),RP.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function qP(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=UP(e,BP))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&$b("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=qb.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ho(JSON.stringify({alg:"none",type:"JWT"})),Ho(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new tw(ew.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new qb(c)}e._authCredentials=new aw(new rw(u,s))}}var WP=function(){function e(t,n,r){Gt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return $t(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),HP=function(){function e(t,n,r){Gt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return $t(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new KP(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),KP=function(e){Xt(n,e);var t=tn(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this,e,r,Jx(i)))._path=i,a.type="collection",a}return $t(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new HP(this.firestore,null,new _w(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(WP);function GP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mu(e),DP("collection","path",t),e instanceof BP){var a=kw.fromString.apply(kw,[t].concat(r));return jP(a),new KP(e,null,a)}if(!(e instanceof HP||e instanceof KP))throw new tw(ew.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(kw.fromString.apply(kw,[t].concat(r)));return jP(o),new KP(e.firestore,null,o)}function QP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mu(e),1===arguments.length&&(t=hw.V()),DP("doc","path",t),e instanceof BP){var a=kw.fromString.apply(kw,[t].concat(r));return MP(a),new HP(e,null,new _w(a))}if(!(e instanceof HP||e instanceof KP))throw new tw(ew.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(kw.fromString.apply(kw,[t].concat(r)));return MP(o),new HP(e.firestore,e instanceof KP?e.converter:null,new _w(o))}function $P(e,t){return e=mu(e),t=mu(t),(e instanceof HP||e instanceof KP)&&(t instanceof HP||t instanceof KP)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function YP(e,t){return e=mu(e),t=mu(t),e instanceof WP&&t instanceof WP&&e.firestore===t.firestore&&uS(e._query,t._query)&&e.converter===t.converter}var XP=function(){function e(){var t=this;Gt(this,e),this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new qC(this,"async_queue_retry"),this.Xa=function(){var e=zC();e&&Gb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ko.No()};var n=zC();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xa)}return $t(e,[{key:"isShuttingDown",get:function(){return this.za}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.eu(),this.tu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.za){this.za=!0,this.Ya=e||!1;var t=zC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xa)}}},{key:"enqueue",value:function(e){var t=this;if(this.eu(),this.za)return new Promise((function(){}));var n=new nw;return this.tu((function(){return t.za&&t.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ga.push(e),t.nu()}))}},{key:"nu",value:function(){var e=Nt(At().mark((function e(){var t=this;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ga.length){e.next=14;break}return e.prev=1,e.next=4,this.Ga[0]();case 4:this.Ga.shift(),this.Ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),zw(e.t0)){e.next=12;break}throw e.t0;case 12:Gb("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ga.length>0&&this.Ko.xo((function(){return t.nu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"tu",value:function(e){var t=this,n=this.Wa.then((function(){return t.Ja=!0,e().catch((function(e){t.Ha=e,t.Ja=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Qb("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ja=!1,e}))}));return this.Wa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.eu(),this.Za.indexOf(e)>-1&&(t=0);var i=jO.createAndSchedule(this,e,t,n,(function(e){return r.ru(e)}));return this.ja.push(i),i}},{key:"eu",value:function(){this.Ha&&Xb()}},{key:"verifyOperationInProgress",value:function(){}},{key:"iu",value:function(){var e=Nt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Wa,e.next=3,t;case 3:if(t!==this.Wa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(e){var t,n=on(this.ja);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ou",value:function(e){var t=this;return this.iu().then((function(){t.ja.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=on(t.ja);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.iu()}))}},{key:"_u",value:function(e){this.Za.push(e)}},{key:"ru",value:function(e){var t=this.ja.indexOf(e);this.ja.splice(t,1)}}]),e}();function JP(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=on(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var ZP=function(){function e(){Gt(this,e),this._progressObserver={},this._taskCompletionResolver=new nw,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return $t(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),eN=function(e){Xt(n,e);var t=tn(n);function n(e,r,i,a){var o;return Gt(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new XP,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return $t(n,[{key:"_terminate",value:function(){return this._firestoreClient||nN(this),this._firestoreClient.terminate()}}]),n}(BP);function tN(e){return e._firestoreClient||nN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nN(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new K_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,NP(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new dP(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function rN(e,t,n){var r=new nw;return e.asyncQueue.enqueue(Nt(At().mark((function i(){var a;return At().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,pP(e,n);case 3:return i.next=5,yP(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),gP(a=i.t0)){i.next=13;break}throw a;case 13:$b("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function iN(e){return function(e){var t=new nw;return e.asyncQueue.enqueueAndForget(Nt(At().mark((function n(){return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=EA,n.next=3,IP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(tN(e=UP(e,eN)))}function aN(e){return function(e){return e.asyncQueue.enqueue(Nt(At().mark((function t(){var n,r;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xP(e);case 2:return n=t.sent,t.next=5,EP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Zb(e);return t.y_.delete(0),YC(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(tN(e=UP(e,eN)))}function oN(e){return function(e){return e.asyncQueue.enqueue(Nt(At().mark((function t(){var n,r;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xP(e);case 2:return n=t.sent,t.next=5,EP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Zb(t)).y_.add(0),e.next=4,JC(n);case 4:n.b_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(tN(e=UP(e,eN)))}function uN(e,t){var n=tN(e=UP(e,eN)),r=new ZP;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new lP(e,t)}(function(e,t){if(e instanceof Uint8Array)return sP(e,t);if(e instanceof ArrayBuffer)return sP(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?yE().encode(e):e),t)}(n,BC(t));e.asyncQueue.enqueueAndForget(Nt(At().mark((function t(){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rP,t.next=3,IP(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function sN(e,t){return function(e,t){return e.asyncQueue.enqueue(Nt(At().mark((function n(){return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Zb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qr.getNamedQuery(e,t)}))},n.next=3,SP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(tN(e=UP(e,eN)),t).then((function(t){return t?new WP(e,null,t.query):null}))}function cN(e){if(e._initialized||e._terminated)throw new tw(ew.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var lN=function(){function e(t){Gt(this,e),this._byteString=t}return $t(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(F_.fromBase64String(t))}catch(t){throw new tw(ew.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(F_.fromUint8Array(t))}}]),e}(),fN=function(){function e(){Gt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new tw(ew.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ww(n)}return $t(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var hN=$t((function e(t){Gt(this,e),this._methodName=t})),dN=function(){function e(t,n){if(Gt(this,e),!isFinite(t)||t<-90||t>90)throw new tw(ew.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new tw(ew.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return $t(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return dw(this._lat,e._lat)||dw(this._long,e._long)}}]),e}(),pN=/^__.*__$/,vN=function(){function e(t,n,r){Gt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return $t(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new eE(e,this.data,this.fieldMask,t,this.fieldTransforms):new ZS(e,this.data,t,this.fieldTransforms)}}]),e}(),yN=function(){function e(t,n,r){Gt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return $t(e,[{key:"toMutation",value:function(e,t){return new eE(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function mN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xb()}}var gN=function(){function e(t,n,r,i,a,o){Gt(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.au(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return $t(e,[{key:"path",get:function(){return this.settings.path}},{key:"uu",get:function(){return this.settings.uu}},{key:"cu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"lu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.Pu(e),r}},{key:"Iu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.au(),r}},{key:"Tu",value:function(e){return this.cu({path:void 0,hu:!0})}},{key:"Eu",value:function(e){return FN(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"au",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}},{key:"Pu",value:function(e){if(0===e.length)throw this.Eu("Document fields must not be empty");if(mN(this.uu)&&pN.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}]),e}(),kN=function(){function e(t,n,r){Gt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||BC(t)}return $t(e,[{key:"Ru",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new gN({uu:e,methodName:t,Au:n,path:ww.emptyPath(),hu:!1,du:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function bN(e){var t=e._freezeSettings(),n=BC(e._databaseId);return new kN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Ru(a.merge||a.mergeFields?2:0,t,n,i);DN("Data must be an object, but it was:",o,r);var u,s,c=NN(r,o);if(a.merge)u=new M_(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=on(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=LN(t,l.value,n);if(!o.contains(d))throw new tw(ew.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));UN(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new M_(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new vN(new vx(c),u,s)}var _N=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.apply(this,arguments)}return $t(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.uu)throw 1===e.uu?e.Eu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Eu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hN);function xN(e,t,n){return new gN({uu:3,Au:t.settings.Au,methodName:e._methodName,hu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var SN=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.apply(this,arguments)}return $t(n,[{key:"_toFieldTransform",value:function(e){return new qS(e.path,new LS)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hN),EN=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,e)).Vu=r,i}return $t(n,[{key:"_toFieldTransform",value:function(e){var t=xN(this,e,!0),n=this.Vu.map((function(e){return PN(e,t)})),r=new MS(n);return new qS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hN),IN=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,e)).Vu=r,i}return $t(n,[{key:"_toFieldTransform",value:function(e){var t=xN(this,e,!0),n=this.Vu.map((function(e){return PN(e,t)})),r=new FS(n);return new qS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hN),TN=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,e)).mu=r,i}return $t(n,[{key:"_toFieldTransform",value:function(e){var t=new VS(e.serializer,AS(e.serializer,this.mu));return new qS(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hN);function CN(e,t,n,r){var i=e.Ru(1,t,n);DN("Data must be an object, but it was:",i,r);var a=[],o=vx.empty();C_(r,(function(e,r){var u=jN(t,e,n);r=mu(r);var s=i.Iu(u);if(r instanceof _N)a.push(u);else{var c=PN(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new M_(a);return new yN(o,u,i.fieldTransforms)}function ON(e,t,n,r,i,a){var o=e.Ru(1,t,n),u=[LN(t,r,n)],s=[i];if(a.length%2!=0)throw new tw(ew.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(LN(t,a[c])),s.push(a[c+1]);for(var l=[],f=vx.empty(),h=u.length-1;h>=0;--h)if(!UN(l,u[h])){var d=u[h],p=s[h];p=mu(p);var v=o.Iu(d);if(p instanceof _N)l.push(d);else{var y=PN(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new M_(l);return new yN(f,m,o.fieldTransforms)}function AN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return PN(n,e.Ru(r?4:3,t))}function PN(e,t){if(RN(e=mu(e)))return DN("Unsupported field value:",t,e),NN(e,t);if(e instanceof hN)return function(e,t){if(!mN(t.uu))throw t.Eu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Eu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&4!==t.uu)throw t.Eu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=on(e);try{for(a.s();!(n=a.n()).done;){var o=PN(n.value,t.Tu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=mu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return AS(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=yw.fromDate(e);return{timestampValue:ME(t.serializer,n)}}if(e instanceof yw){var r=new yw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ME(t.serializer,r)}}if(e instanceof dN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lN)return{bytesValue:jE(t.serializer,e._byteString)};if(e instanceof HP){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Eu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:VE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Eu("Unsupported field value: ".concat(FP(e)))}(e,t)}function NN(e,t){var n={};return O_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):C_(e,(function(e,r){var i=PN(r,t.lu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function RN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yw||e instanceof dN||e instanceof lN||e instanceof HP||e instanceof hN)}function DN(e,t,n){if(!RN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=FP(n);throw"an object"===r?t.Eu(e+" a custom object"):t.Eu(e+" "+r)}}function LN(e,t,n){if((t=mu(t))instanceof fN)return t._internalPath;if("string"==typeof t)return jN(e,t);throw FN("Field path arguments must be of type string or ",e,!1,void 0,n)}var MN=new RegExp("[~\\*/\\[\\]]");function jN(e,t,n){if(t.search(MN)>=0)throw FN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return nn(fN,Kt(t.split(".")))._internalPath}catch(N){throw FN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function FN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new tw(ew.INVALID_ARGUMENT,u+e+s)}function UN(e,t){return e.some((function(e){return e.isEqual(t)}))}var VN=function(){function e(t,n,r,i,a){Gt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return $t(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new HP(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new zN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(BN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),zN=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.apply(this,arguments)}return $t(n,[{key:"data",value:function(){return Gs(Jt(n.prototype),"data",this).call(this)}}]),n}(VN);function BN(e,t){return"string"==typeof t?jN(e,t):t instanceof fN?t._internalPath:t._delegate._internalPath}function qN(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new tw(ew.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var WN=$t((function e(){Gt(this,e)})),HN=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.apply(this,arguments)}return $t(n)}(WN);function KN(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof WN&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof QN})).length,n=e.filter((function(e){return e instanceof GN})).length;if(t>1||t>0&&n>0)throw new tw(ew.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=on(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var GN=function(e){Xt(n,e);var t=tn(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return $t(n,[{key:"_apply",value:function(e){var t=this._parse(e);return oR(e._query,t),new WP(e.firestore,e.converter,aS(e._query,t))}},{key:"_parse",value:function(e){var t=bN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new tw(ew.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){aR(o,a);var s,c=[],l=on(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(iR(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=iR(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||aR(o,a),u=AN(n,t,o,"in"===a||"not-in"===a);return Sx.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HN);var QN=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return $t(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Ex.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=on(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;oR(r,a),r=aS(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new WP(e.firestore,e.converter,aS(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(WN);var $N=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return $t(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new tw(ew.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new tw(ew.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new wx(t,n);return function(e,t){if(null===eS(e)){var n=tS(e);null!==n&&uR(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new WP(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Yx(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(HN);var YN=function(e){Xt(n,e);var t=tn(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return $t(n,[{key:"_apply",value:function(e){return new WP(e.firestore,e.converter,oS(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HN);var XN=function(e){Xt(n,e);var t=tn(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return $t(n,[{key:"_apply",value:function(e){var t=rR(e,this.type,this._docOrFields,this._inclusive);return new WP(e.firestore,e.converter,function(e,t){return new Yx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HN);function JN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return XN._create("startAt",t,!0)}function ZN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return XN._create("startAfter",t,!1)}var eR=function(e){Xt(n,e);var t=tn(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return $t(n,[{key:"_apply",value:function(e){var t=rR(e,this.type,this._docOrFields,this._inclusive);return new WP(e.firestore,e.converter,function(e,t){return new Yx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HN);function tR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eR._create("endBefore",t,!1)}function nR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eR._create("endAt",t,!0)}function rR(e,t,n,r){if(n[0]=mu(n[0]),n[0]instanceof VN)return function(e,t,n,r,i){if(!r)throw new tw(ew.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=on(rS(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(rx(t,r.key));else{var c=r.data.field(s.field);if(q_(c))throw new tw(ew.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new tw(ew.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new gx(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=bN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new tw(ew.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new tw(ew.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!nS(e)&&-1!==c.indexOf("/"))throw new tw(ew.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(kw.fromString(c));if(!_w.isDocumentKey(l))throw new tw(ew.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new _w(l);u.push(rx(t,f))}else{var h=AN(n,r,c);u.push(h)}}return new gx(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function iR(e,t,n){if("string"==typeof(n=mu(n))){if(""===n)throw new tw(ew.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nS(t)&&-1!==n.indexOf("/"))throw new tw(ew.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(kw.fromString(n));if(!_w.isDocumentKey(r))throw new tw(ew.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return rx(e,new _w(r))}if(n instanceof HP)return rx(e,n._key);throw new tw(ew.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(FP(n),"."))}function aR(e,t){if(!Array.isArray(e)||0===e.length)throw new tw(ew.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function oR(e,t){if(t.isInequality()){var n=tS(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new tw(ew.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=eS(e);null!==i&&uR(e,r,i)}var a=function(e,t){var n,r=on(e);try{for(r.s();!(n=r.n()).done;){var i,a=on(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new tw(ew.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new tw(ew.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function uR(e,t,n){if(!n.isEqual(t))throw new tw(ew.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var sR=function(){function e(){Gt(this,e)}return $t(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Y_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return z_(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(B_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xb()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return C_(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new dN(z_(e.latitude),z_(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=W_(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(H_(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=V_(e);return new yw(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=kw.fromString(e);Jb(lI(n));var r=new G_(n.get(1),n.get(3)),i=new _w(n.popFirst(5));return r.isEqual(t)||Qb("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function cR(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var lR=function(e){Xt(n,e);var t=tn(n);function n(e){var r;return Gt(this,n),(r=t.call(this)).firestore=e,r}return $t(n,[{key:"convertBytes",value:function(e){return new lN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new HP(this.firestore,null,t)}}]),n}(sR);var fR=function(){function e(t,n){Gt(this,e),this.hasPendingWrites=t,this.fromCache=n}return $t(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),hR=function(e){Xt(n,e);var t=tn(n);function n(e,r,i,a,o,u){var s;return Gt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return $t(n,[{key:"exists",value:function(){return Gs(Jt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new dR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(BN("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(VN),dR=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.apply(this,arguments)}return $t(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Gs(Jt(n.prototype),"data",this).call(this,e)}}]),n}(hR),pR=function(){function e(t,n,r,i){Gt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new fR(i.hasPendingWrites,i.fromCache),this.query=r}return $t(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new dR(n._firestore,n._userDataWriter,r.key,r,new fR(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new tw(ew.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new dR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new dR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:vR(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function vR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xb()}}function yR(e,t){return e instanceof hR&&t instanceof hR?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof pR&&t instanceof pR&&e._firestore===t._firestore&&YP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var mR=function(e){Xt(n,e);var t=tn(n);function n(e){var r;return Gt(this,n),(r=t.call(this)).firestore=e,r}return $t(n,[{key:"convertBytes",value:function(e){return new lN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new HP(this.firestore,null,t)}}]),n}(sR);function gR(e){e=UP(e,HP);var t=UP(e.firestore,eN),n=tN(t),r=new mR(t);return function(e,t){var n=new nw;return e.asyncQueue.enqueueAndForget(Nt(At().mark((function r(){return At().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Nt(At().mark((function e(t,n,r){var i,a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Zb(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new tw(ew.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=FO(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,SP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new hR(t,r,e._key,n,new fR(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function kR(e){e=UP(e,WP);var t=UP(e.firestore,eN),n=tN(t),r=new mR(t);return qN(e._query),PP(n,e._query).then((function(n){return new pR(t,r,e,n)}))}function bR(e){e=UP(e,WP);var t=UP(e.firestore,eN),n=tN(t),r=new mR(t);return function(e,t){var n=new nw;return e.asyncQueue.enqueueAndForget(Nt(At().mark((function r(){return At().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Nt(At().mark((function e(t,n,r){var i,a,o,u,s;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pC(t,n,!0);case 3:i=e.sent,a=new iA(n,i.ss),o=a.sa(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=FO(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,SP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new pR(t,r,e,n)}))}function wR(e){e=UP(e,WP);var t=UP(e.firestore,eN),n=tN(t),r=new mR(t);return PP(n,e._query,{source:"server"}).then((function(n){return new pR(t,r,e,n)}))}function _R(e,t,n){e=UP(e,HP);var r=UP(e.firestore,eN),i=cR(e.converter,t,n);return IR(r,[wN(bN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,HS.none())])}function xR(e,t,n){e=UP(e,HP);for(var r=UP(e.firestore,eN),i=bN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return IR(r,[("string"==typeof(t=mu(t))||t instanceof fN?ON(i,"updateDoc",e._key,t,n,o):CN(i,"updateDoc",e._key,t)).toMutation(e._key,HS.exists(!0))])}function SR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=mu(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||JP(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(JP(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof HP)l=UP(e.firestore,eN),f=Jx(e._key.path),c={next:function(t){n[s]&&n[s](TR(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=UP(e,WP);l=UP(p.firestore,eN),f=p._query;var v=new mR(l);c={next:function(e){n[s]&&n[s](new pR(l,v,p,e))},error:n[s+1],complete:n[s+2]},qN(e._query)}return function(e,t,n,r){var i=new cP(r),a=new XO(t,i,n);return e.asyncQueue.enqueueAndForget(Nt(At().mark((function t(){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=WO,t.next=3,CP(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ca(),e.asyncQueue.enqueueAndForget(Nt(At().mark((function t(){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=KO,t.next=3,CP(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(tN(l),f,h,c)}function ER(e,t){return function(e,t){var n=new cP(t);return e.asyncQueue.enqueueAndForget(Nt(At().mark((function t(){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Zb(e).O_.add(t),t.next()},t.next=3,CP(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ca(),e.asyncQueue.enqueueAndForget(Nt(At().mark((function t(){return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Zb(e).O_.delete(t)},t.next=3,CP(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(tN(e=UP(e,eN)),JP(t)?t:{next:t})}function IR(e,t){return function(e,t){var n=new nw;return e.asyncQueue.enqueueAndForget(Nt(At().mark((function r(){return At().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=pA,r.next=3,IP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(tN(e),t)}function TR(e,t,n){var r=n.docs.get(t._key),i=new mR(e);return new hR(e,i,t._key,r,new fR(n.hasPendingWrites,n.fromCache),t.converter)}var CR={maxAttempts:5},OR=function(){function e(t,n){Gt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=bN(t)}return $t(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=AR(e,this._firestore),i=cR(r.converter,t,n),a=wN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,HS.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=AR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=mu(t))||t instanceof fN?ON(this._dataReader,"WriteBatch.update",i._key,t,n,o):CN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,HS.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=AR(e,this._firestore);return this._mutations=this._mutations.concat(new oE(t._key,HS.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new tw(ew.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function AR(e,t){if((e=mu(e)).firestore!==t)throw new tw(ew.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var PR=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,e,r))._firestore=e,i}return $t(n,[{key:"get",value:function(e){var t=this,r=AR(e,this._firestore),i=new mR(this._firestore);return Gs(Jt(n.prototype),"get",this).call(this,e).then((function(e){return new hR(t._firestore,i,r._key,e._document,new fR(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Gt(this,e),this._firestore=t,this._transaction=n,this._dataReader=bN(t)}return $t(e,[{key:"get",value:function(e){var t=this,n=AR(e,this._firestore),r=new lR(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Xb();var i=e[0];if(i.isFoundDocument())return new VN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new VN(t._firestore,r,n._key,null,n.converter);throw Xb()}))}},{key:"set",value:function(e,t,n){var r=AR(e,this._firestore),i=cR(r.converter,t,n),a=wN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=AR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=mu(t))||t instanceof fN?ON(this._dataReader,"Transaction.update",i._key,t,n,o):CN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=AR(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function NR(e,t,n){e=UP(e,eN);var r=Object.assign(Object.assign({},CR),n);return function(e){if(e.maxAttempts<1)throw new tw(ew.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new nw;return e.asyncQueue.enqueueAndForget(Nt(At().mark((function i(){var a;return At().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,TP(e);case 2:a=i.sent,new hP(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(tN(e),(function(n){return t(new PR(e,n))}),r)}function RR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new EN("arrayUnion",t)}function DR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new IN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wb=e}(ds),os(new gu("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new eN(new ow(e.getProvider("auth-internal")),new lw(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new tw(ew.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new G_(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ks(Bb,"4.1.0",e),ks(Bb,"4.1.0","esm2017")}();function LR(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new tw("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function MR(){if("undefined"===typeof Uint8Array)throw new tw("unimplemented","Uint8Arrays are not available in this environment.")}function jR(){if("undefined"==typeof atob)throw new tw("unimplemented","Blobs are unavailable in Firestore in this environment.")}var FR=function(){function e(t){Gt(this,e),this._delegate=t}return $t(e,[{key:"toBase64",value:function(){return jR(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return MR(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return jR(),new e(lN.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return MR(),new e(lN.fromUint8Array(t))}}]),e}();function UR(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=on(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var VR=function(){function e(){Gt(this,e)}return $t(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){cN(e=UP(e,eN));var n=tN(e);if(n._uninitializedComponentsProvider)throw new tw(ew.FAILED_PRECONDITION,"SDK cache is already specified.");$b("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new uP;return rN(n,i,new aP(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){cN(e=UP(e,eN));var t=tN(e);if(t._uninitializedComponentsProvider)throw new tw(ew.FAILED_PRECONDITION,"SDK cache is already specified.");$b("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new uP;return rN(t,r,new oP(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new tw(ew.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new nw;return e._queue.enqueueAndForgetEvenWhileRestricted(Nt(At().mark((function n(){return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Nt(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fw.v()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Fw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ZT(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),zR=function(){function e(t,n,r){var i=this;Gt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof G_||(this._appCompat=t)}return $t(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||$b("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qP(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return aN(this._delegate)}},{key:"disableNetwork",value:function(){return oN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&LP("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return iN(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return ER(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new tw("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new tD(this,GP(this._delegate,e))}catch(t){throw GR(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new KR(this,QP(this._delegate,e))}catch(t){throw GR(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new JR(this,function(e,t){if(e=UP(e,BP),DP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new tw(ew.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new WP(e,null,function(e){return new Yx(kw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw GR(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return NR(this._delegate,(function(n){return e(new qR(t,n))}))}},{key:"batch",value:function(){var e=this;return tN(this._delegate),new WR(new OR(this._delegate,(function(t){return IR(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return uN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return sN(this._delegate,e).then((function(e){return e?new JR(t,e):null}))}}]),e}(),BR=function(e){Xt(n,e);var t=tn(n);function n(e){var r;return Gt(this,n),(r=t.call(this)).firestore=e,r}return $t(n,[{key:"convertBytes",value:function(e){return new FR(new lN(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return KR.forKey(t,this.firestore,null)}}]),n}(sR);var qR=function(){function e(t,n){Gt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new BR(t)}return $t(e,[{key:"get",value:function(e){var t=this,n=nD(e);return this._delegate.get(n).then((function(e){return new YR(t._firestore,new hR(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=nD(e);return n?(LR("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nD(e);return this._delegate.delete(t),this}}]),e}(),WR=function(){function e(t){Gt(this,e),this._delegate=t}return $t(e,[{key:"set",value:function(e,t,n){var r=nD(e);return n?(LR("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nD(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),HR=function(){function e(t,n,r){Gt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return $t(e,[{key:"fromFirestore",value:function(e,t){var n=new dR(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XR(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new BR(t),n),i.set(n,a)),a}}]),e}();HR.INSTANCES=new WeakMap;var KR=function(){function e(t,n){Gt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BR(t)}return $t(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new tD(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new tD(this.firestore,GP(this._delegate,e))}catch(t){throw GR(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=mu(e))instanceof HP&&$P(this._delegate,e)}},{key:"set",value:function(e,t){t=LR("DocumentReference.set",t);try{return t?_R(this._delegate,e,t):_R(this._delegate,e)}catch(n){throw GR(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?xR(this._delegate,e):xR.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw GR(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return IR(UP(e.firestore,eN),[new oE(e._key,HS.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QR(n),a=$R(n,(function(t){return new YR(e.firestore,new hR(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return SR(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?gR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=UP(e,HP);var t=UP(e.firestore,eN);return AP(tN(t),e._key,{source:"server"}).then((function(n){return TR(t,e,n)}))}(this._delegate):function(e){e=UP(e,HP);var t=UP(e.firestore,eN);return AP(tN(t),e._key).then((function(n){return TR(t,e,n)}))}(this._delegate),t.then((function(e){return new YR(n.firestore,new hR(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(HR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new tw("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new HP(n._delegate,r,new _w(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new HP(n._delegate,r,t))}}]),e}();function GR(e,t,n){return e.message=e.message.replace(t,n),e}function QR(e){var t,n=on(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!UR(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function $R(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=UR(e[0])?e[0]:UR(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var YR=function(){function e(t,n){Gt(this,e),this._firestore=t,this._delegate=n}return $t(e,[{key:"ref",get:function(){return new KR(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return yR(this._delegate,e._delegate)}}]),e}(),XR=function(e){Xt(n,e);var t=tn(n);function n(){return Gt(this,n),t.apply(this,arguments)}return $t(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Xb()}(void 0!==t),t}}]),n}(YR),JR=function(){function e(t,n){Gt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BR(t)}return $t(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,KN(this._delegate,function(e,t,n){var r=t,i=BN("where",e);return GN._create(i,r,n)}(t,n,r)))}catch(i){throw GR(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,KN(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=BN("orderBy",e);return $N._create(n,t)}(t,n)))}catch(r){throw GR(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,KN(this._delegate,function(e){return VP("limit",e),YN._create("limit",e,"F")}(t)))}catch(n){throw GR(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,KN(this._delegate,function(e){return VP("limitToLast",e),YN._create("limitToLast",e,"L")}(t)))}catch(n){throw GR(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,KN(this._delegate,JN.apply(void 0,arguments)))}catch(t){throw GR(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,KN(this._delegate,ZN.apply(void 0,arguments)))}catch(t){throw GR(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,KN(this._delegate,tR.apply(void 0,arguments)))}catch(t){throw GR(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,KN(this._delegate,nR.apply(void 0,arguments)))}catch(t){throw GR(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return YP(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?bR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?wR(this._delegate):kR(this._delegate)).then((function(e){return new eD(t.firestore,new pR(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QR(n),a=$R(n,(function(t){return new eD(e.firestore,new pR(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return SR(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(HR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),ZR=function(){function e(t,n){Gt(this,e),this._firestore=t,this._delegate=n}return $t(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new XR(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),eD=function(){function e(t,n){Gt(this,e),this._firestore=t,this._delegate=n}return $t(e,[{key:"query",get:function(){return new JR(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new XR(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ZR(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new XR(n._firestore,r))}))}},{key:"isEqual",value:function(e){return yR(this._delegate,e._delegate)}}]),e}(),tD=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return $t(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new KR(this.firestore,e):null}},{key:"doc",value:function(e){try{return new KR(this.firestore,void 0===e?QP(this._delegate):QP(this._delegate,e))}catch(t){throw GR(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=UP(e.firestore,eN),r=QP(e),i=cR(e.converter,t);return IR(n,[wN(bN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,HS.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new KR(t.firestore,e)}))}},{key:"isEqual",value:function(e){return $P(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(HR.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(JR);function nD(e){return UP(e,HP)}var rD=function(){function e(){Gt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=nn(fN,n)}return $t(e,[{key:"isEqual",value:function(e){return(e=mu(e))instanceof fN&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ww.keyField().canonicalString())}}]),e}(),iD=function(){function e(t){Gt(this,e),this._delegate=t}return $t(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new SN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new _N("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=RR.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=DR.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new TN("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),aD={Firestore:zR,GeoPoint:dN,Timestamp:yw,Blob:FR,Transaction:qR,WriteBatch:WR,DocumentReference:KR,DocumentSnapshot:YR,Query:JR,QueryDocumentSnapshot:XR,QuerySnapshot:eD,CollectionReference:tD,FieldPath:rD,FieldValue:iD,setLogLevel:function(e){!function(e){Hb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new gu("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},aD)))}(e,(function(e,t){return new zR(e,t,new VR)})),e.registerVersion("@firebase/firestore-compat","0.3.14")}(Hs);var oD,uD="firebasestorage.googleapis.com",sD="storageBucket",cD=function(e){Xt(n,e);var t=tn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Gt(this,n),(i=t.call(this,lD(e),"Firebase Storage: ".concat(r," (").concat(lD(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(en(i),n.prototype),i}return $t(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return lD(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(iu);function lD(e){return"storage/"+e}function fD(){return new cD(oD.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function hD(){return new cD(oD.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dD(){return new cD(oD.CANCELED,"User canceled the upload/download.")}function pD(e){return new cD(oD.INVALID_ARGUMENT,e)}function vD(){return new cD(oD.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(oD||(oD={}));var yD,mD=function(){function e(t,n){Gt(this,e),this.bucket=t,this.path_=n}return $t(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new cD(oD.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===uD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new cD(oD.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),gD=function(){function e(t){Gt(this,e),this.promise_=Promise.reject(t)}return $t(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function kD(e,t,n,r){if(r<t)throw pD("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw pD("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function bD(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function wD(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(yD||(yD={}));var _D=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];Gt(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return $t(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=fD();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?vD():dD());else i(hD())}};this.canceled_?t(0,new xD(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new xD(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===yD.NO_ERROR,a=r.getStatus();if(!n||wD(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===yD.ABORT;t(!1,new xD(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new xD(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),xD=$t((function e(t,n,r){Gt(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function SD(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}var ED=function(){function e(t,n){Gt(this,e),this._service=t,this._location=n instanceof mD?n:mD.makeFromUrl(n,t.host)}return $t(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new mD(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return SD(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new mD(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new cD(oD.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function ID(e,t){var n=null===t||void 0===t?void 0:t[sD];return null==n?null:mD.makeFromBucketSpec(n,e)}var TD=function(){function e(t,n,r,i,a){Gt(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=uD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?mD.makeFromBucketSpec(i,this._host):ID(this._host,this.app.options)}return $t(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=mD.makeFromBucketSpec(this._url,e):this._bucket=ID(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){kD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){kD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Nt(At().mark((function e(){var t,n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Nt(At().mark((function e(){var t,n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new ED(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new gD(vD());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=bD(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new _D(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Nt(At().mark((function e(t,n){var r,i,a,o;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=Wt(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),CD="@firebase/storage",OD="0.11.2",AD="storage";function PD(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new TD(r,i,a,n,ds)}os(new gu(AD,PD,"PUBLIC").setMultipleInstances(!0)),ks(CD,OD,""),ks(CD,OD,"esm2017");var ND,RD=Hs.initializeApp({apiKey:"AIzaSyA9BnlX96fMf7XiUVCFRsoQzG8DGERJkeY",authDomain:"disneyplus-clone-a33d5.firebaseapp.com",projectId:"disneyplus-clone-a33d5",storageBucket:"disneyplus-clone-a33d5.appspot.com",messagingSenderId:"37918794208",appId:"1:37918794208:web:dbe9842dfe1dda522a4b85",measurementId:"G-DRVLJKWRWG"}).firestore(),DD=(Hs.auth(),new Hs.auth.GoogleAuthProvider,RD);var LD,MD,jD,FD,UD,VD,zD,BD,qD,WD,HD=function(){var e=A();return(0,t.useEffect)((function(){DD.collection("movies").onSnapshot((function(t){var n=t.docs.map((function(e){return Ne({id:e.id},e.data())}));e(Tt(n))}))}),[]),(0,Ft.jsxs)(KD,{children:[(0,Ft.jsx)(Oo,{}),(0,Ft.jsx)(Lo,{}),(0,Ft.jsx)(Fo,{})]})},KD=po.main(ND||(ND=Ut(['\n   min-height: calc(100vh - 70px);\n   padding: 0 calc(3.5vw + 5px);\n   position:relative;\n   overflow-x:hidden;\n\n   &:before{\n    background:url("home-background.png") center center / cover no-repeat fixed;\n    content:"";\n    position:absolute;\n    top:0;\n    left:0;\n    right:0;\n    bottom:0;\n    z-index:-1;\n   }\n\n\n'])));var GD,QD,$D,YD,XD,JD,ZD=function(){return(0,Ft.jsxs)(eL,{children:[(0,Ft.jsx)(tL,{children:(0,Ft.jsx)("img",{src:"DisneyBg.jpg",alt:"bg"})}),(0,Ft.jsx)(nL,{children:(0,Ft.jsx)("img",{src:"Bg.png",alt:"tt"})}),(0,Ft.jsxs)(rL,{children:[(0,Ft.jsxs)(iL,{children:[(0,Ft.jsx)("img",{src:"play-icon-black.png",alt:"b"}),(0,Ft.jsx)("span",{children:"PLAY"})]}),(0,Ft.jsxs)(aL,{children:[(0,Ft.jsx)("img",{src:"play-icon-white.png",alt:"b"}),(0,Ft.jsx)("span",{children:"Trailer"})]}),(0,Ft.jsx)(oL,{children:(0,Ft.jsx)("span",{children:"+"})}),(0,Ft.jsx)(uL,{children:(0,Ft.jsx)("img",{src:"group-icon.png",alt:"g"})})]}),(0,Ft.jsx)(sL,{children:"2018 . 7m . Family , Fantasy, kids, Animation."}),(0,Ft.jsxs)(cL,{children:["Disney Plus is an on-demand streaming service created by ",(0,Ft.jsx)("br",{})," The Walt Disney Company. Subscribers can watch thousands of ",(0,Ft.jsx)("br",{})," Disney movies and shows from all of the studio's brands, ",(0,Ft.jsx)("br",{})," including Pixar, Marvel, Star Wars, National Geographic,  ",(0,Ft.jsx)("br",{})," and 20th Century Studios."]})]})},eL=po.div(LD||(LD=Ut(["\n   min-height:calc(100vh-70px);\n   padding: 0 calc(3.5vw+5px);\n   position:relative;\n   padding:36px;\n   \n\n"]))),tL=po.div(MD||(MD=Ut(["\nposition:fixed;\ntop:0;\nleft:0;\nbottom:0;\nright:0;\nz-index:-1;\nopacity:0.5;\n\n  img{\n    width:100%;\n    height:100%;\n    object-fit:cover;\n  }\n\n"]))),nL=po.div(jD||(jD=Ut(["\nmargin-top:30px;\nheight:45vh;\nwidth:90vw;\nmin-height:200px;\nmin-width:250px;\nmargin-bottom:20px;\n\nimg{\n    width:50%;\n    height:100%;\n    object-fit:cover;\n}\n\n"]))),rL=po.div(FD||(FD=Ut(["\n display:flex;\n align-items:center;\n margin-left:65px;\n\n"]))),iL=po.button(UD||(UD=Ut(["\nborder-radius:4px;\nfont-size:15px;\ndisplay:flex;\nalign-items:center;\nheight:52px;\nbackground:rgb(249, 249, 249);\nborder:none;\npadding:0px 24px;\nmargin-right:23px;\nletter-spacing:2px;\ncursor:pointer;\n\n&:hover{\n    border:4px solid white;\n    background:transparent;\n    color:burlywood;\n    font-weight:800;\n}\n\n"]))),aL=po.div(VD||(VD=Ut(["\nbackground:rgba(0, 0, 0, 0.1);\nborder-radius:4px;\nfont-size:15px;\ndisplay:flex;\nalign-items:center;\nheight:52px;\ncolor:rgb(249, 249, 249);\nborder:1px solid rgb(249, 249, 249);\npadding:0px 24px;\nmargin-right:23px;\nletter-spacing:2px;\ncursor:pointer;\n\n&:hover{\n    background:rgb(190, 190, 190);\n}\n"]))),oL=po.button(zD||(zD=Ut(["\nwidth:44px;\nheight:44px;\ndisplay:flex;\nalign-item:center;\njustify-content:center;\nfont-weight:800;\nborder-radius:50%;\nborder:2px solid white;\nbackground-color: rgba(0,0,0,0.3);\ncolor:white;\ncursor:pointer;\nmargin-right:16px;\nspan{\n    font-size:33px;\n}\n\n"]))),uL=po(oL)(BD||(BD=Ut(["\n\n"]))),sL=po.div(qD||(qD=Ut(["\ncolor: rgb(249, 249, 249);\nfont-size:16px;\nmin-height:20px;\nmargin-top:27px;\nmargin-left:65px;\nfont-weight:900;\n"]))),cL=po.div(WD||(WD=Ut(["\nline-height:1.6;\nfont-size:20px;\nmargin-top:17px;\ncolor:rgb(249, 249, 249);\nmargin-left:65px;\nfont-weight:600;\nletter-spacing:0.7px;\n"])));var lL=function(){return(0,Ft.jsx)(fL,{children:(0,Ft.jsxs)(hL,{children:[(0,Ft.jsx)(dL,{src:"cta-logo-one.svg"}),(0,Ft.jsx)(vL,{children:"GET ALL THERE"}),(0,Ft.jsx)(yL,{children:"Get premier Access to Raya and the Last Dragon for you with a Disney+ Subscription. As of 12/07/2023, the price and the Disney Bundle will increase by $1."}),(0,Ft.jsx)(pL,{src:"cta-logo-two.png"})]})})},fL=po.div(GD||(GD=Ut(['\n  position:relative;\n  min-height: calc(100vh - 70px);\n  display:flex;\n  align-items:top;\n  justify-content:center;\n\n  &:before{\n    background-size:cover;\n    background-position:top;\n    background-repeat:no-repeat;\n    background:url("login-background.jpg");\n    content:"";\n    position:absolute;\n    top:0;\n    left:0;\n    right:0;\n    bottom:0;\n    opacity:0.7;\n    z-index:-1;\n   }\n']))),hL=po.div(QD||(QD=Ut(["\n max-width:1050px;\n padding:80px 40px;\n width:100%;\n display:flex;\n flex-direction:column;\n margin-top:100px;\n\n\n"]))),dL=po.img($D||($D=Ut(["\n\n"]))),pL=po.img(YD||(YD=Ut(["\n margin-top:20px;\n"]))),vL=po.a(XD||(XD=Ut(["\n  width:100%;\n  background-color:#0063e5;\n  font-weight:900;\n  padding:18px 0;\n  color:#f9f9f9;\n  border-radius:7px;\n  text-align:center;\n  margin-top:10px;\n  font-size:16px;\n  cursor:pointer;\n  letter-spacing:1.5px;\n  margin-bottom:14px;\n  transition:all 250ns;\n\n\n  &:hover{\n    background-color:#0483ee;\n  }\n\n"]))),yL=po.p(JD||(JD=Ut(["\n font-size:12px;\n letter-spacing:1.5px;\n text-align:center;\n font-weight:500;\n line-height:1.5;\n"])));var mL=function(){return(0,Ft.jsx)(xr,{children:(0,Ft.jsxs)("div",{className:"App",children:[(0,Ft.jsx)(wo,{}),(0,Ft.jsxs)(yr,{children:[(0,Ft.jsx)(pr,{path:"/",element:(0,Ft.jsx)(HD,{})}),(0,Ft.jsx)(pr,{path:"/detail",element:(0,Ft.jsx)(ZD,{})}),(0,Ft.jsx)(pr,{path:"/login",element:(0,Ft.jsx)(lL,{})})]})]})})},gL=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},kL=document.getElementById("root");(0,i.s)(kL).render((0,Ft.jsx)(t.StrictMode,{children:(0,Ft.jsx)(E,{store:Ot,children:(0,Ft.jsx)(mL,{})})})),gL()}()}();
//# sourceMappingURL=main.df926e92.js.map